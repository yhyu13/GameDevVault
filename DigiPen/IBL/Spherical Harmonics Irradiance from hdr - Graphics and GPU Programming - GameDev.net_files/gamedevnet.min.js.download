try{!function(y){if(y){var l,i,s,r,o,n,p,a,d,u={},e=y.top.TraceKit,c=[].slice,g="?",h=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;u.noConflict=function(){return y.top.TraceKit=e,u},u.wrap=function(e){return function(){try{return e.apply(this,arguments)}catch(e){throw u.report(e),e}}},u.report=(o=[],p=n=null,v.subscribe=function(e){!0!==i&&(l=y.onerror,y.onerror=t,i=!0),!0!==r&&(s=y.onunhandledrejection,y.onunhandledrejection=f,r=!0),o.push(e)},v.unsubscribe=function(e){for(var t=o.length-1;0<=t;--t)o[t]===e&&o.splice(t,1);0===o.length&&(i&&(y.onerror=l,i=!1),r&&(y.onerror=s,r=!1))},v),u.computeStackTrace=(a=!1,d={},I.augmentStackTraceWithInitialElement=O,I.computeStackTraceFromStackProp=C,I.guessFunctionName=k,I.gatherContext=z,I.ofCaller=function(t){t=1+(null==t?0:+t);try{throw new Error}catch(e){return I(e,t+1)}},I.getSource=x,I),u.extendToAsynchronousCallbacks=function(){function e(e){var i=y[e];y[e]=function(){var e=c.call(arguments),t=e[0];return"function"==typeof t&&(e[0]=u.wrap(t)),i.apply?i.apply(this,e):i(e[0],e[1])}}e("setTimeout"),e("setInterval")},u.defaultSendError=function(e){"use strict";try{e.stack||(e.stack=new Error("force-added stack").stack,e.stack&&(e.stack=e.stack.toString())),e.name||(e.name="Unknown"),e.message||(e.message="Unknown")}catch(e){console.error("Error building error data"),console.error(e)}try{var t={client_timestamp:(new Date).getTime(),event_id:"",page_id:"",session_id:"",bidder:"",user_id:"",publisher:"",rtp_file_version:"",ad_project_tag:"",page_url:y.top.location.href||y.location.href||"",in_iframe:!1,is_https:"https:"==document.location.protocol,user_agent:navigator.userAgent||"",stack_trace:JSON.stringify(e.stack),error_message:e.message.toString(),error_name:e.name.toString()};if(t&&"object"==typeof t){var i="",s=encodeURIComponent;for(var r in t)i+="&"+s(r)+"="+s(t[r]);t=i.slice(1)}var o=null;y.ActiveXObject?o=new ActiveXObject("Microsoft.XMLHTTP"):y.XMLHttpRequest&&(o=new XMLHttpRequest);o.open("POST","https://events.proper.io/api/event",1),o.withCredentials=!1,o.timeout=2e3,o.onload=function(){200==o.status||console.error("Error sending exception data. xhr.status: "+o.status)},o.send(t)}catch(e){console.error("Error sending exception data"),console.error(e)}},u.report.subscribe(u.defaultSendError),u.remoteFetching||(u.remoteFetching=!1),u.collectWindowErrors||(u.collectWindowErrors=!1),(!u.linesOfContext||u.linesOfContext<1)&&(u.linesOfContext=11),y.top.TraceKit=u}function w(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function m(e){return void 0===e}function _(e,t,i){var s=null;if(!t||u.collectWindowErrors){for(var r in o)if(w(o,r))try{o[r](e,t,i)}catch(e){s=e}if(s)throw s}}function t(e,t,i,s,r){if(p)u.computeStackTrace.augmentStackTraceWithInitialElement(p,t,i,e),b();else if(r)_(u.computeStackTrace(r),!0,r);else{var o,n={url:t,line:i,column:s},a=e;if("[object String]"==={}.toString.call(e)){var d=e.match(h);d&&(o=d[1],a=d[2])}n.func=u.computeStackTrace.guessFunctionName(n.url,n.line),n.context=u.computeStackTrace.gatherContext(n.url,n.line),_({name:o,message:a,mode:"onerror",stack:[n]},!0,null)}return!!l&&l.apply(this,arguments)}function f(e){_(u.computeStackTrace(e.reason),!0,e.reason)}function b(){var e=p,t=n;n=p=null,_(e,!1,t)}function v(e){if(p){if(n===e)return;b()}var t=u.computeStackTrace(e);throw p=t,n=e,setTimeout(function(){n===e&&b()},t.incomplete?2e3:0),e}function x(e){if("string"!=typeof e)return[];if(!w(d,e)){var t="",i="";try{i=y.document.domain}catch(e){}var s=/(.*)\:\/\/([^:\/]+)([:\d]*)\/{0,1}([\s\S]*)/.exec(e);s&&s[2]===i&&(t=function(e){if(!u.remoteFetching)return"";try{var t=function(){try{return new y.XMLHttpRequest}catch(e){return new y.ActiveXObject("Microsoft.XMLHTTP")}}();return t.open("GET",e,!1),t.send(""),t.responseText}catch(e){return""}}(e)),d[e]=t?t.split("\n"):[]}return d[e]}function k(e,t){var i,s=/function ([^(]*)\(([^)]*)\)/,r=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,o="",n=x(e);if(!n.length)return g;for(var a=0;a<10;++a)if(!m(o=n[t-a]+o)){if(i=r.exec(o))return i[1];if(i=s.exec(o))return i[1]}return g}function z(e,t){var i=x(e);if(!i.length)return null;var s=[],r=Math.floor(u.linesOfContext/2),o=r+u.linesOfContext%2,n=Math.max(0,t-r-1),a=Math.min(i.length,t+o-1);t-=1;for(var d=n;d<a;++d)m(i[d])||s.push(i[d]);return 0<s.length?s:null}function S(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function T(e){return S(e).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function j(e,t){for(var i,s,r=0,o=t.length;r<o;++r)if((i=x(t[r])).length&&(i=i.join("\n"),s=e.exec(i)))return{url:t[r],line:i.substring(0,s.index).split("\n").length,column:s.index-i.lastIndexOf("\n",s.index)-1};return null}function P(e,t,i){var s,r=x(t),o=new RegExp("\\b"+S(e)+"\\b");return i-=1,r&&r.length>i&&(s=o.exec(r[i]))?s.index:null}function E(e){if(!m(y&&y.document)){for(var t,i,s,r,o=[y.location.href],n=y.document.getElementsByTagName("script"),a=""+e,d=0;d<n.length;++d){var l=n[d];l.src&&o.push(l.src)}if(s=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(a)){var p=s[1]?"\\s+"+s[1]:"",c=s[2].split(",").join("\\s*,\\s*");t=S(s[3]).replace(/;$/,";?"),i=new RegExp("function"+p+"\\s*\\(\\s*"+c+"\\s*\\)\\s*{\\s*"+t+"\\s*}")}else i=new RegExp(S(a).replace(/\s+/g,"\\s+"));if(r=j(i,o))return r;if(s=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(a)){var u=s[1];if(t=T(s[2]),r=j(i=new RegExp("on"+u+"=[\\'\"]\\s*"+t+"\\s*[\\'\"]","i"),o[0]))return r;if(r=j(i=new RegExp(t),o))return r}return null}}function C(e){if(!e.stack)return null;for(var t,i,s,r=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,o=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,n=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,a=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,d=/\((\S*)(?::(\d+))(?::(\d+))\)/,l=e.stack.split("\n"),p=[],c=/^(.*) is undefined$/.exec(e.message),u=0,h=l.length;u<h;++u){if(i=r.exec(l[u])){var _=i[2]&&0===i[2].indexOf("native");i[2]&&0===i[2].indexOf("eval")&&(t=d.exec(i[2]))&&(i[2]=t[1],i[3]=t[2],i[4]=t[3]),s={url:_?null:i[2],func:i[1]||g,args:_?[i[2]]:[],line:i[3]?+i[3]:null,column:i[4]?+i[4]:null}}else if(i=n.exec(l[u]))s={url:i[2],func:i[1]||g,args:[],line:+i[3],column:i[4]?+i[4]:null};else{if(!(i=o.exec(l[u])))continue;i[3]&&-1<i[3].indexOf(" > eval")&&(t=a.exec(i[3]))?(i[3]=t[1],i[4]=t[2],i[5]=null):0!==u||i[5]||m(e.columnNumber)||(p[0].column=e.columnNumber+1),s={url:i[3],func:i[1]||g,args:i[2]?i[2].split(","):[],line:i[4]?+i[4]:null,column:i[5]?+i[5]:null}}!s.func&&s.line&&(s.func=k(s.url,s.line)),s.context=s.line?z(s.url,s.line):null,p.push(s)}return p.length?(p[0]&&p[0].line&&!p[0].column&&c&&(p[0].column=P(c[1],p[0].url,p[0].line)),{mode:"stack",name:e.name,message:e.message,stack:p}):null}function O(e,t,i,s){var r={url:t,line:i};if(r.url&&r.line){e.incomplete=!1,r.func||(r.func=k(r.url,r.line)),r.context||(r.context=z(r.url,r.line));var o=/ '([^']+)' /.exec(s);if(o&&(r.column=P(o[1],r.url,r.line)),0<e.stack.length&&e.stack[0].url===r.url){if(e.stack[0].line===r.line)return!1;if(!e.stack[0].line&&e.stack[0].func===r.func)return e.stack[0].line=r.line,e.stack[0].context=r.context,!1}return e.stack.unshift(r),e.partial=!0}return!(e.incomplete=!0)}function M(e,t){for(var i,s,r,o=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,n=[],a={},d=!1,l=M.caller;l&&!d;l=l.caller)if(l!==I&&l!==u.report){if(s={url:null,func:g,args:[],line:null,column:null},l.name?s.func=l.name:(i=o.exec(l.toString()))&&(s.func=i[1]),void 0===s.func)try{s.func=i.input.substring(0,i.input.indexOf("{"))}catch(e){}if(r=E(l)){s.url=r.url,s.line=r.line,s.func===g&&(s.func=k(s.url,s.line));var p=/ '([^']+)' /.exec(e.message||e.description);p&&(s.column=P(p[1],r.url,r.line))}a[""+l]?d=!0:a[""+l]=!0,n.push(s)}t&&n.splice(0,t);var c={mode:"callers",name:e.name,message:e.message,stack:n};return O(c,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),c}function I(e,t){var i=null;t=null==t?0:+t;try{if(i=function(e){var t=e.stacktrace;if(t){for(var i,s=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,r=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,o=t.split("\n"),n=[],a=0;a<o.length;a+=2){var d=null;if((i=s.exec(o[a]))?d={url:i[2],line:+i[1],column:null,func:i[3],args:[]}:(i=r.exec(o[a]))&&(d={url:i[6],line:+i[1],column:+i[2],func:i[3]||i[4],args:i[5]?i[5].split(","):[]}),d){if(!d.func&&d.line&&(d.func=k(d.url,d.line)),d.line)try{d.context=z(d.url,d.line)}catch(e){}d.context||(d.context=[o[a+1]]),n.push(d)}}return n.length?{mode:"stacktrace",name:e.name,message:e.message,stack:n}:null}}(e))return w(e,"bidder")&&(i.bidder=e.bidder),i}catch(e){if(a)throw e}try{if(i=C(e))return w(e,"bidder")&&(i.bidder=e.bidder),i}catch(e){if(a)throw e}try{if(i=function(e){var t=e.message.split("\n");if(t.length<4)return null;var i,s=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,r=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,o=/^\s*Line (\d+) of function script\s*$/i,n=[],a=y&&y.document&&y.document.getElementsByTagName("script"),d=[];for(var l in a)w(a,l)&&!a[l].src&&d.push(a[l]);for(var p=2;p<t.length;p+=2){var c=null;if(i=s.exec(t[p]))c={url:i[2],func:i[3],args:[],line:+i[1],column:null};else if(i=r.exec(t[p])){c={url:i[3],func:i[4],args:[],line:+i[1],column:null};var u=+i[1],h=d[i[2]-1];if(h){var _=x(c.url);if(_){var g=(_=_.join("\n")).indexOf(h.innerText);0<=g&&(c.line=u+_.substring(0,g).split("\n").length)}}}else if(i=o.exec(t[p])){var m=y.location.href.replace(/#.*$/,""),f=j(new RegExp(T(t[p+1])),[m]);c={url:m,func:"",args:[],line:f?f.line:i[1],column:null}}if(c){c.func||(c.func=k(c.url,c.line));var b=z(c.url,c.line),v=b?b[Math.floor(b.length/2)]:null;b&&v.replace(/^\s*/,"")===t[p+1].replace(/^\s*/,"")?c.context=b:c.context=[t[p+1]],n.push(c)}}return n.length?{mode:"multiline",name:e.name,message:t[0],stack:n}:null}(e))return w(e,"bidder")&&(i.bidder=e.bidder),i}catch(e){if(a)throw e}try{if(i=M(e,t+1))return w(e,"bidder")&&(i.bidder=e.bidder),i}catch(e){if(a)throw e}return{name:e.name,message:e.message,mode:"failed"}}}("undefined"!=typeof window?window:global);var ProperMedia=ProperMedia||{};ProperMedia.utils=function(i,v){var y=window.top.TraceKit,s=[],r=!1,o=!1;function n(){if(!r){r=!0;for(var e=0;e<s.length;e++)s[e].fn.call(i,s[e].ctx);s=[]}}function a(){"complete"===v.readyState&&n()}function t(e,t){r?c.setTimeout(function(){e(t)},1):(s.push({fn:e,ctx:t}),"complete"===v.readyState?c.setTimeout(n,1):o||(v.addEventListener?(v.addEventListener("DOMContentLoaded",y.wrap(n),!1),i.addEventListener("load",y.wrap(n),!1)):(v.attachEvent("onreadystatechange",y.wrap(a)),i.attachEvent("onload",y.wrap(n))),o=!0))}function e(e){return d.sel(e)}var d={obj:{},sel:function(e){return"function"==typeof e?t(e):this.obj="object"==typeof e?e:v.querySelectorAll(e)[0],this},ready:function(e){return t(e),this},remove:function(){return void 0!==this.obj&&(this.obj.parentNode.removeChild(this.obj),this)},hide:function(){return void 0!==this.obj&&(this.obj.style.display="none",this)},show:function(){return void 0!==this.obj&&(this.obj.style.display="",this)},addClass:function(e){if(void 0===this.obj)return!1;for(var t=e.split(" "),i=0;i<t.length;i++)this.obj.classList?this.obj.classList.add(t[i]):this.obj.className+=" "+t[i];return this},removeClass:function(e){if(void 0===this.obj)return!1;if(this.obj.classList)this.obj.classList.remove(e);else{for(var t="",i=this.className.split(" "),s=0;s<i.length;s++)i[s]!==remove&&(t+=i[s]+" ");this.obj.className=t}return this},hasClass:function(e){if(void 0===this.obj)return!1;if(this.obj.classList)return this.obj.classList.contains(e);var t=new RegExp("(?:^|\\s)"+e+"(?!\\S)");return null!==this.obj.className.match(t)},removeStyle:function(){return void 0!==this.obj&&(this.obj.style="",this)},attr:function(e,t){return void 0!==this.obj&&(void 0===t?void 0===this.obj.getAttribute?null:this.obj.getAttribute(e):void 0!==this.obj.setAttribute&&(this.obj.setAttribute(e,t),this))},after:function(e){return void 0!==this.obj&&(this.obj.insertAdjacentHTML("afterend",e),this)},before:function(e){return void 0!==this.obj&&(this.obj.insertAdjacentHTML("beforebegin",e),this)},append:function(e){return void 0!==this.obj&&("string"==typeof e?this.obj.innerHTML=this.obj.innerHTML+e:this.obj.appendChild(e),this)},html:function(e){return void 0!==this.obj&&(void 0!==e?(this.obj.innerHTML=e,this):this.obj.innerHTML)},parent:function(){return void 0!==this.obj&&(this.obj=this.obj.parentNode,this)},closest:function(e){if(void 0===this.obj||!e)return!1;for(;this.obj=this.obj.parentNode;)if(void 0!==this.obj.classList&&this.obj.classList.contains(e))return this;return!1},getChildNodes:function(){return void 0!==this.obj&&this.obj.children},val:function(e){return void 0!==this.obj&&(void 0===e?this.obj.value:(this.obj.value=e,this))},on:function(e,t){return void 0!==this.obj&&(t=y.wrap(t),"click"==e?this.obj.onclick=t:"mouseover"==e||"mouseenter"==e?this.obj.addEventListener("mouseover",t,!1):"mouseout"==e||"mouseleave"==e?this.obj.addEventListener("mouseout",t,!1):this.obj.addEventListener(e,t),this)},contents:function(){return void 0!==this.obj&&(this.obj=this.obj.contentDocument?this.obj.contentDocument:this.obj.contentWindow.document,this)},contentWin:function(){return void 0!==this.obj&&(this.obj.contentWindow?this.obj=this.obj.contentWindow:this.obj.contentDocument&&(this.obj=this.obj.contentDocument.defaultView),this)},find:function(e){return void 0!==this.obj&&(this.obj=this.obj.querySelectorAll(e)[0],this)},width:function(){return v.documentElement.clientWidth},height:function(){return v.documentElement.clientHeight},prev:function(){return void 0!==this.obj&&(this.obj=this.obj.previousElementSibling,this)},prop:function(e,t){return void 0!==this.obj&&(this.obj.checked=t,this)}},w=0;function l(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}))}function p(e){return decodeURIComponent(atob(e).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))}e.ajax=function(e){var t=e.url,i=e.success,s=e.error||function(){},r=e.cache,o=e.data,n=e.headers||{},a=e.method||"GET",d=e.special,l=e.requestType,p=e.withCredentials||!0;if(void 0!==y&&(i=y.wrap(i),s=y.wrap(s)),"jsonp"==l){if(w++,i){var c="proper_"+function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1,5)}return e()+e()+"_"+e()+e()}()+"_"+w;window[c]=function(e){i(e)};var u="callback",h="window.";!d||"rtk"!=d&&"mantis"!=d&&"gumgum"!=d?d&&"index"==d?u="fn":d&&"sonobi"==d&&(u="cv",h=""):u="jsonp",t+="&"+u+"="+h+c}var _=v.createElement("script");return _.async=!0,_.src=t,v.getElementsByTagName("head")[0].appendChild(_),!0}if(o&&"object"==typeof o){var g="",m=encodeURIComponent;for(x in o)g+="&"+m(x)+"="+m(o[x]);o=g.slice(1)+(r?"":"&_t="+new Date)}try{var f=null;for(var b in window.ActiveXObject?f=new ActiveXObject("Microsoft.XMLHTTP"):window.XMLHttpRequest&&(f=new XMLHttpRequest),f.open(a,t,1),"cors"==l?f.withCredentials=p:"fetch"==l&&(f.withCredentials=!1),f.timeout=2e3,f.onload=function(){200==f.status?i(f.responseText,f):s()},n)f.setRequestHeader(b,n[b]);f.send(o)}catch(m){throw s(),m}};var c={selfCheck:!0,setTimeout:function(e,t){var i=void 0!==this.selfCheck?window:this,s=Array.prototype.slice.call(arguments,2);return window.setTimeout(function(){y.wrap(e).apply(i,s)},t)}},u={selfCheck:!0,setInterval:function(e,t){var i=void 0!==this.selfCheck?window:this,s=Array.prototype.slice.call(arguments,2);return window.setInterval(function(){y.wrap(e).apply(i,s)},t)}};function h(e,t){if(e){t=String(t).split(".");for(var i=0;i<t.length;i++)if(void 0===(e=e[t[i]]))return;return e}}var _="Array",g=Object.prototype.toString;function m(e,t){return g.call(e)==="[object "+t+"]"}return{jquery:e,getDNT:function(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNoTrack||"yes"===navigator.doNotTrack},isBase64:function(e){try{return l(p(e))==e}catch(e){return!1}},deepCopy:function(e){try{return JSON.parse(JSON.stringify(e||{}))}catch(e){console.error(e)}return null},mergeObject:function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)i.hasOwnProperty(s)&&(e[s]=i[s])}return e},b64EncodeUnicode:l,b64DecodeUnicode:p,properSetTimeout:c,properSetInterval:u,getPageObjectByIndex:function(e,t){return e&&t&&void 0!==e[t-1]&&e[t-1]?e[t-1]:null},getSlotFromPageObject:function(e,t){return e&&t&&void 0!==e.slots&&e.slots&&void 0!==e.slots[t]&&e.slots[t]?e.slots[t]:null},safeJsonParse:function(e){try{return JSON.parse(e)}catch(e){console.error(e)}return null},deepAccess:h,indexOfObjectInArray:function(e,t){if("object"==typeof t&&"object"==typeof e){t=JSON.stringify(t);for(var i=0;i<e.length;i++)if("object"==typeof e[i]&&JSON.stringify(e[i])===t)return i}return-1},extractSlotNameAndPageNumber:function(e){var t=e.replace(/^proper-ad-/,"").split("-");return{slot_name:t[0],page_number:+t[1]||1}},detectBrowser:function(){window.device={os:"",os_group:"",browser:"",browser_group:"",device_type:""};var e,t={browser:{IE:"Explorer","Chrome Headless":"Chrome","Chrome WebView":"Chrome"},device:{console:"desktop"}};"undefined"!=typeof UAParser&&(e=(new UAParser).getResult(),window.device.browser=e.browser.name,e.browser.version&&(window.device.browser+=" "+e.browser.version),window.device.browser_group=e.browser.name,void 0!==t.browser&&void 0!==t.browser[window.device.browser_group]&&(window.device.browser_group=t.browser[window.device.browser_group]),window.device.device_type=e.device.type,window.device.device_type||(window.device.device_type="desktop"),void 0!==t.device&&void 0!==t.device[window.device.device_type]&&(window.device.device_type=t.device[window.device.device_type]),window.device.os=e.os.name,e.os.version&&(window.device.os+=" "+e.os.version),window.device.os_group=e.os.name)},onElementHeightChange:function(t,i){var s=h(t,"contentWindow.document.body.scrollHeight")||0,r=h(t,"contentWindow.document.body.scrollHeight")||0,o=0,n=10,a=150;!function e(){if(r=h(t,"contentWindow.document.body.scrollHeight")||0,s!=r&&r!=a||n<=o)return t.onElementHeightChangeTimer&&clearTimeout(t.onElementHeightChangeTimer),void i(r);s=r,o++,t.onElementHeightChangeTimer&&clearTimeout(t.onElementHeightChangeTimer),t.onElementHeightChangeTimer=c.setTimeout(e,200)}()},formatSupplyChainString:function(e){var t=e.ver||"1.0",i=e.complete||0,s=e.nodes||[],r=[t.toString(),i].join(",");if(function(e){return m(e,_)}(s))for(var o=0;o<s.length;o++){var n=[s[o].asi||"proper.io",s[o].sid||"",s[o].hp||1];r+="!"+n.join(",")}else r+="!"+(n=["proper.io","",1]).join(",");return r},isIFrame:function(){try{return window.self!==window.top}catch(e){return!0}},getCanonicalUrl:function(){var e;if(window.self!==window.top)try{e=window.top.document.head.querySelector('link[rel="canonical"][href]')}catch(e){}else e=v.head.querySelector('link[rel="canonical"][href]');return e?e.href:""},getPageRefreshed:function(){try{if(performance&&performance.navigation)return performance.navigation.type===performance.navigation.TYPE_RELOAD}catch(e){}return!1}}}(window,document),function(r,c){"use strict";var u="function",e="undefined",t="model",i="name",s="type",o="vendor",n="version",a="architecture",d="console",l="mobile",p="tablet",h="smarttv",_="wearable",g={extend:function(e,t){var i={};for(var s in e)t[s]&&t[s].length%2==0?i[s]=t[s].concat(e[s]):i[s]=e[s];return i},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:c},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},m={rgx:function(e,t){for(var i,s,r,o,n,a,d=0;d<t.length&&!n;){var l=t[d],p=t[d+1];for(i=s=0;i<l.length&&!n;)if(n=l[i++].exec(e))for(r=0;r<p.length;r++)a=n[++s],"object"==typeof(o=p[r])&&0<o.length?2==o.length?typeof o[1]==u?this[o[0]]=o[1].call(this,a):this[o[0]]=o[1]:3==o.length?typeof o[1]!=u||o[1].exec&&o[1].test?this[o[0]]=a?a.replace(o[1],o[2]):c:this[o[0]]=a?o[1].call(this,a,o[2]):c:4==o.length&&(this[o[0]]=a?o[3].call(this,a.replace(o[1],o[2])):c):this[o]=a||c;d+=2}},str:function(e,t){for(var i in t)if("object"==typeof t[i]&&0<t[i].length){for(var s=0;s<t[i].length;s++)if(g.has(t[i][s],e))return"?"===i?c:i}else if(g.has(t[i],e))return"?"===i?c:i;return e}},f={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},b={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[i,n],[/(opios)[\/\s]+([\w\.]+)/i],[[i,"Opera Mini"],n],[/\s(opr)\/([\w\.]+)/i],[[i,"Opera"],n],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[i,n],[/(konqueror)\/([\w\.]+)/i],[[i,"Konqueror"],n],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[i,"IE"],n],[/(edge|edgios|edga)\/((\d+)?[\w\.]+)/i],[[i,"Edge"],n],[/(yabrowser)\/([\w\.]+)/i],[[i,"Yandex"],n],[/(puffin)\/([\w\.]+)/i],[[i,"Puffin"],n],[/(focus)\/([\w\.]+)/i],[[i,"Firefox Focus"],n],[/(opt)\/([\w\.]+)/i],[[i,"Opera Touch"],n],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[i,"UCBrowser"],n],[/(comodo_dragon)\/([\w\.]+)/i],[[i,/_/g," "],n],[/(micromessenger)\/([\w\.]+)/i],[[i,"WeChat"],n],[/(brave)\/([\w\.]+)/i],[[i,"Brave"],n],[/(qqbrowserlite)\/([\w\.]+)/i],[i,n],[/(QQ)\/([\d\.]+)/i],[i,n],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[i,n],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[i,n],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[i,n],[/(MetaSr)[\/\s]?([\w\.]+)/i],[i],[/(LBBROWSER)/i],[i],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[n,[i,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[n,[i,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[i,n],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[n,[i,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[i,/(.+)/,"$1 WebView"],n],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[i,/(.+(?:g|us))(.+)/,"$1 $2"],n],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[n,[i,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[i,n],[/(dolfin)\/([\w\.]+)/i],[[i,"Dolphin"],n],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[i,"Chrome"],n],[/(coast)\/([\w\.]+)/i],[[i,"Opera Coast"],n],[/fxios\/([\w\.-]+)/i],[n,[i,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[n,[i,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[n,i],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[i,"GSA"],n],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[i,[n,m.str,f.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[i,n],[/(navigator|netscape)\/([\w\.-]+)/i],[[i,"Netscape"],n],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[i,n]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[a,"amd64"]],[/(ia32(?=;))/i],[[a,g.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[a,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[a,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[a,/ower/,"",g.lowerize]],[/(sun4\w)[;\)]/i],[[a,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[a,g.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[t,o,[s,p]],[/applecoremedia\/[\w\.]+ \((ipad)/],[t,[o,"Apple"],[s,p]],[/(apple\s{0,1}tv)/i],[[t,"Apple TV"],[o,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[o,t,[s,p]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[t,[o,"Amazon"],[s,p]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[t,m.str,f.device.amazon.model],[o,"Amazon"],[s,l]],[/android.+aft([bms])\sbuild/i],[t,[o,"Amazon"],[s,h]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[t,o,[s,l]],[/\((ip[honed|\s\w*]+);/i],[t,[o,"Apple"],[s,l]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[o,t,[s,l]],[/\(bb10;\s(\w+)/i],[t,[o,"BlackBerry"],[s,l]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[t,[o,"Asus"],[s,p]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[o,"Sony"],[t,"Xperia Tablet"],[s,p]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[t,[o,"Sony"],[s,l]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[o,t,[s,d]],[/android.+;\s(shield)\sbuild/i],[t,[o,"Nvidia"],[s,d]],[/(playstation\s[34portablevi]+)/i],[t,[o,"Sony"],[s,d]],[/(sprint\s(\w+))/i],[[o,m.str,f.device.sprint.vendor],[t,m.str,f.device.sprint.model],[s,l]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[o,t,[s,p]],[/(htc)[;_\s-]+([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[o,[t,/_/g," "],[s,l]],[/(nexus\s9)/i],[t,[o,"HTC"],[s,p]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[t,[o,"Huawei"],[s,l]],[/(microsoft);\s(lumia[\s\w]+)/i],[o,t,[s,l]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[t,[o,"Microsoft"],[s,d]],[/(kin\.[onetw]{3})/i],[[t,/\./g," "],[o,"Microsoft"],[s,l]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[t,[o,"Motorola"],[s,l]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[t,[o,"Motorola"],[s,p]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[o,g.trim],[t,g.trim],[s,h]],[/hbbtv.+maple;(\d+)/i],[[t,/^/,"SmartTV"],[o,"Samsung"],[s,h]],[/\(dtv[\);].+(aquos)/i],[t,[o,"Sharp"],[s,h]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[o,"Samsung"],t,[s,p]],[/smart-tv.+(samsung)/i],[o,[s,h],t],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[o,"Samsung"],t,[s,l]],[/sie-(\w*)/i],[t,[o,"Siemens"],[s,l]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[o,"Nokia"],t,[s,l]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[t,[o,"Acer"],[s,p]],[/android.+([vl]k\-?\d{3})\s+build/i],[t,[o,"LG"],[s,p]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[o,"LG"],t,[s,p]],[/(lg) netcast\.tv/i],[o,t,[s,h]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[t,[o,"LG"],[s,l]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[t,[o,"Lenovo"],[s,p]],[/linux;.+((jolla));/i],[o,t,[s,l]],[/((pebble))app\/[\d\.]+\s/i],[o,t,[s,_]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[o,t,[s,l]],[/crkey/i],[[t,"Chromecast"],[o,"Google"]],[/android.+;\s(glass)\s\d/i],[t,[o,"Google"],[s,_]],[/android.+;\s(pixel c)[\s)]/i],[t,[o,"Google"],[s,p]],[/android.+;\s(pixel( [23])?( xl)?)\s/i],[t,[o,"Google"],[s,l]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[t,/_/g," "],[o,"Xiaomi"],[s,l]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[t,/_/g," "],[o,"Xiaomi"],[s,p]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[t,[o,"Meizu"],[s,p]],[/(mz)-([\w-]{2,})/i],[[o,"Meizu"],t,[s,l]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[t,[o,"OnePlus"],[s,l]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[t,[o,"RCA"],[s,p]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[t,[o,"Dell"],[s,p]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[t,[o,"Verizon"],[s,p]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[o,"Barnes & Noble"],t,[s,p]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[t,[o,"NuVision"],[s,p]],[/android.+;\s(k88)\sbuild/i],[t,[o,"ZTE"],[s,p]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[t,[o,"Swiss"],[s,l]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[t,[o,"Swiss"],[s,p]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[t,[o,"Zeki"],[s,p]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[o,"Dragon Touch"],t,[s,p]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[t,[o,"Insignia"],[s,p]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[t,[o,"NextBook"],[s,p]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[o,"Voice"],t,[s,l]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[o,"LvTel"],t,[s,l]],[/android.+;\s(PH-1)\s/i],[t,[o,"Essential"],[s,l]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[t,[o,"Envizen"],[s,p]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[o,t,[s,p]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[t,[o,"MachSpeed"],[s,p]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[o,t,[s,p]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[t,[o,"Rotor"],[s,p]],[/android.+(KS(.+))\s+build/i],[t,[o,"Amazon"],[s,p]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[o,t,[s,p]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[s,g.lowerize],o,t],[/[\s\/\(](smart-?tv)[;\)]/i],[[s,h]],[/(android[\w\.\s\-]{0,9});.+build/i],[t,[o,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[n,[i,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)/i],[[i,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[i,n],[/rv\:([\w\.]{1,9}).+(gecko)/i],[n,i]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[i,n],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[i,[n,m.str,f.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[i,"Windows"],[n,m.str,f.os.windows.version]],[/\((bb)(10);/i],[[i,"BlackBerry"],n],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]*)/i,/linux;.+(sailfish);/i],[i,n],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[i,"Symbian"],n],[/\((series40);/i],[i],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[i,"Firefox OS"],n],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[i,n],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[i,"Chromium OS"],n],[/(sunos)\s?([\w\.\d]*)/i],[[i,"Solaris"],n],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[i,n],[/(haiku)\s(\w+)/i],[i,n],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[n,/_/g,"."],[i,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[i,"Mac OS"],[n,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[i,n]]},v=function(e,t){if("object"==typeof e&&(t=e,e=c),!(this instanceof v))return new v(e,t).getResult();var i=e||(r&&r.navigator&&r.navigator.userAgent?r.navigator.userAgent:""),s=t?g.extend(b,t):b;return this.getBrowser=function(){var e={name:c,version:c};return m.rgx.call(e,i,s.browser),e.major=g.major(e.version),e},this.getCPU=function(){var e={architecture:c};return m.rgx.call(e,i,s.cpu),e},this.getDevice=function(){var e={vendor:c,model:c,type:c};return m.rgx.call(e,i,s.device),e},this.getEngine=function(){var e={name:c,version:c};return m.rgx.call(e,i,s.engine),e},this.getOS=function(){var e={name:c,version:c};return m.rgx.call(e,i,s.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=e,this},this};v.VERSION="0.7.19",v.BROWSER={NAME:i,MAJOR:"major",VERSION:n},v.CPU={ARCHITECTURE:a},v.DEVICE={MODEL:t,VENDOR:o,TYPE:s,CONSOLE:d,MOBILE:l,SMARTTV:h,TABLET:p,WEARABLE:_,EMBEDDED:"embedded"},v.ENGINE={NAME:i,VERSION:n},v.OS={NAME:i,VERSION:n},typeof exports!=e?(typeof module!=e&&module.exports&&(exports=module.exports=v),exports.UAParser=v):r&&(r.UAParser=v)}("object"==typeof window?window:this);var googletag=googletag||{};googletag.cmd=googletag.cmd||[];var propertag=propertag||{};propertag.cmd=propertag.cmd||[];var _qevents=_qevents||[];!function(){var e=document.createElement("script");e.src=("https:"==document.location.protocol?"https://secure":"http://edge")+".quantserve.com/quant.js",e.async=!0,e.type="text/javascript";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}();try{_qevents.push({qacct:"p-mEzuYq24VEJ-3"})}catch(e){console.error("Error pushing Quantcast event"),console.error(e)}"undefined"==typeof console&&(console={log:function(e){},error:function(e){},info:function(e){},table:function(e){}}),ProperMedia.ad_project=function(e,k){var x=[],m={},z={},f=0,b=!1,o={},h={},S=null,T={cmpPresent:!1,ready:function(e){e(T)}},j=ProperMedia.utils.jquery,P=ProperMedia.utils.properSetTimeout,_=(ProperMedia.utils.properSetInterval,window.top.TraceKit);function g(e){"use strict";try{e.stack||(e.stack=new Error("force-added stack").stack),e.name||(e.name="Unknown"),e.message||(e.message="Unknown")}catch(e){console.error("Error building error data"),console.error(e)}try{var t={client_timestamp:(new Date).getTime(),event_id:$e(),page_id:$e(),session_id:$e(),bidder:e.bidder||"",user_id:et(m.pubcid,{type:"string"}),publisher:et(z.site_name,{type:"string"}),rtp_file_version:et(z.split_version,{type:"string"}),ad_project_tag:et(z.rtp_file_revision,{type:"string"}),page_url:We()||"",in_iframe:!1,is_https:"https:"==k.location.protocol,user_agent:navigator.userAgent||"",stack_trace:JSON.stringify(e.stack),error_message:e.message.toString()||"",error_name:e.name.toString()||""};if(0<x.length){var i=x[x.length-1];i.uuid&&""!==i.uuid&&(t.page_id=i.uuid),i.sessionHandler&&i.sessionHandler.sessionData&&i.sessionHandler.sessionData.uuid&&""!==i.sessionHandler.sessionData.uuid&&(t.session_id=i.sessionHandler.sessionData.uuid)}j.ajax({url:"https://events.proper.io/api/event",requestType:"fetch",method:"POST",data:JSON.stringify(t),withCredentials:!1,success:function(e){console.log("Proper exception logged successfully.")},error:function(){console.error("Unable to log Proper exception.")}})}catch(e){console.error("Error sending exception data"),console.error(e)}}_.report.subscribe(g),_.report.unsubscribe(_.defaultSendError),ProperMedia.utils.detectBrowser(),Object.keys||(Object.keys=function(){"use strict";var r=Object.prototype.hasOwnProperty,o=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],a=n.length;return function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var t,i,s=[];for(t in e)r.call(e,t)&&s.push(t);if(o)for(i=0;i<a;i++)r.call(e,n[i])&&s.push(n[i]);return s}}()),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),Date.now=Date.now||function(){return+new Date};var l=(t.prototype.addElement=function(e,t){var i={id:e.id,callback:t,lazyload:e.lazyload||!1,viewability:e.viewability||!1,fetchMarginPercent:e.fetchMarginPercent||0,renderMarginPercent:e.renderMarginPercent||0,minHeight:e.minHeight||0,activeTab:!0,viewable:!1,inFetchZone:!1,inDisplayZone:!1};this.started&&this.runViewabilityCheck(i),this.elements.push(i)},t.prototype.start=function(){window.addEventListener("scroll",this.listener,!!this.supportsPassive&&{passive:!0}),window.addEventListener("resize",this.listener,!!this.supportsPassive&&{passive:!0}),this.elements.forEach(function(e){e.activeTab=!0,this.runViewabilityCheck(e,!0)},this),this.started=!0},t.prototype.stop=function(){window.removeEventListener("scroll",this.listener,!!this.supportsPassive&&{passive:!0}),window.removeEventListener("resize",this.listener,!!this.supportsPassive&&{passive:!0}),this.elements.forEach(function(e){e.activeTab=!1,e.viewable=!1,e.inFetchZone=!1,e.inDisplayZone=!1,e.callback(e)}),this.started=!1},t.prototype.runViewabilityCheck=function(e,t){var i=!1;e.viewability&&(i=function(e){var t,i=e.viewable;if(e.element=e.element||k.getElementById(e.id),!e.element)return!1;var s=e.element.getBoundingClientRect();if(0==s.height&&0<s.top&&s.top<window.innerHeight&&0<s.left&&s.right<window.innerWidth)return!0;var r=s.width*s.height,o=Math.max(s.top,0),n=Math.min(s.bottom,window.innerHeight),a=Math.min(s.right,window.innerWidth),d=Math.max(s.left,0);if(o<n&&d<a){var l=Math.abs(n-o)*Math.abs(a-d);i=.5<l/r}else i=!1;return t=i!=e.viewable,e.viewable=i,t}(e)),e.lazyload&&(i=function(e){if(e.element=e.element||k.getElementById(e.id),!e.element)return!1;var t=e.element.getBoundingClientRect(),i=e.inFetchZone,s=e.inRenderZone,r=t.height||e.minHeight,o=t.top+r/2;o>window.innerHeight?o-=window.innerHeight:o=o<0?Math.abs(o):0;var n=o/window.innerHeight*100;i=n<=e.fetchMarginPercent,s=n<=e.renderMarginPercent;var a=i!=e.inFetchZone||s!=e.inRenderZone;return e.inFetchZone=i,e.inRenderZone=s,a}(e)||i),(i||t)&&e.callback(e)},t.calculateViewablePercentage=function(e){var t=e.getElement();if(null!==t){if("visible"!==window.top.document.visibilityState)return 0;var i=t.getBoundingClientRect(),s={};if(void 0!==i)return s.left=Math.max(i.left,0),s.right=Math.min(i.right,window.top.innerWidth),s.left>=s.right?0:(s.top=Math.max(i.top,0),s.bottom=Math.min(i.bottom,window.top.innerHeight),s.top>=s.bottom?0:(s.width=s.right-s.left,s.height=s.bottom-s.top,s.width*s.height/(i.width*i.height)*100))}return 0},t);function t(){this.timer=null,this.elements=[],this.supportsPassive=function(){try{var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});return window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t),e}catch(e){return g(_.computeStackTrace(e)),!1}}(),this.listener=function(){clearTimeout(this.timer),this.timer=P.setTimeout.call(this,function(){this.elements.forEach(function(e){this.runViewabilityCheck(e)},this)},250)}.bind(this),this.listener=_.wrap(this.listener),T.ready(function(){this.start(),function(t){var i="hidden",e=function(e){k[i]?t.stop():t.start()},s=function(){t.stop()},r=function(){t.start()};e=_.wrap(e),s=_.wrap(s),r=_.wrap(r),i in k?k.addEventListener("visibilitychange",e):(i="mozHidden")in k?k.addEventListener("mozvisibilitychange",e):(i="webkitHidden")in k?k.addEventListener("webkitvisibilitychange",e):(i="msHidden")in k?k.addEventListener("msvisibilitychange",e):"onfocusin"in k?(k.onfocusin=r,k.onfocusout=s):"onpagehide"in window?(window.addEventListener("pagehide",s,!1),window.addEventListener("pageshow",r,!1)):"onblur"in window&&(window.onfocus=r,window.onblur=s)}(this)}.bind(this))}function n(){this.lang="",this.tzone="",this.member="no",this.facebook_user="unknown",this.pubcid="",this.init=function(){if(this.tzone=(new Date).getTimezoneOffset(),this.lang=navigator.language||navigator.browserLanguage||navigator.userLanguage||navigator.systemLanguage,"object"==typeof top.window.PublisherCommonId&&"function"==typeof top.window.PublisherCommonId.getId)try{this.pubcid=top.window.PublisherCommonId.getId()}catch(e){g(_.computeStackTrace(e))}if(!this.pubcid){this.pubcid=Ke("_pubcid"),this.pubcid||(this.pubcid=$e());var e=new Date;e.setTime(e.getTime()+31536e6),k.cookie="_pubcid="+this.pubcid+"; expires="+e.toGMTString()+"; path=/; SameSite=Lax;"}},this.stickyFreqCapHandler={setStickyClosedCookie:function(){var e=new Date;e.setHours(23,59,59,0),k.cookie="properStickyClosed=true; expires="+e.toGMTString()+"; path=/; SameSite=Lax;"},getStickyClosedCookie:function(){return"true"==Ke("properStickyClosed")},setStickyUnitImps:function(e){var t=new Date;t.setHours(23,59,59,0),k.cookie="properStickyUnitImps="+parseInt(e)+"; expires="+t.toGMTString()+"; path=/; SameSite=Lax;"},getStickyUnitImps:function(){return NaN!=parseInt(Ke("properStickyUnitImps"))?parseInt(Ke("properStickyUnitImps")):0},incrementStickyUnitImps:function(){var e=this.getStickyUnitImps()||0;e+=1,this.setStickyUnitImps(e)},expireCookie:function(e){k.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=Lax;"}},this.init()}function a(){if(this.split_version=0,this.post_id="",this.post_id_enabled=0,this.member="no",this.member_enabled=0,this.secondary_auction=0,this.member_sticky_desktop="yes",this.member_sticky_mobile="yes",this.tags=["unknown"],this.bidder_info={pubmatic_s2s:{rev_share:.81,bid_grouping:"slot"},sovrn_s2s:{rev_share:1,bid_grouping:"page"},gumgum_s2s:{rev_share:1,bid_grouping:"page",dont_refresh:1},brealtime:{rev_share:.9,bid_grouping:"page",default_bid_ttl:3e5,refresh_interval:6e4},districtm:{rev_share:.9,bid_grouping:"page",default_bid_ttl:3e5,refresh_interval:6e4},openx_pmp:{rev_share:1,bid_grouping:"slot"},remnant_rubicon:{rev_share:1,bid_grouping:"slot",remnant:1},remnant_adsense:{rev_share:1,bid_grouping:"slot",remnant:1},remnant_adx:{rev_share:1,bid_grouping:"slot",remnant:1}},void 0!==h)for(var e in h)this.bidder_info[e]=h[e].bidderInfo;this.floors={},this.sticky_floors={},this.dynamic_bid_mod={enabled:0,range:[0,0],m:"",b:""},this.disable_sticky_on_close=!1,this.enable_sticky_freq_cap=!1,this.sticky_freq_cap=0,this.sticky_slot_pos="right",this.sticky_brand="yes",this.remove_sticky_close="no",this.adx_bid_modifier=1.1,this.backup_floor=.1,this.sovrn_floor=.91,this.site_name="",this.domain="",this.dfp_id=5376056,this.google_advertiser=42904576,this.adsense_advertiser=1349528536,this.proper_advertiser=600883576,this.amazon_advertiser=455011336,this.remnant_advertiser=1349314336,this.ad_slots={},this.ad_slot_options={},this.ad_ids={},this.ad_pos={},this.sticky_slot=0,this.refresh_points=[],this.report_ads=0,this.backup_stickies=0,this.testing_mode=0,this.mobile_resolution=0,this.mobile_ids={},this.page_type="",this.ad_pages={},this.facebook_detection=0,this.capture_blocked_html=0,this.blocker_sample_data=0,this.blocker_sample_rate=1,this.autoplay_block=1,this.sandbox_iframe=1,this.sandbox_options="allow-popups allow-pointer-lock allow-scripts allow-same-origin",this.ad_retry_max=6,this.mobile_ad_retry_max=6,this.site_ids={},this.start_stop_bidders={},this.enabled_bidders={},this.domain_protection=0,this.refresh=0,this.full_refresh=0,this.refresh_max=0,this.adx_refresh_interval=3e4,this.refresh_interval=6e4,this.inview_refresh_interval=5e3,this.viewable_ad_refresh=0,this.exclude_google_refresh=0,this.exclude_dfp_refresh=0,this.refresh_inactive_tab=0,this.lazyload_enabled=0,this.lazyload_fetch_margin_desktop=0,this.lazyload_render_margin_desktop=0,this.lazyload_fetch_margin_mobile=0,this.lazyload_render_margin_mobile=0,this.autoplay_whitelist=["sharethrough"],this.outstream_settings={outstream:0,slot_name:"",sound_on_hover:0,expand_collapse:0,placement_selector:"",exclude_dfp:1},this.schain={ver:"1.0",complete:0,nodes:[]}}function d(o){this.proper_tracker_cookie={pid:"",bidders:{}},this.s_to_s_bidders={},this.done_matching=!1,this.sent=0,this.received=0,this.timeout=500,this.timeout_handle=null,this.page=o,this.cookieMatch=function(){for(bidder in this.getTrackerCookie(),this.proper_tracker_cookie.hasOwnProperty("proper_uid")&&""!=this.proper_tracker_cookie.proper_uid||(this.proper_tracker_cookie.proper_uid=m.pubcid),this.s_to_s_bidders)if(1==this.s_to_s_bidders[bidder]&&(void 0!==this.proper_tracker_cookie.bidders[bidder]&&0!=this.proper_tracker_cookie.bidders[bidder]||(void 0!==Ke(bidder+"_cookie")&&""!==Ke(bidder+"_cookie")?this.proper_tracker_cookie.bidders[bidder]=1:this.requestCookieMatch(bidder)),"pubmatic"==bidder)){var t=this;j(function(){try{var e=k.createElement("iframe");e.style.display="none",e.src=t.page.protocol+"//ads.pubmatic.com/AdServer/js/user_sync.html?p=156374&s=206686&predirect=",k.body.appendChild(e)}catch(e){console.log(e),g(_.computeStackTrace(e))}})}this.setTrackerCookie(),0==this.sent?this.matchingDone():this.addTimeout()},this.requestCookieMatch=function(e){o.log.mylog("Start "+e+" Cookie Matching","proper");var t=this;t.sent++;var i="",s="";if("sovrn"==e?(i=t.page.protocol+"//ap.lijit.com/pixel?redir=",s="$UID"):"pubmatic"==e?(i=t.page.protocol+"//image6.pubmatic.com/AdServer/UCookieSetPug?oid=1&rd=",s="#PM_USER_ID"):"districtm"==e&&(i=t.page.protocol+"//ib.adnxs.com/getuid?",s="$UID"),""!=s&&""!=i){var r=encodeURIComponent(t.page.protocol+"//s2s.proper.io/?savecookie=1&bidder="+e+"&proper_uid="+this.proper_tracker_cookie.proper_uid+"&uid="+s);j.ajax({url:i+r,requestType:"jsonp"})}},this.logMatchingResponse=function(e,t,i){var s=new Date;s.setTime(s.getTime()+31536e6),k.cookie=e+"_cookie="+i+"; expires="+s.toGMTString()+"; path=/; domain=."+this.page.domain+"; SameSite=Lax;",this.received++,this.proper_tracker_cookie.bidders[e]=1,this.setTrackerCookie(),this.received>=this.sent&&this.matchingDone()},this.matchingDone=function(){1!=this.done_matching&&(this.done_matching=1,o.log.mylog("S2S Cookie Matching Done","s2s"),this.resetTimeout())},this.getTrackerCookie=function(){if(void 0!==Ke("proper_tracker_cookie")){var e=Ke("proper_tracker_cookie")||"";e=ProperMedia.utils.isBase64(e)?ProperMedia.utils.b64DecodeUnicode(e):decodeURIComponent(e),this.proper_tracker_cookie=ProperMedia.utils.safeJsonParse(e)||this.proper_tracker_cookie}},this.setTrackerCookie=function(){var e=new Date;e.setTime(e.getTime()+31536e6);var t=ProperMedia.utils.b64EncodeUnicode(JSON.stringify(this.proper_tracker_cookie));k.cookie="proper_tracker_cookie="+t+"; expires="+e.toGMTString()+"; path=/; domain=."+this.page.domain+"; SameSite=Lax;"},this.addTimeout=function(){var e=this;this.timeout_handle=P.setTimeout.call(e,function(){e.resetTimeout(),e.matchingDone()},e.timeout)},this.resetTimeout=function(){clearTimeout(this.timeout_handle),this.timeout_handle=null}}var s,r,p,c,u,v=function(){this.url="",this.domain="",this.path="",this.referrer="",this.post_id="",this.page_number=1,this.isolated=0,this.get_vars={},this.width=0,this.height=0,this.protocol="http:",this.use_ssl=!1,this.is_mobile=0,this.slots={},this.requests_sent=0,this.requests_retuned=0,this.start_ts=0,this.bids_started_ts=0,this.dfp_correlator=!1,this.dfp_tags=[],this.bids={},this.dont_send_bids=!1,this.uuid=$e(),this.sessionHandler=new M(this),this.log=new w(this),this.adPools=[],this.viewability_tracker=null,this.bidder_page_url="",this.spa_settings={enabled:!1,prefetch:!1,prefetch_slots:[],prefetched_slots:[],prefetch_slots_on_page:!1,gallery_id:null,page_number:1,gallery_base_url:""},window.proper_ad_page_uuid=this.uuid,this.init=function(){this.start_ts=Xe(),"https:"==k.location.protocol?(this.protocol="https:",this.use_ssl=!0):this.protocol="http:",this.url=We(),this.path=Je(),this.domain=Ze(),this.get_vars=Ye(window.location.search.substring(1)),this.width=j(window).width(),this.height=j(window).height(),this.referrer=k.referrer,ProperMedia.utils.mergeObject(this.spa_settings,ProperMedia.utils.deepCopy(special_ops.spa_settings)),this.spa_settings.enabled&&this.spa_settings.prefetch&&this.spa_settings.gallery_id&&this.spa_settings.gallery_base_url?this.bidder_page_url=this.spa_settings.gallery_base_url:this.bidder_page_url=this.url,this.page_number=x.length+1,this.log.mylog("width: "+this.width),this.checkDomainProtection(),this.checkPageIsolation(),this.updateTags(),this.updatePostId(),this.buildAdPools(),this.checkMobile(),this.sessionHandler.init(),this.log.init_bid_data()},this.getTimeOnPage=function(){return 0==this.start_ts?0:Date.now()-this.start_ts},this.checkDomainProtection=function(){if("undefined"!==z.domain_protection&&1==z.domain_protection){var e=new RegExp("(^|\\.)"+z.domain.replace(/(http(s)?:\/\/)?(www\.)?/,"")+"$");this.domain.match(e)||(this.log.mylog("WARNING: Domains don't match. Bids wont be sent out for this page"),this.dont_send_bids=!0)}},this.checkPageIsolation=function(){if(void 0!==z.isolated_urls&&0<z.isolated_urls.length)for(var e=0;e<z.isolated_urls.length;e++){var t=z.isolated_urls[e];if(0==this.path.indexOf(t)&&t){this.isolated=1;break}}void 0!==special_ops.isolated&&0==this.isolated&&(this.isolated=special_ops.isolated),T.ready(function(){this.log.mylog("CMP resolved: Present: "+T.cmpPresent+", Applies: "+T.gdprApplies+", Note: "+T.note+", Consent String: "+T.consentString),T.isolated&&(this.isolated=1,this.log.mylog("Isolated mode due to consent"))}.bind(this))},this.updateTags=function(){z.tags=void 0!==special_ops.tags&&null!=special_ops.tags?special_ops.tags:["unknown"],void 0!==special_ops.tags&&(this.dfp_tags=z.tags)},this.updatePostId=function(){z.post_id=void 0!==special_ops.post_id&&null!=special_ops.post_id?special_ops.post_id:"",this.post_id=z.post_id},this.buildAdPools=function(){var e=z.ad_pools||special_ops.ad_pools;if(e&&0<e.length)for(var t=0;t<e.length;t++){var i=e[t],s=new O(i);this.adPools.push(s)}},this.assignSlotToAdPool=function(e){if(this.adPools&&0<this.adPools.length)for(var t=0;t<this.adPools.length;t++)if(-1!==this.adPools[t].slots.indexOf(e.name))return e.adPool=this.adPools[t],!0;return!1},this.checkMobile=function(){0<z.mobile_resolution&&this.width<z.mobile_resolution&&(this.is_mobile=1,z.ad_ids=z.mobile_ids)},this.getSlotByNumber=function(e,t){for(var i in this.slots)if(this.slots[i].hasOwnProperty("number")&&this.slots[i].type==t&&this.slots[i].number==e)return this.slots[i]},this.buildDefaultSlots=function(){var e=0,t={},i={},s=void 0!==special_ops.page_type&&void 0!==z.ad_pages[special_ops.page_type]?z.ad_pages[special_ops.page_type]:[];if(void 0!==special_ops.possible_ads&&""!=special_ops.possible_ads&&0<special_ops.possible_ads.length){e=1;for(var r=0;r<special_ops.possible_ads.length;r++)t[special_ops.possible_ads[r]]=1}else if(""!=special_ops.page_type&&void 0!==s&&0<s.length){e=1;for(r=0;r<z.ad_pages[special_ops.page_type].length;r++)t[s[r]]=1}if(special_ops.spa_settings&&1==special_ops.spa_settings.enabled&&1==special_ops.spa_settings.prefetch&&special_ops.spa_settings.prefetch_slots&&0<special_ops.spa_settings.prefetch_slots.length){e=1;for(r=0;r<special_ops.spa_settings.prefetch_slots.length;r++)t[special_ops.spa_settings.prefetch_slots[r]]=1}if(void 0!==special_ops.optional_ads&&""!=special_ops.optional_ads)for(r=0;r<special_ops.optional_ads.length;r++)i[special_ops.optional_ads[r]]=1;if(1==this.spa_settings.enabled&&1==this.spa_settings.prefetch&&0<this.spa_settings.prefetch_slots.length){e=1;for(r=0;r<this.spa_settings.prefetch_slots.length;r++)t[this.spa_settings.prefetch_slots[r]]=1}if(1==e)for(var o in z.ad_slots){var n=0;for(var a in z.ad_slots[o])n++,void 0!==t[a]&&void 0===i[a]?1==this.spa_settings.enabled&&1<this.spa_settings.page_number&&this.slots[a]&&this.slots[a]instanceof E?this.rebuildSlot(a,n,o):this.buildSlot(a,n,o):1==this.spa_settings.enabled&&1<this.spa_settings.page_number&&this.slots[a]&&this.slots[a]instanceof E&&(this.slots[a].deleteSlot(),delete this.slots[a])}else if(1==this.spa_settings.enabled&&1<this.spa_settings.page_number)for(a in this.slots){ProperMedia.utils.getSlotFromPageObject(this,a)&&(this.slots[a].deleteSlot(),delete this.slots[a])}},this.buildSlot=function(e,t,i){if(void 0!==z.member&&"yes"==z.member&&t==z.sticky_slot&&"display"==i){if(750<this.width&&void 0!==z.member_sticky_desktop&&"no"==z.member_sticky_desktop)return;if(this.width<=750&&void 0!==z.member_sticky_mobile&&"no"==z.member_sticky_mobile)return}if(slot=new E(this),slot.name=e,slot.number=t,slot.type=i,slot.sticky=slot.number==z.sticky_slot&&"display"==slot.type?1:0,slot.outstream=void 0!==z.outstream_settings&&void 0!==z.outstream_settings.slot_name&&slot.name==z.outstream_settings.slot_name&&"video"==slot.type?1:0,slot.div_id=1<this.page_number?"proper-ad-"+slot.name+"-"+this.page_number:"proper-ad-"+slot.name,slot.position=void 0!==z.ad_pos[slot.name]?z.ad_pos[slot.name]:"atf",slot.refresh_inactive_tab=z.refresh_inactive_tab,1!=slot.sticky||!(z.disable_sticky_on_close&&1==m.stickyFreqCapHandler.getStickyClosedCookie()||z.enable_sticky_freq_cap&&m.stickyFreqCapHandler.getStickyUnitImps()>=z.sticky_freq_cap)){if(1==this.is_mobile&&z.hasOwnProperty("mobile_ad_retry_max")?slot.wait_count_max=z.mobile_ad_retry_max:0==this.is_mobile&&z.hasOwnProperty("ad_retry_max")&&(slot.wait_count_max=z.ad_retry_max),z.ad_slot_options&&z.ad_slot_options[slot.name])for(var s in z.ad_slot_options[slot.name])slot[s]=z.ad_slot_options[slot.name][s];if(z.ad_slot_settings&&z.ad_slot_settings[slot.name])for(var s in z.ad_slot_settings[slot.name])slot[s]=z.ad_slot_settings[slot.name][s];if(slot.inview=0==this.is_mobile&&1==slot.inview_ad_refresh||slot.sticky?1:0,slot.refresh_interval=(slot.inview||slot.viewable_ad_refresh)&&slot.refresh_interval?slot.refresh_interval:z.refresh_interval,slot.inview_refresh_interval=(slot.inview||slot.viewable_ad_refresh)&&slot.inview_refresh_interval?slot.inview_refresh_interval:z.inview_refresh_interval,slot.lazyload_enabled=z.lazyload_enabled&&!slot.exclude_lazyload?1:0,slot.refresh_max=z.refresh_max,slot.refresh_cnt=0,slot.max_timeout=parseInt(slot.wait_interval)*parseInt(slot.wait_count_max),"btf"==slot.position&&(slot.max_timeout=parseInt(1.1*slot.max_timeout)),this.getMaxTier(slot),this.parseTierSizes(slot),"display"==slot.type&&(1==z.report_ads&&0==slot.exclude_ad_report&&(slot.report_ad_tool=1),0==slot.exclude_ad_refresh&&(slot.refresh=z.refresh),1==z.exclude_google_refresh&&(slot.exclude_advertiser=[z.google_advertiser,z.adsense_advertiser]),1!=slot.refresh&&1!=slot.viewable_ad_refresh||slot.refresh_handler&&slot.removeRefreshTimeout(),1==slot.viewable_ad_refresh||1==slot.lazyload_enabled||0==slot.refresh_inactive_tab)){this.viewability_tracker||(this.viewability_tracker=new l),slot.refresh_interval=(slot.inview||slot.viewable_ad_refresh)&&slot.refresh_interval?slot.refresh_interval:z.refresh_interval,slot.inview_refresh_interval=(slot.inview||slot.viewable_ad_refresh)&&slot.inview_refresh_interval?slot.inview_refresh_interval:z.inview_refresh_interval,this.is_mobile?(slot.lazyload.fetchMarginPercent=void 0!==slot.lazyload_fetch_margin_mobile?slot.lazyload_fetch_margin_mobile:z.lazyload_fetch_margin_mobile,slot.lazyload.renderMarginPercent=void 0!==slot.lazyload_render_margin_mobile?slot.lazyload_render_margin_mobile:z.lazyload_render_margin_mobile):(slot.lazyload.fetchMarginPercent=void 0!==slot.lazyload_fetch_margin_desktop?slot.lazyload_fetch_margin_desktop:z.lazyload_fetch_margin_desktop,slot.lazyload.renderMarginPercent=void 0!==slot.lazyload_render_margin_desktop?slot.lazyload_render_margin_desktop:z.lazyload_render_margin_desktop);var r={id:slot.div_id,lazyload:!!slot.lazyload_enabled,viewability:!!slot.viewable_ad_refresh,fetchMarginPercent:slot.lazyload.fetchMarginPercent,renderMarginPercent:slot.lazyload.renderMarginPercent,minHeight:slot.min_height};this.viewability_tracker.addElement(r,slot.viewabilityChange.bind(slot))}this.assignSlotToAdPool(slot)}},this.SpaNextPage=function(){var e=this.getTimeOnPage();this.log.mylog("Time on page: "+e),this.spa_settings.page_number++,this.start_ts=Xe(),"https:"==k.location.protocol?(this.protocol="https:",this.use_ssl=!0):this.protocol="http:",this.uuid=$e(),this.url=We(),this.path=Je(),this.domain=Ze(),this.get_vars=Ye(window.location.search.substring(1)),this.width=j(window).width(),this.height=j(window).height(),this.referrer=k.referrer;var s=!1;ProperMedia.utils.deepAccess(this.spa_settings,"gallery_id")&&ProperMedia.utils.deepAccess(special_ops,"spa_settings.gallery_id")&&ProperMedia.utils.deepAccess(this.spa_settings,"gallery_id")===ProperMedia.utils.deepAccess(special_ops,"spa_settings.gallery_id")?this.clearExpiredAds():s=this.clearCachedAds(),this.spa_settings.enabled&&this.spa_settings.prefetch&&this.spa_settings.gallery_id&&this.spa_settings.gallery_base_url?this.bidder_page_url=this.spa_settings.gallery_base_url:this.bidder_page_url=this.url,this.log.mylog("width: "+this.width),this.checkDomainProtection(),this.checkPageIsolation(),this.updateTags(),this.updatePostId(),this.sessionHandler.init(),this.log.init_bid_data(),this.buildDefaultSlots();var t=z.enabled_bidders||[];t=Te(t=Se(this,t)),z.enabled_bidders=t,this.bids={};var r={};for(slot_name in 1==this.spa_settings.enabled&&1==this.spa_settings.prefetch&&(this.spa_settings.prefetched_slots=ProperMedia.utils.deepCopy(this.spa_settings.prefetch_slots)||[],Object.keys(this.slots).forEach(function(e){var t=ProperMedia.utils.getSlotFromPageObject(this,e);if(t&&t instanceof E){if(t.prefetched=!1,0<t.ads.length&&t.getWinningBid(),0==s&&-1!==this.spa_settings.prefetched_slots.indexOf(t.name)&&"undefined"!==t.winning_ad.price&&0<t.winning_ad.price&&0<t.ads.length)this.log.mylog(t.name+": Displaying prefetched bid. Page Number: "+this.spa_settings.page_number),t.bidsReady();else if(this.log.mylog(t.name+": Setting up bids. Page Number: "+this.spa_settings.page_number),r[t.name]=t,this.spa_settings.prefetched_slots&&-1!==this.spa_settings.prefetched_slots.indexOf(t.name)){var i=this.spa_settings.prefetched_slots.indexOf(t.name);this.spa_settings.prefetched_slots.splice(i,1)}-1!==this.spa_settings.prefetch_slots.indexOf(t.name)&&(r[t.name]=t)}},this)),ProperMedia.utils.mergeObject(this.spa_settings,ProperMedia.utils.deepCopy(special_ops.spa_settings)),ze(r,t[0]),je(this,"page",t[0]),r){var i=ProperMedia.utils.getSlotFromPageObject(this,slot_name);i&&i instanceof E&&je(i,"slot",t[0])}},this.rebuildSlot=function(e,t,i){var s=this.getSlotByNumber(t,"display"),r=s.max_tier;this.getMaxTier(s);var o={};r!==s.max_tier&&(o[s.name]=s,this.parseTierSizes(s));var n=z.enabled_bidders[0]||{};ze(o,n),s.resetForSpaNextPage(n)},this.getMaxTier=function(e){for(var t in e.max_tier=0,z.ad_slots[e.type][e.name])t=parseInt(t),this.width>=t&&t>=e.max_tier&&(e.max_tier=t)},this.parseTierSizes=function(e){e.sizes={};var t=0,i=z.ad_slots[e.type][e.name][e.max_tier];if(i&&0<i.length){for(var s=0;s<i.length;s++){var r=i[s].split("x");r[0]=parseInt(r[0])||NaN,r[1]=parseInt(r[1])||NaN,isNaN(r[0])||isNaN(r[1])||(1!=r[0]&&1!=r[1]&&((r[0]<e.min_width||0==e.min_width)&&(e.min_width=r[0]),(r[1]<e.min_height||0==e.min_height)&&(e.min_height=r[1]),(r[0]*r[1]<t||0==t)&&(e.default_size=i[s],t=r[0]*r[1])),1==e.sticky?void 0!==z.sticky_floors[i[s]]&&((0==e.floors.backup_floor||e.floors.backup_floor>z.sticky_floors[i[s]])&&(e.floors.backup_floor=z.sticky_floors[i[s]]),e.floors.sizes[i[s]]=z.sticky_floors[i[s]]):void 0!==z.floors[i[s]]&&""!==z.floors[i[s]]&&(e.floors.sizes[i[s]]=z.floors[i[s]])),void 0!==z.ad_ids[e.name+"@"+i[s]]?e.sizes[i[s]]=z.ad_ids[e.name+"@"+i[s]]:e.sizes[i[s]]={}}"320x50"==e.default_size&&void 0!==e.sizes["300x250"]&&(e.default_size="300x250"),this.slots[e.name]||(this.slots[e.name]=e)}var o=e.custom_floor&&e.custom_floor>z.backup_floor?e.custom_floor:z.backup_floor;e.floors.backup_floor<o&&(e.floors.backup_floor=o)},this.clearExpiredAds=function(){for(slot_name in this.slots){var e=ProperMedia.utils.getSlotFromPageObject(this,slot_name);e&&e instanceof E&&e.clearExpiredAds()}for(var t=0;t<this.adPools.length;t++)this.adPools[t].clearExpiredAds();return!0},this.clearCachedAds=function(){for(slot_name in this.log.mylog("Clearing cached ads"),this.slots){var e=ProperMedia.utils.getSlotFromPageObject(this,slot_name);e&&e instanceof E&&e.clearCachedAds()}for(var t=0;t<this.adPools.length;t++)this.adPools[t].clearCachedAds();return!0},this.init()},E=function(e){this.page=e,this.name="",this.number=0,this.type="",this.size=[0,0],this.div_id="",this.max_tier=0,this.sizes={},this.default_size="0x0",this.min_width=0,this.min_height=0,this.position="atf",this.auction_num=0,this.bids={},this.bids_started_ts=0,this.bids_sent=0,this.bids_returned=0,this.bids_ready=0,this.bids_ready_ts=0,this.auction_send_complete=!1,this.last_displayed_ts=0,this.precent_bids_ready=0,this.mapped_dfp_sizes=0,this.dfp_slot={},this.dfp_ready=0,this.dfp_sent=0,this.dfp_refreshed=0,this.winning_ad={},this.displayed_ad={},this.ads=[],this.sticky=0,this.inview=0,this.displayed=0,this.delay_handle=null,this.timeout_handle=null,this.max_timeout=2e3,this.wait_interval=300,this.wait_count=0,this.wait_count_max=6,this.refresh=0,this.refresh_max=0,this.refresh_cnt=0,this.refresh_handler=null,this.refresh_timer_met=!1,this.refresh_inactive_tab=0,this.min_refresh_interval=15e3,this.inview_ad_refresh=0,this.viewable_ad_refresh=0,this.exclude_ad_refresh=0,this.exclude_ad_report=0,this.exclude_advertiser=[],this.exclude_bidders={},this.advertiserId=0,this.report_ad_tool=0,this.dfp_targeting={},this.banger_loop=0,this.dfp_init=0,this.dfp_enabled_services=!1,this.always_refresh_dfp=0,this.outstream=0,this.adPool={},this.floors={backup_floor:0,sizes:{}},this.lazyload_enabled=0,this.exclude_lazyload=0,this.lazyload={inFetchZone:!1,inRenderZone:!1,fetchMarginPercent:0,renderMarginPercent:0},this.viewability={viewable:!1,activeTab:!0,entered_inview_ts:0,total_time_inview:0},this.kill_slot=!1,this.prefetched=!1,this._videoCallback,this.getElement=function(){return(this.iframe_window||top).document.getElementById(this.div_id)},this.logBidResponse=function(e,t,i,s,r,o,n,a,d,l){var p=i=parseFloat(i);if(i=z.bidder_info[e]&&z.bidder_info[e].rev_share?i*z.bidder_info[e].rev_share:i,void 0!==this.bids[e]&&(this.bids[e].responses[t]={bidder:e,size:t,price:i,gross:p,adcode:s,tag_id:r,request_url:o,obj:n,ad_details:a}),void 0!==this.page.bids[e]&&(void 0===this.page.bids[e].responses[this.name]&&(this.page.bids[e].responses[this.name]={}),this.page.bids[e].responses[this.name][t]={bidder:e,size:t,price:i,gross:p,adcode:s,tag_id:r,request_url:o,obj:n,ad_details:a}),0<i){var c=new C(this);c.bidder=e,c.size=t,c.price=i,c.gross=p,c.floor=l,c.adcode=s,c.tag_id=r,c.ad_details=a,c.request_url=o,c.response=n,c.response_ms=d,c.received_ts=Date.now();var u=ke(e);void 0!==h[u]&&void 0!==h[u].bidderInfo&&void 0!==h[u].bidderInfo.default_bid_ttl&&(c.ttl=h[u].bidderInfo.default_bid_ttl),this.ads.push(c),this.adPool instanceof O&&this.adPool.addBidToPool(c)}},this.incrementBidResponseCount=function(e,t){isNaN(parseInt(t))&&(t=0),this.page.requests_retuned+=parseInt(t),this.bids_returned+=parseInt(t),void 0!==this.bids[e]&&(this.bids[e].returned+=parseInt(t)),void 0!==this.page.bids[e]&&(this.page.bids[e].returned+=parseInt(t)),0==this.bids_ready&&this.checkBidsReady()},this.calcAuctionMs=function(){var e=0==this.bids_started_ts?this.page.bids_started_ts:this.bids_started_ts;return 0<this.bids_ready_ts&&0<e&&this.bids_ready_ts>e?this.bids_ready_ts-e:-1},this.auctionTimePassed=function(){var e=0==this.bids_started_ts?this.page.bids_started_ts:this.bids_started_ts;return(new Date).getTime()-e},this.checkBidsReady=function(){(this.bids_returned>=this.bids_sent||this.auctionTimePassed()>=this.max_timeout||this.bids_returned>=.8*this.bids_sent&&this.auctionTimePassed()>.8*this.max_timeout)&&this.bidsReady()},this.bidsReady=function(){if(1==this.auction_send_complete||1==this.prefetched||1==this.kill_slot||this.lazyload_enabled&&!this.lazyload.inRenderZone)return!1;if(this.bids_ready_ts=Xe(),this.precent_bids_ready=this.getPrecentBidsReady(),this.bids_ready=1,"display"==this.type){if(1==this.page.isolated)if(this.getWinningBid(),"undefined"==this.winning_ad.price&&0==this.auction_num&&void 0!==z.secondary_auction&&1==z.secondary_auction){var e=1<this.page.page_number?this.page.page_number+"|"+this.number:this.number;De(k,e)}else Ie(this)&&(this.auction_send_complete=!0);else"undefined"!=typeof dfp_per_slot&&1==dfp_per_slot?0==this.dfp_init?Pe():0==this.mapped_dfp_sizes?Ee(this):0==this.dfp_ready?Ce(this):(!this.dfp_sent||0<this.refresh_cnt&&!this.dfp_refreshed)&&Oe(this):void 0!==f&&(0==f&&Pe(),1==f&&(0==this.mapped_dfp_sizes&&Ee(this),1==this.mapped_dfp_sizes&&(0==this.dfp_ready&&Ce(this),1==this.dfp_ready&&(0==this.dfp_sent||0<this.refresh_cnt&&0==this.dfp_refreshed)&&Oe(this))));1==this.auction_send_complete&&this.resetTimeout()}else"video"==this.type&&(this.getWinningBid(),this.checkVideoAuction());return!0},this.checkVideoAuction=function(){var o=this;this.bids_ready&&"function"==typeof this._videoCallback&&(this.winning_ad.hasOwnProperty("adcode")?(this._videoCallback(this.winning_ad.adcode,this.winning_ad.ad_details.response_type),k.body.addEventListener("outstreamImpression",_.wrap(function(e){var t=o,i=o.page,s=o.winning_ad,r=t.calcAuctionMs();i.log.bid_data.ad_slots[t.name]={slot_name:et(t.name,{type:"string",max_len:50}),bidder:et(s.bidder,{type:"string",max_len:30}),gross:et(s.gross,{type:"a9"==s.bidder?"string":"number",max:999,max_len:15}),price:et(s.price,{type:"a9"==s.bidder?"string":"number",max:999,max_len:15}),size:et(s.size,{type:"string",max_len:10}),refresh_cnt:et(t.refresh_cnt,{type:"number",max:999}),line_item_id:"",response_ms:et(s.response_ms,{type:"number",max:999999}),auction_duration:et(r,{type:"number",max:999999}),precent_bids_ready:et(t.precent_bids_ready,{type:"number",max:100}),tag_id:et(s.tag_id,{type:"string",max_len:50})},clearTimeout(i.log.tracker_timeout),i.log.tracker_timeout=null,i.log.tracker_timeout=P.setTimeout.call(i,function(){i.log.proper_tracker()},i.log.tracker_wait)}),!1)):this._videoCallback(!1,!1))},this.getPrecentBidsReady=function(){return 0<this.bids_sent?(this.bids_returned/this.bids_sent*100).toFixed(2):0},this.getWinningBid=function(){if(this.winning_ad.bidder&&this.winning_ad.adcode&&0==this.winning_ad.displayed&&!this.winning_ad.checkIfExpired()&&(this.adPool instanceof O?this.adPool.addBidToPool(this.winning_ad):this.ads.push(this.winning_ad)),this.winning_ad={},this.adPool instanceof O)this.adPool.getWinningBid(this);else if(0<this.ads.length){this.ads.sort(function(e,t){return parseFloat(t.price)-parseFloat(e.price)});for(var e=0;e<this.ads.length;e++){var t=this.ads[e];if(t.checkIfExpired())this.ads.splice(e,1).pop();else if(!(1==t.displayed||void 0!==this.exclude_bidders[t.bidder]&&1==this.exclude_bidders[t.bidder]||1==this.sticky&&1==this.displayed&&0<this.refresh_cnt&&this.size.join("x")!=t.size)){var i=0;if(i=void 0!==this.page.get_vars.proper_test&&(this.page.get_vars.proper_test==t.bidder||"s2s"==this.page.get_vars.proper_test&&t.bidder.includes("_s2s"))?0:this.floors.sizes.hasOwnProperty(t.size)&&this.floors.sizes[t.size]>this.floors.backup_floor?this.floors.sizes[t.size]:this.floors.backup_floor,!(0<this.refresh_cnt&&1!=z.full_refresh&&1==ProperMedia.utils.deepAccess(z,"bidder_info."+t.bidder+".dont_refresh"))&&t.price>=i){this.winning_ad=this.ads.splice(e,1).pop();break}}}}},this.wait=function(){var e=this;null==this.timeout_handle&&(this.timeout_handle=P.setTimeout.call(e,function(){e.bidsReady()},e.max_timeout))},this.resetTimeout=function(){clearTimeout(this.timeout_handle),this.timeout_handle=null},this.setRefreshInterval=function(){if(1==this.winning_ad.displayed&&1==ProperMedia.utils.deepAccess(z,"bidder_info."+this.winning_ad.bidder+".dont_refresh")||0==this.refresh)this.refresh=0;else{var e=Math.max(this.refresh_interval,this.min_refresh_interval);if(-1!==[z.google_advertiser,z.adsense_advertiser].indexOf(this.advertiserId)&&e<z.adx_refresh_interval&&(e=z.adx_refresh_interval),this.viewable_ad_refresh){if(!this.viewability.viewable)return;e=Math.max(0,this.inview_refresh_interval-this.viewability.total_time_inview,e-this.timeSinceRefresh())}else if(this.inview)e=Math.max(0,this.inview_refresh_interval-this.timeSinceRefresh(),e-this.timeSinceRefresh());else{var t=1==this.winning_ad.displayed&&ProperMedia.utils.deepAccess(z,"bidder_info."+this.winning_ad.bidder+".refresh_interval")?ProperMedia.utils.deepAccess(z,"bidder_info."+this.winning_ad.bidder+".refresh_interval"):0;e=Math.max(t,e)}this.addRefreshTimeout(e)}},this.addRefreshTimeout=function(e){var t=this;this.removeRefreshTimeout(),this.refresh_handler=P.setTimeout.call(t,function(){t.refresh_timer_met=!0,t.removeRefreshTimeout(),t.refreshSlot()},e),this.page.log.mylog(this.name+": Starting refresh timer. ms = "+e)},this.timeSinceRefresh=function(){return 0==this.last_displayed_ts?0:Date.now()-this.last_displayed_ts},this.removeRefreshTimeout=function(){this.page.log.mylog(this.name+": Removing refresh timer."),clearTimeout(this.refresh_handler),this.refresh_handler=null},this.resetBidData=function(t){this.bids_started_ts=0,this.bids_sent=0,this.bids_returned=0,this.bids_ready=0,this.bids_ready_ts=0,this.last_displayed_ts=0,this.precent_bids_ready=0,this.dfp_ready=0,this.dfp_refreshed=0,this.winning_ad={},this.exclude_advertiser=[],this.exclude_bidders={},this.advertiserId=0,this.prefetched=!1,this.refresh_timer_met=!1,this.auction_send_complete=!1,this.viewability.entered_inview_ts=0,this.viewability.total_time_inview=0;var i={};if(Object.keys(t).forEach(function(e){1==t[e]&&(void 0!==this.bids[e]&&void 0!==this.bids[e].requests&&1!==z.bidder_info[e].remnant?(this.bids[e].responses={},this.bids[e].returned=0,this.bids[e].sent=0):void 0!==z.bidder_info[e]&&(void 0===this.bids[e]||void 0!==z.bidder_info[e].bid_grouping&&"page"==z.bidder_info[e].bid_grouping)&&(i[e]=1))},this),0<Object.keys(i).length){var e={};e[this.name]=this,ze(e,i)}},this.refreshSlot=function(){if(this.refresh_cnt<this.refresh_max){if(this.lazyload_enabled&&!this.lazyload.inFetchZone)return;if(this.page.log.mylog("Refreshing slot: "+this.name),this.refresh_cnt++,1==z.exclude_dfp_refresh&&(this.page.isolated=1),1==z.full_refresh){var e=z.enabled_bidders[this.auction_num]||{};this.resetBidData(e),0<this.ads.length&&1==this.prefetched&&this.getWinningBid(),-1!==(this.page.spa_settings.prefetch_slots||[]).indexOf(this.name)&&"undefined"!==this.winning_ad.price&&0<this.winning_ad.price&&1==this.prefetched&&0<this.ads.length?(this.prefetched=!1,this.bidsReady()):je(this,"slot",e)}else this.bidsReady()}},this.checkPrefetch=function(){1==this.page.spa_settings.enabled&&1==this.page.spa_settings.prefetch&&(this.getElement()&&1==this.page.spa_settings.prefetch_slots_on_page&&-1==this.page.spa_settings.prefetch_slots.indexOf(this.name)&&this.page.spa_settings.prefetch_slots.push(this.name),-1!==this.page.spa_settings.prefetch_slots.indexOf(this.name)&&0==this.prefetched&&this.prefetchAds())},this.prefetchAds=function(){this.page.log.mylog(this.name+": Prefetching bids. Page number: "+this.page.spa_settings.page_number);var e=z.enabled_bidders[this.auction_num]||{};this.resetBidData(e),this.prefetched=!0,je(this,"slot",e)},this.resetForSpaNextPage=function(t){this.bids_started_ts=0,this.bids_sent=0,this.bids_returned=0,this.bids_ready=0,this.bids_ready_ts=0,this.last_displayed_ts=0,this.precent_bids_ready=0,this.dfp_ready=0,this.dfp_refreshed=0,this.winning_ad={},this.exclude_advertiser=[],this.exclude_bidders={},this.advertiserId=0,this.refresh_timer_met=!1,this.auction_send_complete=!1,this.viewability.entered_inview_ts=0,this.viewability.total_time_inview=0,Object.keys(t).forEach(function(e){1==t[e]&&(void 0===this.bids[e]||void 0===this.bids[e].requests||z.bidder_info[e].rev_share||1===z.bidder_info[e].remnant||(this.bids[e].responses={},this.bids[e].returned=0,this.bids[e].sent=0))},this),this.removeRefreshTimeout()},this.getTimeInview=function(){return 0==this.viewability.entered_inview_ts?0:Date.now()-this.viewability.entered_inview_ts},this.viewabilityChange=function(e){if(this.viewable_ad_refresh&&this.viewability.viewable!=e.viewable?(this.page.log.mylog(this.name+": Viewability Change. visible = "+e.viewable),this.viewability.viewable=e.viewable,this.viewability.activeTab=e.activeTab,this.viewability.viewable?(this.viewability.entered_inview_ts=Xe(),this.displayed&&this.refresh&&this.refresh_cnt<this.refresh_max&&this.setRefreshInterval()):(this.viewability.total_time_inview+=this.getTimeInview(),this.removeRefreshTimeout())):this.refresh_inactive_tab||this.viewability.activeTab==e.activeTab||(this.page.log.mylog(this.name+": Viewability Change. Active Tab = "+e.activeTab),this.viewability.viewable=e.viewable,this.viewability.activeTab=e.activeTab,this.viewability.activeTab?this.displayed&&this.refresh&&this.refresh_cnt<this.refresh_max&&this.setRefreshInterval():this.removeRefreshTimeout()),this.lazyload_enabled){if(this.lazyload.inFetchZone!=e.inFetchZone)if(this.page.log.mylog(this.name+": LazyLoad Change. inFetchZone = "+e.inFetchZone),this.lazyload.inFetchZone=e.inFetchZone,this.lazyload.inFetchZone&&0==this.refresh_cnt&&0==this.bids_started_ts){var t=z.enabled_bidders[this.auction_num]||{};1!=this.page.isolated&&("undefined"!=typeof dfp_per_slot&&1==dfp_per_slot?0==this.dfp_init?Pe():0==this.mapped_dfp_sizes&&Ee(this):void 0!==f&&(0==f&&Pe(),0==this.mapped_dfp_sizes&&Ee(this))),je(this,"slot",t)}else this.lazyload.inFetchZone&&this.displayed&&this.refresh&&this.refresh_timer_met&&this.refreshSlot();this.lazyload.inRenderZone!=e.inRenderZone&&(this.page.log.mylog(this.name+": LazyLoad Change. inRenderZone = "+e.inRenderZone),this.lazyload.inRenderZone=e.inRenderZone,this.lazyload.inRenderZone&&0<this.bids_sent&&0==this.bids_ready&&this.checkBidsReady())}},this.getGPTSlots=function(){var e=[];return 0==this.page.isolated&&(e="undefined"!=typeof dfp_per_slot&&1==dfp_per_slot?this.google_tag.pubads().getSlots().map(function(e){return e.getSlotElementId()}):googletag.pubads().getSlots().map(function(e){return e.getSlotElementId()})),e},this.isSlotDefinedInGPT=function(){return!!this.div_id&&-1!==this.getGPTSlots().indexOf(this.div_id)},this.deleteSlot=function(){this.kill_slot=!0,this.refresh=0,this.removeRefreshTimeout(),this.resetTimeout(),this.inview=0,this.refresh_inactive_tab=0,this.inview_ad_refresh=0,this.viewable_ad_refresh=0,this.lazyload_enabled=0,this.div_id="",this.destroyDfpSlot()},this.destroyDfpSlot=function(){0==this.page.isolated&&("undefined"!=typeof dfp_per_slot&&1==dfp_per_slot?this.google_tag.cmd.push(function(){this.google_tag.destroySlots([this.dfp_slot])}):googletag.destroySlots([this.dfp_slot]),this.dfp_slot={},this.dfp_init=0,this.dfp_ready=0,this.dfp_sent=0,this.dfp_refreshed=0,this.mapped_dfp_sizes=0)},this.clearExpiredAds=function(){if(0<this.ads.length)for(var e=0;e<this.ads.length;e++)this.ads[e].checkIfExpired()&&this.ads.splice(e--,1)},this.clearCachedAds=function(){this.ads=[],this.winning_ad={}}},y=function(){this.bidder="",this.sent=0,this.returned=0,this.requests={},this.responses={}},C=function(e){this.slot=e,this.price=0,this.dfp_price=0,this.gross=0,this.bidder="",this.size="1x1",this.adcode="",this.tag_id="",this.ad_details={},this.request_url="",this.response={},this.response_ms=0,this.displayed=0,this.received_ts=0,this.ttl=12e4,this.timePassed=function(){return(new Date).getTime()-this.received_ts},this.checkIfExpired=function(){return this.timePassed()>this.ttl}},w=function(e){this.page=e,this.log_lines={},this.autoplay_html={},this.rogue_data=[],this.saved_data={},this.bid_data={},this.ad_info={},this.rogue_timeout=null,this.tracker_timeout=null,this.tracker_wait=500,this.init_bid_data=function(){"greatergood_ctg"!=z.site_name&&"historyinorbit"!=z.site_name&&"groovyhistory"!=z.site_name||(this.tracker_wait=100),this.bid_data={website:et(z.site_name,{type:"string",default_val:"unknown",max_len:40}),url:et(this.page.url,{type:"string",max_len:255}),url_path:et(this.page.path,{type:"string",max_len:150}),os:et(window.device.os_group,{type:"string",max_len:30}),browser:et(window.device.browser_group,{type:"string",max_len:30}),device:et(window.device.device_type,{type:"string",max_len:10}),use_ssl:et(this.page.use_ssl,{type:"boolean"}),is_mobile:et(this.page.is_mobile,{type:"boolean"}),is_isolated:et(this.page.isolated,{type:"boolean"}),session_depth:et(this.page.sessionHandler.sessionData.depth,{type:"number"}),session_guid:et(this.page.sessionHandler.sessionData.uuid,{type:"string"}),resolution_width:et(this.page.width,{type:"number",max:99999}),resolution_height:et(this.page.height,{type:"number",max:99999}),rtp_file_version:et(z.split_version,{type:"number"}),referrer:et(this.page.sessionHandler.sessionData.referrer,{type:"string",max_len:255}),utm_source:et(this.page.sessionHandler.sessionData.utm_source,{type:"string",max_len:50}),utm_campaign:et(this.page.sessionHandler.sessionData.utm_campaign,{type:"string",max_len:50}),utm_medium:et(this.page.sessionHandler.sessionData.utm_medium,{type:"string",max_len:50}),utm_term:et(this.page.sessionHandler.sessionData.utm_term,{type:"string",max_len:50}),page_guid:et(this.page.uuid,{type:"string"}),tags:void 0!==z.tags?z.tags.join(","):"",ad_slots:{}},this.send_pageview_pixel()},this.send_pageview_pixel=function(){this.bid_data.ad_slots.pageview_pixel={slot_name:"pageview_pixel",bidder:"pageview_pixel",price:0,gross:0,size:"0x0",refresh_cnt:0,line_item_id:"",response_ms:0,auction_duration:0,precent_bids_ready:0,tag_id:""},this.proper_tracker()},this.log_bid=function(e,t,i,s){this.mylog(e+" ("+t.name+"@"+i+") = "+s)},this.mylog=function(e,t){t=t||"proper",this.log_lines[t]=function(e){void 0!==e&&(e instanceof Array||e instanceof Object)||(e=[]);return e}(this.log_lines[t]),this.log_lines[t].push(e),(1==this.page.get_vars[t]||"proper"==t&&1==Ke("proper_log"))&&console.log(e)},this.rogue_tracker=function(){if(clearTimeout(this.rogue_timeout),this.rogue_timeout=null,0<this.rogue_data.length){var t=this.rogue_data;this.rogue_data=[];var i=this;j.ajax({url:"https://proper.io/ajax/tracker.php?rogue=1",method:"POST",data:"data="+JSON.stringify(t),headers:{"Content-type":"application/x-www-form-urlencoded"},success:function(e){i.mylog("autoplay ads tracked! x"+t.length)}})}},this.proper_tracker=function(){var t=this,e={};clearTimeout(this.tracker_timeout),this.tracker_timeout=null,0<Object.keys(this.bid_data.ad_slots).length&&(e=JSON.stringify(this.bid_data),this.bid_data.ad_slots={},j.ajax({url:this.page.protocol+"//bids.proper.io/api/bidding",method:"POST",data:e,success:function(e){t.mylog("bids tracked!")},error:function(e){t.mylog("error tracking bid data")}}))},this.track_rogue=function(e,t){var i={};i=void 0!==e.winning_ad.displayed&&1==e.winning_ad.displayed?e.winning_ad:{bidder:"static_tag",price:0,size:"",adcode:"[DFP STATIC TAG]"},this.mylog("rogue "+t+" detected (slot="+e.name+", bidder="+i.bidder+")"),this.rogue_data.push({rogue_type:t,bidder:i.bidder,cpm:i.price,size:i.size,slot:e.name,website:z.site_name,device:window.device.device_type,os:window.device.os_group,browser:window.device.browser_group,is_mobile:e.page.is_mobile,tag_id:i.tag_id,ad_details:i.ad_details,split_version:z.split_version}),clearTimeout(this.rogue_timeout),this.rogue_timeout=null,this.rogue_timeout=P.setTimeout.call(this,function(){this.rogue_tracker()},this.tracker_wait),e.getWinningBid(),void 0===e.winning_ad.price||Ie(e)}},O=function(e){this.ads=[],this.displayedAds=[],this.slots=e||[],this.addBidToPool=function(e){0<e.price&&(this.ads.push(e),this.ads.sort(function(e,t){return parseFloat(t.price)-parseFloat(e.price)}))},this.getWinningBid=function(e){var t=Object.keys(e.sizes);if(0<this.ads.length)for(var i=0;i<this.ads.length;i++){var s=this.ads[i];if(s.checkIfExpired())this.ads.splice(i,1).pop();else if(-1!=t.indexOf(s.size)&&!(1==s.displayed||void 0!==e.exclude_bidders[s.bidder]&&1==e.exclude_bidders[s.bidder]||1==e.sticky&&1==e.displayed&&0<e.refresh_cnt&&e.size.join("x")!=s.size)){var r=0;if(r=void 0!==e.page.get_vars.proper_test&&(e.page.get_vars.proper_test==s.bidder||"s2s"==e.page.get_vars.proper_test&&s.bidder.includes("_s2s"))?0:e.floors.sizes.hasOwnProperty(s.size)&&e.floors.sizes[s.size]>e.floors.backup_floor?e.floors.sizes[s.size]:e.floors.backup_floor,!(0<e.refresh_cnt&&1!=z.full_refresh&&1==ProperMedia.utils.deepAccess(z,"bidder_info."+s.bidder+".dont_refresh"))&&s.price>=r){e.winning_ad=s,this.ads.splice(i,1).pop();break}}}},this.clearExpiredAds=function(){if(0<this.ads.length)for(var e=0;e<this.ads.length;e++)this.ads[e].checkIfExpired()&&this.ads.splice(e--,1)},this.clearCachedAds=function(){this.ads=[],this.displayedAds=[]}},M=function(e){this.page=e,this.sessionData={uuid:"",depth:0,referrer:"",utm_campaign:"",utm_source:"",utm_medium:"",utm_term:""},this.newCookieName="properSessionData",this.oldCookieName="sessionData",this.init=function(){this.getSessionCookie(),void 0!==this.sessionData.depth?this.sessionData.depth=this.sessionData.depth+1:this.sessionData.depth=1;var e=["utm_medium","utm_source","utm_campaign","utm_term"],t=e.some(function(e){return void 0!==this.page.get_vars[e]},this);""===this.page.referrer||function(e,t){if(-1!==t.indexOf("/")){var i=t.split("/");void 0!==i[2]&&(t=i[2])}if(-1!==t.indexOf("?")){var s=t.split("?");void 0!==s[0]&&(t=s[0])}return e==t||(1==Ge(e,"."+t)||1==Ge(t,"."+e))}(this.page.domain,this.page.referrer)||(this.checkForChange("referrer",this.page.referrer),t=!0),t&&e.forEach(function(e){this.checkForChange(e,this.page.get_vars[e]||"")},this),void 0!==this.sessionData.uuid&&""!=this.sessionData.uuid||(this.sessionData.uuid=$e(),this.sessionData.referrer=this.page.referrer),window.proper_ad_session_uuid=this.sessionData.uuid,this.setSessionCookie()},this.checkForChange=function(e,t){this.sessionData[e]!==t&&(this.sessionData[e]=t,this.sessionData.uuid="",this.sessionData.depth=1)},this.getSessionCookie=function(){if(void 0!==Ke(this.newCookieName)){var e=Ke(this.newCookieName)||"";e=ProperMedia.utils.isBase64(e)?ProperMedia.utils.b64DecodeUnicode(e):decodeURIComponent(e);var t=ProperMedia.utils.safeJsonParse(e)||{};ProperMedia.utils.mergeObject(this.sessionData,t)}else if(void 0!==Ke(this.oldCookieName)){var i=ProperMedia.utils.safeJsonParse(Ke(this.oldCookieName));if(null!=i){for(key in this.sessionData)void 0!==i[key]&&(this.sessionData[key]=i[key]);void 0!==i.encoded&&1==i.encoded&&(this.sessionData.referrer=decodeURIComponent(this.sessionData.referrer),this.sessionData.utm_campaign=decodeURIComponent(this.sessionData.utm_campaign),this.sessionData.utm_source=decodeURIComponent(this.sessionData.utm_source),this.sessionData.utm_medium=decodeURIComponent(this.sessionData.utm_medium),this.sessionData.utm_term=decodeURIComponent(this.sessionData.utm_term))}}},this.setSessionCookie=function(){var e=new Date;e.setTime(e.getTime()+18e5);var t=ProperMedia.utils.b64EncodeUnicode(JSON.stringify(this.sessionData));k.cookie=this.newCookieName+"="+t+"; expires="+e.toGMTString()+"; path=/; domain=."+this.page.domain+"; SameSite=Lax;"},this.deleteCookie=function(e){var t=new Date;t.setTime(t.getTime()-6e4),k.cookie=e+"=; expires="+t.toGMTString()+"; path=/; domain=."+this.page.domain+"; SameSite=Lax;"}},I=(s=!1,p=r=null,c=[],u={iframe:function(e){var t=k.createElement("iframe");t.id=R("i-"),t.frameborder="0",t.allowtransparency="true",t.marginheight="0",t.marginwidth="0",t.width="0",t.hspace="0",t.vspace="0",t.height="0",t.scrolling="no",t.style.display="none",t.style.width="0",t.style.height="0",t.sandbox="allow-scripts allow-same-origin",t.src=e,p.appendChild(t)},image:function(e){(new Image).src=e}},{add:function(e){c=c.concat(e),N()},start:function(){s||(s=!0,(p=k.createElement("div")).id=R("us-"),p.style.display="none",p.style.width="0",p.style.height="0",k.body.appendChild(p)),N()}});function R(e){return(e||"")+Math.random().toString(16).substr(2)}function A(){c.splice(0,5).forEach(function(e){u[e.type](e.url)}),0===c.length&&(clearInterval(r),r=null)}function N(){s&&0!==c.length&&null===r&&(r=setInterval(A,100),P.setTimeout(A,0))}var D,q,B,F,L,U,H,V,W,Z,G,J,Y,K,X,Q,$,ee,te,ie,se,re,oe,ne,ae,de,le,pe,ce,ue;D=[],q={cmpPresent:null,ready:function(e){D.push(e)}},function(i,s){var r={};function e(e,t){r[e]=t,r.getConsentData&&r.getVendorConsents&&(void 0===r.getConsentData.gdprApplies?s("CMP response invalid: "+JSON.stringify(r)):i({consentString:r.getConsentData.consentData,vendorData:r.getVendorConsents,gdprApplies:r.getConsentData.gdprApplies}))}var o,n={};try{o=window.__cmp||window.top.__cmp}catch(e){}if("[object Function]"==Object.prototype.toString.call(o))o("getConsentData",null,e.bind(null,"getConsentData")),o("getVendorConsents",null,e.bind(null,"getVendorConsents")),setTimeout(function(){var t=setTimeout(function(){s("CMP unresponsive.")},100);o("ping",null,function(e){clearTimeout(t),e.cmpLoaded||s("CMP did not load.")})},2e3);else{for(var a,t=window;!a;){try{t.frames.__cmpLocator&&(a=t)}catch(e){}if(t===window.top)break;t=t.parent}if(!a)return s("CMP not found.");d("getConsentData",a,e.bind(null,"getConsentData")),d("getVendorConsents",a,e.bind(null,"getVendorConsents")),setTimeout(function(){var t=setTimeout(function(){s("CMP unresponsive.")},100);d("ping",a,function(e){clearTimeout(t),e.cmpLoaded||s("CMP did not load.")})},2e3)}function d(e,o,t){function i(e){var t="string"==typeof e.data&&strIncludes(e.data,"cmpReturn")?ProperMedia.utils.safeJsonParse(e.data):e.data;if(t.__cmpReturn&&t.__cmpReturn.callId){var i=t.__cmpReturn;void 0!==n[i.callId]&&(n[i.callId](i.returnValue,i.success),delete n[i.callId])}}window.__cmp=function(e,t,i){var s=Math.random()+"",r={__cmpCall:{command:e,parameter:t,callId:s}};n[s]=i,o.postMessage(r,"*")},window.addEventListener("message",i,!1),window.__cmp(e,null,function(e){window.removeEventListener("message",i,!1),t(e)})}}(function(e){q.cmpPresent=!0,q.note="CMP responded.",q.consentString=e.consentString,q.vendorData=e.vendorData,q.gdprApplies=e.gdprApplies,e.gdprApplies&&(q.noPersonalization=!q.vendorData.purposeConsents[2],q.vendorData.purposeConsents[1]||q.vendorData.purposeConsents[2]||(q.isolated=!0)),he()},function(e){q.cmpPresent||(q.cmpPresent=!1,q.note=e,he())}),T=q;function he(){q.ready=function(e){e(q)},D.forEach(q.ready),D.length=0}function _e(){if(void 0!==special_ops.kill_all_ads&&"yes"==special_ops.kill_all_ads)return!1;var e=new v;x.push(e),e.log.mylog("========== New Page ==========")}function ge(e,t,i){var s={referrer:k.referrer,tz:(new Date).getTimezoneOffset(),buster:(new Date).getTime(),secure:"https:"===k.location.protocol,version:9};if(me()&&!be()||(s.mobile=!be()&&function(e){var t=!e&&("ontouchstart"in window||navigator.msMaxTouchPoints);if(me())return!t;var i=window.innerWidth||window.document.documentElement.clientWidth||window.document.body.clientWidth;return!t&&(!i||i>=(window.mantis_breakpoint||768))}(!0)?"false":"true"),window.mantis_uuid)s.uuid=window.mantis_uuid;else if(window.localStorage){var r=window.localStorage.getItem("mantis:uuid");r&&(s.uuid=r)}if(me())s.iframe=!0;else try{s.title=window.top.document.title,s.referrer=window.top.document.referrer,s.url=window.top.document.location.href}catch(e){}be()&&(s.amp=!0,!s.url&&window.context.canonicalUrl&&(s.url=window.context.canonicalUrl),!s.url&&window.context.location&&(s.url=window.context.location.href),!s.referrer&&window.context.referrer&&(s.referrer=window.context.referrer)),Object.keys(t||{}).forEach(function(e){s[e]=t[e]});var o=function e(t,i,s){if(!t)return null;var r=s||[];for(var o in t){var n=o;i&&(n=i+"["+o+"]");var a=t[o];if(c=a,"[object Array]"===Object.prototype.toString.call(c))for(var d=0;d<a.length;d++){var l=n+"["+d+"]",p=a[d];ve(p)?e(p,l,r):fe(p)&&r.push(l+"="+encodeURIComponent(p))}else ve(a)?e(a,n,r):fe(a)&&r.push(n+"="+encodeURIComponent(a))}var c;return r.join("&")}(s);return(void 0===window.mantis_domain?i||X:window.mantis_domain)+e+"?"+o}function me(){try{return window.self!==window.top&&!window.mantis_link}catch(e){return!0}}function fe(e){return null!=e&&("string"==typeof e?!(!e||/^\s*$/.test(e)):"number"!=typeof e||!isNaN(e))}function be(){return"object"==typeof window.context&&("AMP-AD"===window.context.tagName||"AMP-EMBED"===window.context.tagName)}function ve(e){return"[object Object]"===Object.prototype.toString.call(e)}function ye(i,n,a,d){function l(){h&&_&&_(),h=!1}function s(e,t,i){var s=void 0!==k.hidden&&k.hidden;if(0==i.width||0==i.height||s)return l();var r=i.height*d,o=i.width*d;return(i.top<0&&i.bottom>=r||0<i.top&&t-i.top>=r)&&(i.left<0&&i.right>=o||0<i.left&&e-i.left>=o)?!u&&a?(u=Date.now(),l()):a&&Date.now()-u<a?l():void(h||n(function(e){e?h=!0:(p&&clearInterval(p),c&&c())},function(e){_=e})):l()}var p,c,u=null,h=!1,_=null;be()&&(c=window.context.observeIntersection(function(e){e.forEach(function(e){s(e.rootBounds.width,e.rootBounds.height,e.boundingClientRect)})})),p=setInterval(function(){var e=window.innerHeight||k.documentElement.clientHeight,t=window.innerWidth||k.documentElement.clientWidth;s(t,e,i.getBoundingClientRect())},100)}function we(e,t){var i=k.createElement("img");i.src=e,i.style.cssText="display:none !important;",(t||k.body).appendChild(i)}function xe(e,t){if(se){se=!1;var i,s={bd:+new Date-t,bp:e.pub_rev,br:"0",bs:Ze(),bt:3e3,ts:e.ts};s.br=s.bt<s.bd?"t":"p";var r=(e&&e.creative&&e.creative[0]&&e.creative[0].tracking&&e.creative[0].tracking.impression||"").match(/([^?]+\/)ri\?/);r&&1<r.length&&(i=r[1]+"bo?"+function(t){for(var e in t)t.hasOwnProperty(e)&&(t[e]||delete t[e]);return Object.keys(t).map(function(e){return e+"="+t[e]}).join("&")}(s)),i&&I.add({type:"image",url:i})}}function ke(e){return"appnexus"==e||"brealtime"==e||"districtm"==e?"appnexus":"remnant_rubicon"==e||"remnant_adsense"==e||"remnant_adx"==e?"remnant":e}function ze(e,t){var i,s,r,o=1<Object.keys(e).length?1:0;for(slot_name in e){var n=e[slot_name];for(size in n.sizes)if(!(1==n.sticky&&1==n.displayed&&0<n.refresh_cnt&&n.size.join("x")!==size))for(bidder in n.sizes[size])if(void 0!==t[bidder]&&1==t[bidder]&&void 0!==n.sizes[size][bidder]&&""!==n.sizes[size][bidder]){var a=n.sizes[size][bidder],d=new y;d.bidder=bidder,"page"==z.bidder_info[bidder].bid_grouping&&(1==o||"proper"==bidder&&1==n.page.page_number)?d=void 0!==n.page.bids[bidder]?n.page.bids[bidder]:new y:"slot"!=z.bidder_info[bidder].bid_grouping&&0!=o||(d=void 0!==n.bids[bidder]?n.bids[bidder]:new y);var l=ke(bidder);try{void 0!==h[l]?d=h[l].formatRequest(n,a,size,d):"remnant"==l&&(i=a,s=size,(r=d).requests[s]=i,d=r)}catch(e){console.error(e),e.bidder=l,g(_.computeStackTrace(e))}"page"==z.bidder_info[bidder].bid_grouping&&(1==o||"proper"==bidder&&1==n.page.page_number)?n.page.bids[bidder]=d:"slot"!=z.bidder_info[bidder].bid_grouping&&0!=o||(n.bids[bidder]=d)}}}function Se(e,t){var i=e.sessionHandler.sessionData.depth;if(0<Object.keys(z.start_stop_bidders).length)for(var s in z.start_stop_bidders){for(var r=z.start_stop_bidders[s],o=!1,n=0;n<r.length;n++){var a=r[n];if((null===a.start||a.start<=i)&&(null===a.stop||i<=a.stop)){o=!1;break}o=!0}if(o)for(n=0;n<t.length;n++)void 0!==t[n][s]&&(t[n][s]=0)}return t}function Te(e){for(var t=[],i=0;i<e.length;i++){for(var s=Object.keys(e[i]),r=s.length-1;0<r;r--){var o=Math.floor(Math.random()*(r+1)),n=s[r];s[r]=s[o],s[o]=n}for(var a=0;a<s.length;a++)void 0===t[i]&&(t[i]={}),t[i][s[a]]=e[i][s[a]]}return t}function je(e,t,i){var s="slot"==t?e:{};if(!(!0===("page"==t?e:e.page).dont_send_bids||"slot"==t&&s instanceof E&&s.lazyload_enabled&&0==s.lazyload.inFetchZone)){var r=(new Date).getTime();for(bidder in e.bids_started_ts=r,"slot"==t&&e.wait(),i)if(1==i[bidder]&&void 0!==e.bids[bidder]&&void 0!==e.bids[bidder].requests&&"remnant_rubicon"!==bidder&&"remnant_adsense"!==bidder&&"remnant_adx"!==bidder){var o=ke(bidder);if(void 0!==h[o]){var n=e.bids[bidder].requests;if(void 0!==n.data&&0<n.data.length||0<Object.keys(n).length)try{h[o].send(e,t,n,bidder)}catch(e){console.error(e),e.bidder=o,g(_.computeStackTrace(e))}}}}}function Pe(){void 0!==z.confiant&&1==z.confiant&&confiantWrapper.loadDFPTag(window),function(){var e=k.createElement("script");e.async=!0,e.type="text/javascript";var t="https:"==k.location.protocol;e.src=(t?"https:":"http:")+"//securepubads.g.doubleclick.net/tag/js/gpt.js";var i=k.getElementsByTagName("script")[0];i.parentNode.insertBefore(e,i)}(),googletag.cmd.push(function(){T.noPersonalization&&googletag.pubads().setRequestNonPersonalizedAds(1),googletag.pubads().addEventListener("slotRenderEnded",_.wrap(function(e){var t=e.slot.getSlotElementId().split("-"),i=t[2],s=3<t.length?parseInt(t[3]):1,r=ProperMedia.utils.getPageObjectByIndex(x,s),o=ProperMedia.utils.getSlotFromPageObject(r,i);r&&o&&(e.advertiserId==z.amazon_advertiser&&(e.size=void 0!==o.bids.a9&&void 0!==o.bids.a9.responses&&void 0!==o.bids.a9.responses.size?o.bids.a9.responses.size.split("x"):o.default_size.split("x")),e.advertiserId!=z.proper_advertiser&&e.advertiserId!=z.amazon_advertiser&&0==e.isEmpty&&(function(e,t,i,s,r,o){var n=ProperMedia.utils.getPageObjectByIndex(x,e),a=ProperMedia.utils.getSlotFromPageObject(n,t);if(!n||!a)return;var d=i[0]+"x"+i[1],l=s,p="dfp";s==z.amazon_advertiser?p="a9":s==z.adsense_advertiser?p="adsense":s!=z.google_advertiser&&1!=s&&null!=s&&null==o||(p="adx");a.advertiserId=s;var c=0;if("a9"==p)c=void 0!==a.bids.a9&&void 0!==a.bids.a9.responses&&void 0!==a.bids.a9.responses.amznbid?a.bids.a9.responses.amznbid:"";else if("adx"==p||"adsense"==p){var u=Ve(a.sticky,d,a);c=void 0!==a.winning_ad&&void 0!==a.winning_ad.dfp_price&&a.winning_ad.dfp_price>u?parseFloat(a.winning_ad.dfp_price)+.01:parseFloat(u)+.01}n.log.mylog("displayed! DFP ("+a.name+", bidder="+p+", size="+d+", price: "+c+")");var h=a.calcAuctionMs();n.log.bid_data.ad_slots[a.name]={slot_name:et(a.name,{type:"string",max_len:50}),bidder:et(p,{type:"string",max_len:30}),price:et(c,{type:"a9"==p?"string":"number",max:1e3,max_len:15}),gross:et(c,{type:"a9"==p?"string":"number",max:1e3,max_len:15}),size:et(d,{type:"string",max_len:10}),refresh_cnt:et(a.refresh_cnt,{type:"number",max:999}),line_item_id:et(r,{type:"string",max_len:15}),response_ms:et(h,{type:"number",max:999999}),auction_duration:et(h,{type:"number",max:999999}),precent_bids_ready:et(a.precent_bids_ready,{type:"number",max:100}),tag_id:et(l,{type:"string",max_len:50})};var _={price:c,gross:c,dfp_price:c,bidder:p,size:d,adCode:"",tag_id:l,response_ms:h};a.displayed_ad=new C(a),ProperMedia.utils.mergeObject(a.displayed_ad,_),n.log.saved_data[a.name]={bidder:p,cpm:c,size:d,slot:a.name,request_url:"",request_response:"",adcode:"",ad_details:{}},clearTimeout(n.log.tracker_timeout),n.log.tracker_timeout=null,n.log.tracker_timeout=P.setTimeout.call(n,function(){n.log.proper_tracker()},500)}(s,i,e.size,e.advertiserId,e.lineItemId,e.yieldGroupIds),Ae(e.isEmpty,s,i,e.size,e.creativeId,e.lineItemId,e.advertiserId)))})),googletag.pubads().setTagForChildDirectedTreatment(0),googletag.enableServices(),b=!0,"function"==typeof googletag.pubads().isSRA&&googletag.pubads().isSRA()&&g(new Error("DFP Single Request Mode Enabled"))}),f=1}function Ee(a){if(a instanceof E&&a.getElement()&&0<Object.keys(a.sizes).length){var d=a.page;googletag.cmd.push(function(){var e=[[1,1]];if(void 0!==a.sizes)for(size in a.sizes)if("1x1"!=size){var t=size.split("x");t[0]=parseInt(t[0]),t[1]=parseInt(t[1]),isNaN(t[0])||isNaN(t[1])?"fluid"==size&&e.push(size):e.push(t)}!function(e){return-1!==e.toLowerCase().indexOf("_oop",e.length-"_oop".length)}(a.name)?a.dfp_slot=googletag.defineSlot("/"+z.dfp_id+"/"+a.name,e,a.div_id).addService(googletag.pubads()):a.dfp_slot=googletag.defineOutOfPageSlot("/"+z.dfp_id+"/"+a.name,a.div_id).addService(googletag.pubads());var i=1<d.page_number?d.page_number+"|"+a.number:a.number;1==z.post_id_enabled&&(void 0!==d.post_id&&null!=d.post_id&&""!=d.post_id||(d.post_id="unknown"),a.dfp_slot.setTargeting("post_id",d.post_id.toString())),1==z.member_enabled&&(void 0!==z.member&&null!=z.member&&""!=z.member||(z.member="no"),a.dfp_slot.setTargeting("member",z.member)),a.dfp_slot.setTargeting("split_version",z.split_version.toString()),a.dfp_slot.setTargeting("is_mobile",d.is_mobile.toString()),a.dfp_slot.setTargeting("proper_site",z.site_name),a.dfp_slot.setTargeting("proper_slot",i),a.dfp_slot.setTargeting("proper_page",d.page_number);var s=[];if(void 0!==d.dfp_tags&&0<d.dfp_tags.length){for(var r=0;r<d.dfp_tags.length;r++){var o=d.dfp_tags[r];1==d.is_mobile?s.push(o+"_mobile"):s.push(o+"_desktop")}s=s.concat(d.dfp_tags)}0<s.length?(a.dfp_slot.setTargeting("tags",[s.toString()]),a.dfp_targeting.tags=1):1==a.dfp_targeting.tags&&(a.dfp_slot.clearTargeting("tags"),a.dfp_targeting.tags=0),a.sticky&&a.dfp_slot.setTargeting("proper_sticky",a.sticky.toString()),0<Object.keys(a.floors.sizes).length&&Object.keys(a.floors.sizes).map(function(e){var t=a.floors.sizes[e];if(t>a.floors.backup_floor){var i=He(t);a.dfp_slot.setTargeting("proper_floor_"+e,i.toFixed(2).toString())}});var n=He(a.floors.backup_floor);a.dfp_slot.setTargeting("proper_floor",n.toFixed(2).toString()),0<d.sessionHandler.sessionData.depth&&a.dfp_slot.setTargeting("s_depth",d.sessionHandler.sessionData.depth.toString())}),a.mapped_dfp_sizes=1}}function Ce(n){googletag.cmd.push(function(){if(!n.dfp_ready&&n.mapped_dfp_sizes&&n.isSlotDefinedInGPT()){if(n.getWinningBid(),void 0!==n.winning_ad.price){var e=n.winning_ad,t=e.price,i=t;try{i=z.dynamic_bid_mod.hasOwnProperty("enabled")&&z.dynamic_bid_mod.hasOwnProperty("range")&&z.dynamic_bid_mod.hasOwnProperty("m")&&z.dynamic_bid_mod.hasOwnProperty("b")&&"true"==z.dynamic_bid_mod.enabled&&z.dynamic_bid_mod.range[0]<=t&&z.dynamic_bid_mod.range[1]>=t?parseFloat(z.dynamic_bid_mod.m)*t+parseFloat(z.dynamic_bid_mod.b):t*z.adx_bid_modifier,n.page.log.mylog("AdX bid modifier. ("+n.winning_ad.bidder+", "+n.name+"@"+n.winning_ad.size+"). Old Price: $"+t+" New Price: $"+i),t=function(e){return e=800<e?800:100<e?Math.ceil(e).toFixed(2):(Math.ceil(20*e)/20).toFixed(2)}(i)}catch(e){console.error(e),n.page.log.mylog("Error adding dynamic bid modifier."),g(_.computeStackTrace(e))}n.winning_ad.dfp_price=t,n.page.log.mylog("Bid added to DFP request ("+n.winning_ad.bidder+", "+n.name+"@"+n.winning_ad.size+") = "+t+" ("+n.precent_bids_ready+"% received, "+n.auctionTimePassed()+" time passed)"),n.dfp_slot.setTargeting("proper_bidder",z.site_name+"_"+e.bidder),0<n.page.sessionHandler.sessionData.depth&&n.dfp_slot.setTargeting("s_depth_bidder",e.bidder+"_"+n.page.sessionHandler.sessionData.depth.toString()),n.dfp_slot.setTargeting("proper_bid",t);var s=n.refresh_interval<6e4||1==n.inview?"30":"60";n.dfp_slot.setTargeting("adx_refresh_interval",s)}else n.page.log.mylog("Bid added to DFP request ("+n.name+") = 0.00 ("+n.precent_bids_ready+"% received, "+n.auctionTimePassed()+" time passed)");if(void 0!==n.bids.a9&&void 0!==n.bids.a9.responses&&void 0!==n.bids.a9.responses.amznbid&&void 0!==n.bids.a9.responses.amzniid?(n.dfp_slot.setTargeting("amznbid",n.bids.a9.responses.amznbid),n.dfp_slot.setTargeting("amzniid",n.bids.a9.responses.amzniid),n.dfp_targeting.amznslots=1):1==n.dfp_targeting.amznslots&&(n.dfp_slot.clearTargeting("amznbid"),n.dfp_slot.clearTargeting("amzniid"),n.dfp_targeting.amznslots=0),"dailydot"==z.site_name&&void 0!==window.Krux){var r=[];void 0!==window.Krux.segments&&(r=r.concat(window.Krux.segments)),void 0!==window.Krux.user&&r.push(window.Krux.user),0<r.length&&n.dfp_slot.setTargeting("ksg",[r])}if(0<n.refresh_cnt){var o=[];0!=n.advertiserId&&(o.push(n.advertiserId),n.advertiserId=0),0<(o=o.concat(n.exclude_advertiser)).length?n.dfp_slot.setTargeting("exclude_advertiser",o):0<n.dfp_slot.getTargeting("exclude_advertiser").length&&n.dfp_slot.clearTargeting("exclude_advertiser")}else void 0!==n.page.get_vars.proper_dfp&&1==n.page.get_vars.proper_dfp&&1==z.testing_mode&&n.dfp_slot.setTargeting("exclude_advertiser",[z.google_advertiser,z.adsense_advertiser]);n.dfp_slot.setTargeting("refresh_count",n.refresh_cnt.toString()),n.dfp_slot.setTargeting("auction_count",n.auction_num.toString()),n.dfp_ready=1,n.getElement()&&Oe(n)}})}function Oe(e){if(1==special_ops.update_correlator&&0==e.page.dfp_correlator&&1<e.page.page_number&&(googletag.pubads().updateCorrelator(),e.page.dfp_correlator=!0,e.page.log.mylog("correlator updated for page: "+e.page.page_number)),0==e.dfp_sent)e.page.log.mylog("DFP display called: "+e.name),e.dfp_sent=ProperMedia.utils.deepAccess(e,"page.spa_settings.page_number")||1,googletag.display(e.div_id),e.auction_send_complete=!0;else if(0==e.dfp_refreshed&&0<e.refresh_cnt&&(1==e.dfp_targeting.amznslots||void 0!==e.winning_ad.price)||e.page.spa_settings.enabled&&e.page.spa_settings.page_number>e.dfp_sent||1==e.always_refresh_dfp){var t=!(0<e.refresh_cnt);e.page.log.mylog("DFP refresh called: "+e.name+". changeCorrelator: "+t),e.dfp_refreshed=1,googletag.pubads().refresh([e.dfp_slot],{changeCorrelator:t}),e.auction_send_complete=!0}}function Me(e){var t=e.split("-"),i=t[2],s=3<t.length?parseInt(t[3]):1,r=ProperMedia.utils.getPageObjectByIndex(x,s),o=ProperMedia.utils.getSlotFromPageObject(r,i);if(r&&o){if(-1!=z.autoplay_whitelist.indexOf(o.winning_ad.bidder))return r.log.mylog(o.winning_ad.bidder+" video allowed via whitelist!"),!1;try{r.log.autoplay_html[o.div_id]=j("#"+o.div_id+" div iframe").contents().find("html").html()}catch(e){console.error(e),r.log.autoplay_html[o.div_id]=j("#"+o.div_id).html(),g(_.computeStackTrace(e))}j("#"+o.div_id).html(""),r.log.track_rogue(o,"autoplay")}return!1}function Ie(e){if(null==k.getElementById(e.div_id))return!1;var t=1;if(void 0!==e.winning_ad.price)t=0;else if(1==z.testing_mode){if(void(t=0)===e.default_size||"0x0"==e.default_size)return;var i=e.default_size.split("x");test_ad=new C(e),test_ad.bidder="unfilled",test_ad.size=e.default_size,test_ad.adcode='<div style="text-align:center;width:'+i[0]+"px;height:"+i[1]+'px;background:#ccc;color:#000;padding-top:10px;">-- no ad found --</div>',e.winning_ad=test_ad}else if(0==e.refresh_cnt){t=!0===Fe(e,e.default_size)?0:1}var s=1<e.page.page_number?e.page.page_number+"|"+e.number:e.number;t||e.winning_ad.size.split("x");return 0==t?Ne(k.getElementById(e.div_id),s,1):Re(e),!0}function Re(e){if(!(0<e.refresh_cnt)){var t=e.calcAuctionMs();e.page.log.bid_data.ad_slots[e.name]={slot_name:et(e.name,{type:"string",max_len:50}),bidder:"unfilled",price:0,gross:0,size:et(e.default_size,{type:"string",max_len:10}),refresh_cnt:et(e.refresh_cnt,{type:"number",max:999}),line_item_id:"",response_ms:et(t,{type:"number",max:999999}),auction_duration:et(t,{type:"number",max:999999}),precent_bids_ready:et(e.precent_bids_ready,{type:"number",max:100}),tag_id:""};var i={price:0,gross:0,dfp_price:0,bidder:"unfilled",size:e.default_size,adCode:"",tag_id:"",response_ms:t};e.displayed_ad=new C(e),ProperMedia.utils.mergeObject(e.displayed_ad,i),Ae(1,e.page.page_number,e.name,[0,0],0,0,0),clearTimeout(e.page.log.tracker_timeout),e.page.log.tracker_timeout=null,e.page.log.tracker_timeout=P.setTimeout.call(e.page,function(){e.page.log.proper_tracker()},e.page.log.tracker_wait)}}function Ae(e,t,i,s,r,o){setTimeout(I.start,3e3);var n=x[t-1];if(1==z.autoplay_block&&!e&&(void 0===special_ops.exclude_autoplay_block||void 0===special_ops.exclude_autoplay_block[i]||void 0===special_ops.exclude_autoplay_block[i][s]))try{void 0!==n.slots[i]&&function(e){var t=e.getElement().querySelector("div iframe");if(t)var n=t.contentDocument?t.contentDocument:t.contentWindow.document;else n=e.getElement().querySelector("div");var a=e.div_id;if(n&&0<n.getElementsByTagName("video").length)return Me(a);var d=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver||!1;if(!d)return;new d(function(e){if(0<n.getElementsByTagName("video").length)return Me(a);for(var t=n.getElementsByTagName("iframe"),i=0;i<t.length;i++){var s=t[i];if(1!=s.getAttribute("proper-verify")){if(s.setAttribute("proper-verify",1),0<s.getElementsByTagName("video").length)return Me(a);try{var r=s.contentDocument?s.contentDocument:s.contentWindow.document,o=new d(function(e){if(0<r.getElementsByTagName("video").length)return Me(a)});o.observe(r,{attributes:!1,childList:!0,characterData:!1,subtree:!0})}catch(e){console.error(e),g(_.computeStackTrace(e))}}}}).observe(n,{attributes:!1,childList:!0,characterData:!1,subtree:!0})}(n.slots[i])}catch(e){console.error(e),g(_.computeStackTrace(e))}if(void 0!==n.slots[i]){var a=n.slots[i];if(e||(a.size=s,n.log.ad_info[a.name]={creative_id:r,line_item_id:o,size:s[0]+"x"+s[1]}),a.sticky)if(e)0==a.refresh_cnt&&j(".ad-sticky").hide();else if(a.displayed=1,z.enable_sticky_freq_cap&&0==a.refresh_cnt&&m.stickyFreqCapHandler.incrementStickyUnitImps(),void 0===a.winning_ad.bidder||0==a.winning_ad.displayed||1==a.winning_ad.displayed&&"spoutable"!==a.winning_ad.bidder&&"gumgum"!==a.winning_ad.bidder&&"gumgum_s2s"!==a.winning_ad.bidder&&"thirtythreeacross"!==a.winning_ad.bidder&&"justpremium"!==a.winning_ad.bidder){1==s[0]&&1==s[1]&&void 0!==a.winning_ad.price&&(s=a.winning_ad.size.split("x"));var d=parseInt(s[0]),l=parseInt(s[1]);if(a.size=s,void 0===j(".ad-sticky .inner-wrapper").obj&&1!=d&&1!=l){var p="yes"==z.sticky_brand?"brand":"",c="yes"==z.remove_sticky_close?"":'<a class="close-ad"></a>';j("#"+a.div_id).before('<a class="'+p+'" href="https://proper.io?from=sticky" target="_blank"></a><div class="inner-wrapper">'+c+"</div>"),j("#"+a.div_id).addClass("ad-wrapper");var u=a.number;j(".ad-sticky .close-ad").on("click",function(e){e.preventDefault(),j(".ad-sticky").removeStyle(),j(".ad-sticky").removeClass("isOpen"),j(".ad-sticky").addClass("close"),z.disable_sticky_on_close&&m.stickyFreqCapHandler.setStickyClosedCookie(),qe(u,t)})}j(".ad-sticky").removeClass("sticky-right"),j(".ad-sticky").removeClass("sticky-left"),j(".ad-sticky").removeClass("sticky-btm"),j(".ad-sticky").attr("style",""),j(".ad-sticky .inner-wrapper").attr("style",""),1<d&&1<l&&j(".ad-sticky .inner-wrapper").attr("style","width:"+d+"px; height:"+l+"px;"),d<l?(j(".ad-sticky").addClass("sticky-"+z.sticky_slot_pos),j(".ad-sticky").attr("style","top: calc(50% - "+Math.round(l/2)+"px)")):j(".ad-sticky").addClass("sticky-btm"),1!=d&&1!=l?Be(j(".ad-sticky")):j(".ad-sticky").hide()}else"gumgum"==a.winning_ad.bidder||"gumgum_s2s"==a.winning_ad.bidder?(j(".ad-sticky").addClass("sticky-btm"),j(".ad-sticky").obj.style.background="none",Be(j(".ad-sticky"))):j(".ad-sticky").hide();else e||(1==a.report_ad_tool&&0==a.displayed&&(void 0!==a.default_size&&(j("#"+a.div_id).obj.style.minWidth=a.min_width+"px",j("#"+a.div_id).obj.style.minHeight=a.min_height+"px"),j("#"+a.div_id).after('<a href="#report-ad" data-aid="'+a.div_id+'" class="call-modal report-ad">Report Advertisement</a>')),a.displayed=1);1==a.displayed&&(a.last_displayed_ts=Xe()),1==a.refresh&&a.refresh_cnt<a.refresh_max&&a.setRefreshInterval(),1==Le.enabled&&Le.addSlotOverlay(a),ProperMedia.utils.deepAccess(z.bidder_info,a.winning_ad.bidder+".remnant")||"unfilled"===a.winning_ad.bidder||0!=a.winning_ad.displayed||a.winning_ad.checkIfExpired()||(a.adPool instanceof O?a.adPool.addBidToPool(a.winning_ad):a.ads.push(a.winning_ad),a.winning_ad={}),a.checkPrefetch()}}function Ne(e,t,i,s){if(void 0===i&&(i=0),"string"==typeof t&&0<=t.indexOf("|"))var r=t.split("|"),o=r[0],n=r[1];else o=1,n=t;var a=x[o-1],d=a.getSlotByNumber(n,"display"),l=d.div_id,p=new C(d),c=[0,0];if(2==i)p.bidder="a9",p.price=s,p.size=d.default_size,void 0!==d.bids.a9&&void 0!==d.bids.a9.responses&&void 0!==d.bids.a9.responses.size&&(p.size=d.bids.a9.responses.size),c=p.size.split("x");else if(void 0!==d.winning_ad.bidder){if(d.precent_bids_ready<d.getPrecentBidsReady()||d.adPool instanceof O){var u=new C;ProperMedia.utils.mergeObject(u,d.winning_ad),d.getWinningBid(),d.winning_ad instanceof C||(d.winning_ad=u)}d.winning_ad.displayed=1,d.exclude_bidders[d.winning_ad.bidder]=1,p=d.winning_ad,c=d.winning_ad.size.split("x"),"1x1"==d.winning_ad.size&&(c=["100%","auto"]),"teads"==p.bidder&&d.adPool instanceof O&&p.ad_details.hasOwnProperty("ad_code_prepend")&&""!==p.ad_details.ad_code_prepend&&(p.adcode=p.ad_details.ad_code_prepend.replace(/{SLOT_DIV_ID}/,d.div_id)+p.adcode)}if(p instanceof C&&void 0!==p.bidder&&""!==p.bidder){var h=!0;if("facebook"==p.bidder&&(h=!1,i=1,e=k.getElementById(l),"300x250"==p.size&&(c=[320,270])),1==i){var _=k.createElement("div"),g=k.createElement("iframe");e.innerHTML="",e.appendChild(_),_.appendChild(g),g.frameBorder=0,g.scrolling="no",g.marginWidth="0",g.marginHeight="0",g.width=c[0],g.height=c[1],g.style.overflow="hidden",g.style.border="0px",g.style.verticalAlign="bottom","auto"==g.height&&(g.onload=function(){this.style.height=this.contentWindow.document.body.scrollHeight+"px"}),1==h&&(g.sandbox=z.sandbox_options),g.src="javascript:\"<html><body style='background:transparent'></body></html>\"";var m="<html><body>"+p.adcode+"</body></html>";g.contentWindow.document.open(),void 0!==z.native_blocker&&1==z.native_blocker?S.write(d,g.contentWindow.document,m):void 0!==z.confiant&&1==z.confiant?confiantWrapper.wrapTag(d,g.contentWindow.document,ProperMedia.utils.mergeObject({},p,{adCode:m})):g.contentWindow.document.write(m),g.contentWindow.document.close()}else if(0==i){if(e.defaultView&&e.defaultView.frameElement){var f=c[0],b=c[1];e.defaultView.frameElement.width=f,e.defaultView.frameElement.height=b}if(void 0!==z.native_blocker&&1==z.native_blocker?S.write(d,e,p.adcode):void 0!==z.confiant&&1==z.confiant?confiantWrapper.wrapTag(d,e,p):e.write(p.adcode),"auto"==c[1]){var v=window.top.document.getElementById("google_ads_iframe_/"+z.dfp_id+"/"+d.name+"_0");v&&ProperMedia.utils.onElementHeightChange(v,function(e){v.style.height=e+"px"})}}a.log.mylog("displayed! ("+d.name+", bidder="+p.bidder+", size="+p.size+", price="+p.price+")");var y=d.calcAuctionMs(),w=et(p.price,{type:"a9"==p.bidder?"string":"number",max:999,max_len:15});a.log.saved_data[d.name]={bidder:p.bidder,cpm:w,size:p.size,slot:d.name,request_url:p.request_url,request_response:p.response,adcode:p.adcode,ad_details:p.ad_details},a.log.bid_data.ad_slots[d.name]={slot_name:et(d.name,{type:"string",max_len:50}),bidder:et(p.bidder,{type:"string",max_len:30}),gross:et(p.gross,{type:"a9"==p.bidder?"string":"number",max:999,max_len:15}),price:w,size:et(p.size,{type:"string",max_len:10}),refresh_cnt:et(d.refresh_cnt,{type:"number",max:999}),line_item_id:"",response_ms:et(p.response_ms,{type:"number",max:999999}),auction_duration:et(y,{type:"number",max:999999}),precent_bids_ready:et(d.precent_bids_ready,{type:"number",max:100}),tag_id:et(p.tag_id,{type:"string",max_len:50})},d.displayed_ad=p,Ae(0,a.page_number,d.name,p.size.split("x"),0,0)}else Re(d);clearTimeout(a.log.tracker_timeout),a.log.tracker_timeout=null,a.log.tracker_timeout=P.setTimeout.call(a,function(){a.log.proper_tracker()},a.log.tracker_wait)}function De(e,t){if(void 0!==z.secondary_auction&&1==z.secondary_auction){if("string"==typeof t&&0<=t.indexOf("|"))var i=t.split("|"),s=i[0],r=i[1];else s=1,r=t;var o=ProperMedia.utils.getPageObjectByIndex(x,s),n=o.getSlotByNumber(r,"display");if(!o||!n)return;if(n.auction_num++,n.getWinningBid(),void 0!==n.winning_ad.price)return void Ie(n);o.log.mylog("Running secondary auction: "+n.name),n.removeRefreshTimeout(),n.bids={},n.bids_ready=0,n.wait_count=0,n.displayed=0;var a=z.enabled_bidders[n.auction_num]||{},d={};d[n.name]=n,ze(d,a),je(n,"slot",a)}}function qe(e,t){var i=ProperMedia.utils.getPageObjectByIndex(x,t);if(i){var s=i.getSlotByNumber(e,"display");s&&(s.refresh=0,s.removeRefreshTimeout())}}function Be(t){var e=function(){var e,t=k.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in i)if(void 0!==t.style[e])return i[e]}();e&&t.on(e,function(e){t.hasClass("open")?(t.addClass("isOpen"),t.removeClass("open")):t.hasClass("close")&&(t.addClass("isClosed"),t.removeClass("close"))}),t.addClass("open")}function Fe(e,t){var i={},s="",r="unfilled";if(void 0!==z.site_ids.remnant_adsense&&void 0!==e.bids.remnant_adsense&&void 0!==e.bids.remnant_adsense.requests&&1!=e.page.isolated){if(void 0===e.bids.remnant_adsense.requests[t]){var o=0;for(var n in e.bids.remnant_adsense.requests){(l=n.split("x"))[0]=parseInt(l[0])||NaN,l[1]=parseInt(l[1])||NaN,isNaN(l[0])||isNaN(l[1])||(l[0]*l[1]<o||0==o)&&(t=n,o=l[0]*l[1])}}"320x50"==t&&void 0!==e.bids.remnant_adsense.requests["300x250"]&&(t="300x250"),r="remnant_adsense";var a=z.site_ids.remnant_adsense,d=e.bids.remnant_adsense.requests[t];(l=t.split("x"))[0]=parseInt(l[0])||NaN,l[1]=parseInt(l[1])||NaN,isNaN(l[0])||isNaN(l[1])||(s+="<script async src='//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js'><\/script>",s+="\x3c!-- adsense remnant --\x3e",s+="<ins class='adsbygoogle' style='display:inline-block;width:"+l[0]+"px;height:"+l[1]+"px' data-ad-client='ca-pub-"+a+"' data-ad-slot='"+d+"'></ins>",s+="<script>",s+="(adsbygoogle = window.adsbygoogle || []).push({});",T.noPersonalization&&(s+="window.adsbygoogle.requestNonPersonalizedAds=1;"),s+="<\/script>")}else if(void 0===z.site_ids.remnant_rubicon||void 0===e.bids.remnant_rubicon||void 0===e.bids.remnant_rubicon.requests||1===special_ops.remnant_rubicon_only_when_isolated&&1!==e.page.isolated){if(1!=e.page.isolated){r="remnant_adx",(l=t.split("x"))[0]=parseInt(l[0])||NaN,l[1]=parseInt(l[1])||NaN,!isNaN(l[0])&&!isNaN(l[1])&&1<l[0]&&1<l[1]&&(s+="<script type='text/javascript'>\x3c!--\n",s+="google_ad_client = 'ca-pub-6897902191714833';\n",s+="/* Remnant */\n",s+="google_ad_slot = '5140430151';\n",s+="google_ad_width = "+l[0]+";\n",s+="google_ad_height = "+l[1]+";\n",s+="//--\x3e\n",s+="<\/script>",s+="<script type='text/javascript' src='//pagead2.googlesyndication.com/pagead/show_ads.js",T.noPersonalization&&(s+="?npa=1"),s+="'><\/script>")}}else{if(void 0===e.bids.remnant_rubicon.requests[t]){o=0;for(var n in e.bids.remnant_rubicon.requests){var l;(l=n.split("x"))[0]=parseInt(l[0])||NaN,l[1]=parseInt(l[1])||NaN,isNaN(l[0])||isNaN(l[1])||(l[0]*l[1]<o||0==o)&&(t=n,o=l[0]*l[1])}}if("320x50"==t&&void 0!==e.bids.remnant_rubicon.requests["300x250"]&&(t="300x250"),void 0!==e.bids.remnant_rubicon.requests[t])s+="<script language='JavaScript' type='text/javascript'>",s+="rp_account   = '8777';",s+="rp_site      = '"+z.site_ids.remnant_rubicon+"';",s+="rp_zonesize  = '"+e.bids.remnant_rubicon.requests[t]+"';",s+="rp_adtype    = 'js';",s+="rp_smartfile = '[SMART FILE URL]';",s+="<\/script>",s+="<script type='text/javascript' src='"+k.location.protocol+"//ads.rubiconproject.com/ad/8777.js'><\/script>"}return""===s&&(r="unfilled",s="",t=e.default_size),(i=new C(e)).bidder=r,i.size=t,i.adcode=s,i.price=.01,i.gross=.01,e.winning_ad=i,"unfilled"!=r}h.thirtythreeacross=(B="thirtythreeacross",F="https://ssc.33across.com/api/v1/hb",SYNC_ENDPOINT="https://de.tynt.com/deb/v2?m=xch&rt=html",NON_MEASURABLE="nm",{formatRequest:function(e,t,i,s){void 0===s.requests[e.name]&&(s.requests[e.name]={tag_id:t,div_id:e.div_id,sizes:[]});var r=i.split("x");return s.requests[e.name].sizes.push({w:parseInt(r[0],10),h:parseInt(r[1],10),ext:{}}),s},send:function(e,t,i){if("slot"==t){var c=e.page,u=e,s=ProperMedia.utils.isIFrame()?NON_MEASURABLE:l.calculateViewablePercentage(u),r=i[u.name],o=Object.keys(u.sizes),n={},a="siab";1==u.sticky&&-1!==o.indexOf("1x1")&&(a="inview"),n.id=$e(),n.site={id:r.tag_id},n.imp=[{banner:{format:r.sizes},ext:{ttx:{prod:a,viewability:{amount:isNaN(s)?s:Math.round(s)}}}}],n.user={ext:{consent:T.consentString}},n.regs={ext:{gdpr:!0===T.gdprApplies?1:0}},n.ext={ttx:{caller:[{name:"proper.io",version:"1.0"}]}},void 0!==c.get_vars.proper_test&&"thirtythreeacross"==c.get_vars.proper_test&&(n.test=1),c.log.mylog(F,B),c.requests_sent+=1,u.bids_sent+=1,u.bids.thirtythreeacross.sent+=1;var d=Xe();j.ajax({method:"POST",url:F,requestType:"cors",data:JSON.stringify(n),success:function(l){try{c.log.mylog(l,B),l=ProperMedia.utils.safeJsonParse(l);var e=Xe(),p=Qe(d,e);l&&l.seatbid&&0<l.seatbid.length&&Object.keys(l.seatbid).forEach(function(e){var d=l.seatbid[e].bid;Object.keys(d).forEach(function(e){var t=d[e],i=l.bidid||"",s=t.price||0,r=t.w||1,o=t.h||1,n=(t.crid,l.cur,t.adm||""),a=r+"x"+o;u.logBidResponse(B,a,s,n,i,F,l,{},p,0),c.log.log_bid(B,u,a,s)})}),u.incrementBidResponseCount(B,1),function(e){var t=[{type:"iframe",url:SYNC_ENDPOINT+"&id="+e.site.id+"&gdpr_consent="+encodeURIComponent(T.consentString)}];"boolean"==typeof gdprApplies&&(t[0].url+="&gdpr="+Number(T.gdprApplies)),I.add(t)}(n)}catch(e){throw e.bidder=B,e}},error:function(e){try{u.incrementBidResponseCount(B,1)}catch(e){throw e.bidder=B,e}}})}},bidderInfo:{rev_share:1,bid_grouping:"slot",dont_refresh:1}}),h.a9=(U=L=0,H={uam:"cb3b5777-430d-4622-b7fc-358cfa27d518",tam:"0522392e-66ce-45dc-a547-76fef7649ca2"},{formatRequest:function(e,t,i,s){return void 0===s.requests[e.name]&&(s.requests[e.name]={slotID:e.name,sizes:[]}),s.requests[e.name].sizes.push(i.split("x").map(function(e){return parseInt(e)})),s},send:function(s,r,e){var p="page"==r?s:s.page,o="slot"==r?s:{};if(1!=p.isolated||void 0!==special_ops.amzn_price_map||0!=z.testing_mode){var t=(z.site_ids.a9||"").toLowerCase().trim(),d=H[t]||H.uam;if(1==L)l(e);else{for(var i in void 0===p.amazon_queue&&(p.amazon_queue={}),e)p.amazon_queue[i]=e[i];0==U&&(U=1,function(i,s,e,t,r,o,n){function a(e,t){s[i]._Q.push([e,t])}s[i]||(s[i]={init:function(){a("i",arguments)},fetchBids:function(){a("f",arguments)},_Q:[]},(o=e.createElement("script")).async=1,o.src="https://c.amazon-adsystem.com/aax2/apstag.js",o.addEventListener("load",_.wrap(function(){try{window.apstag.init({pubID:d}),L=1;for(var e=0;e<x.length;e++)void 0!==x[e].amazon_queue&&l(x[e].amazon_queue)}catch(e){throw e.bidder="a9",e}})),(n=e.getElementsByTagName("script")[0]).parentNode.insertBefore(o,n))}("apstag",window,k))}}function l(d){"function"==typeof window.apstag.debug&&(1==z.testing_mode?window.apstag.debug("enable"):window.apstag.debug("disable"));var e=0,t=[];for(slot_name in d)0<d[slot_name].sizes.length&&(t.push(d[slot_name]),e+=d[slot_name].sizes.length);if(0==t.length)return!1;if(p.log.mylog("amazon bids sent","a9"),p.requests_sent+=e,"page"==r)for(slot_name in d)void 0!==p.slots[slot_name]&&(p.slots[slot_name].bids_sent+=d[slot_name].sizes.length);else"slot"==r&&(o.bids_sent+=e);function i(e){try{p.log.mylog("amazon bids returned: "+e.length);for(var t=Xe(),i=Qe(l,t),s=0;s<e.length;s++){var r=e[s];if(void 0!==p.slots[r.slotID]){var o=p.slots[r.slotID];if(void 0===o.bids.a9&&(o.bids.a9=new y,o.bids.a9.bidder="a9"),1==p.isolated||o.adPool instanceof O&&void 0!==special_ops.amzn_price_map&&void 0!==special_ops.amzn_price_map[r.amznbid]){if(1==z.testing_mode)var n=100;else n=void 0!==special_ops.amzn_price_map&&void 0!==special_ops.amzn_price_map[r.amznbid]?special_ops.amzn_price_map[r.amznbid]:0;var a='<script>var amzn_win=window,amzn_c=5,amzn_x=0;while(amzn_x<amzn_c){amzn_win=amzn_win.parent;if(amzn_win.apstag)try{amzn_win.apstag.renderImp(document,"'+r.amzniid+'");amzn_x=amzn_c}catch(e){}amzn_x++};<\/script>';o.logBidResponse("a9",r.size,n,a,r.slotID,"https://aax.amazon-adsystem.com/e/dtb/bid",r,{},i,0),p.log.log_bid("a9",o,r.size,n)}else 0<Object.keys(r).length&&(o.bids.a9.responses=r)}}for(slot_name in void 0===p.bids.a9&&(p.bids.a9=new y,p.bids.a9.bidder="a9"),p.bids.a9.responses=e,d)void 0!==p.slots[slot_name]&&p.slots[slot_name].incrementBidResponseCount("a9",d[slot_name].sizes.length)}catch(e){throw e.bidder="a9",e}}s.bids.a9.sent+=e;var l=Xe();void 0!==_&&_.wrap(i),window.apstag.fetchBids({slots:t,timeout:2e3},i)}},bidderInfo:{rev_share:1,bid_grouping:"page"}}),h.appnexus=(V="https://ib.adnxs.com/ut/v3/prebid",I.add({type:"iframe",url:"https://acdn.adnxs.com/ib/static/usersync/v3/async_usersync.html"}),{formatRequest:function(e,t,i,s){void 0===s.requests[t]&&(s.requests[t]={tag_id:t,slot_name:e.name,sizes:[]});var r=i.split("x");return s.requests[t].sizes.push({width:parseInt(r[0]),height:parseInt(r[1])}),s},send:function(e,m,p,f){var b="page"==m?e:e.page,v="slot"==m?e:{},c=[],y={},w={total:0};if(Object.keys(p).forEach(function(e){var t=p[e];"page"==m&&(v=ProperMedia.utils.getSlotFromPageObject(b,t.slot_name));var i=t.sizes,s=0;if("display"==v.type)for(var r=0;r<t.sizes.length;r++){var o=i[r].width+"x"+i[r].height,n=Ue(f,v,o);(n<s||0==s)&&(s=n)}t.sizes[0];var a={atf:1,btf:2}[v.position]||0,d=function(){var i=(new Date).getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(i+16*Math.random())%16|0;return i=Math.floor(i/16),("x"===e?t:3&t|8).toString(16)});return e=e.split("-")[4]}();y[d]={slot_name:v.name,slot_type:v.type,astFloor:s};var l={sizes:t.sizes,primary_size:t.sizes[0],uuid:d,id:parseInt(e),position:a,use_pmt_rule:!1,prebid:!0,disable_psa:!0,ad_types:[],allow_smaller_sizes:!1,video:{skippable:!0,playback_method:["auto_play_sound_off"]}};"display"==v.type?(l.reserve=s,l.ad_types.push("banner")):"video"==v.type&&(l.ad_types.push("video"),0==v.outstream&&(l.require_asset_url=!0)),c.push(l),w.total+=i.length,void 0===w[v.name]&&(w[v.name]=0),w[v.name]+=i.length}),0==c.length)return!1;var t={tags:c,sdk:{source:"pbjs",version:"2.3.0"}};z.schain&&(t.source={ext:{schain:z.schain}}),T.cmpPresent&&(t.gdpr_consent={consent_string:T.consentString,consent_required:T.gdprApplies}),b.log.mylog(V,f),b.requests_sent+=w.total,Object.keys(w).forEach(function(e){"total"!==e&&void 0!==b.slots[e]&&(b.slots[e].bids_sent+=w[e])}),e.bids[f].sent+=w.total;var x=Xe();j.ajax({url:V,requestType:"cors",method:"POST",data:JSON.stringify(t),success:function(e){try{b.log.mylog(e,f);var t=Xe(),i=Qe(x,t),s=ProperMedia.utils.safeJsonParse(e);if(s.hasOwnProperty("tags"))for(var r=0;r<s.tags.length;r++){var o=s.tags[r],n=y[o.uuid],a=n.astFloor,d=0,l="",p=o.tag_id,c={};if(o.ads&&o.ads[0].cpm){var u,h,_=o.ads[0];if(d=_.cpm,"display"==n.slot_type){l=_.rtb.banner.content,u=_.rtb.banner.width,h=_.rtb.banner.height;var g=_.rtb.trackers[0].impression_urls[0];l+='<div style="position:absolute;left:0px;top:0px;visibility:hidden;"><img src="'+encodeURI(g)+'"></div>',void 0!==_.creative_id&&(c.creative_id=_.creative_id),void 0!==_.buyer_member_id&&(c.buyer_member_id=_.buyer_member_id)}else"video"==n.slot_type&&(_.rtb.video.hasOwnProperty("asset_url")?(l=_.rtb.video.asset_url,c.response_type="url"):_.rtb.video.hasOwnProperty("content")&&(l=_.rtb.video.content,c.response_type="xml"),u=_.rtb.video.player_width,h=_.rtb.video.player_height);"page"==m&&(v=ProperMedia.utils.getSlotFromPageObject(b,n.slot_name)),v.logBidResponse(f,u+"x"+h,d,l,p,V,o,c,i,a),b.log.log_bid(f,v,u+"x"+h,d)}}"page"==m?Object.keys(w).forEach(function(e){"total"!==e&&void 0!==b.slots[e]&&b.slots[e].incrementBidResponseCount(f,w[e])}):"slot"==m&&v.incrementBidResponseCount(f,w.total)}catch(e){throw e.bidder=f,e}},error:function(e){try{"page"==m?Object.keys(w).forEach(function(e){"total"!==e&&void 0!==b.slots[e]&&b.slots[e].incrementBidResponseCount(f,w[e])}):"slot"==m&&v.incrementBidResponseCount(f,w.total)}catch(e){throw e.bidder=f,e}}})},bidderInfo:{rev_share:1,bid_grouping:"page",default_bid_ttl:3e5,refresh_interval:6e4}}),h.criteo=(W="criteo",{formatRequest:function(e,t,i,s){return void 0===s.requests[e.name]&&(s.requests[e.name]={slot_name:e.name,tag_id:t,sizes:[]}),s.requests[e.name].sizes.push(i),s},send:function(e,i,s){var u="page"==i?e:e.page,r="slot"==i?e:{},o={publisher:{url:u.bidder_page_url},slots:[]};if(request_cnt={total:0},Object.keys(s).forEach(function(e){var t=s[e].tag_id,i=s[e].sizes;o.slots.push({impid:e+"-"+t,zoneid:t,sizes:i}),request_cnt.total+=i.length,void 0===request_cnt[e]&&(request_cnt[e]=0),request_cnt[e]+=i.length}),0==o.slots.length)return!1;T.cmpPresent&&(o.gdprConsent={},void 0!==T.gdprApplies&&(o.gdprConsent.gdprApplies=!!T.gdprApplies),void 0!==T.consentString&&(o.gdprConsent.consentData=T.consentString),T.vendorData&&T.vendorData.vendorConsents&&void 0!==T.vendorData.vendorConsents[91]&&(o.gdprConsent.consentGiven=!!T.vendorData.vendorConsents[91]));var h="https://bidder.criteo.com/cdb";h+="?profileId=207",h+="&av="+String(16),h+="&wv="+encodeURIComponent("2.3.0"),h+="&cb="+String(Math.floor(99999999999*Math.random())),h+="&im="+Z,1==z.testing_mode&&(h+="&debug=1"),u.log.mylog(h,W),u.requests_sent+=request_cnt.total,Object.keys(request_cnt).forEach(function(e){"total"!==e&&void 0!==u.slots[e]&&(u.slots[e].bids_sent+=request_cnt[e])}),e.bids[W].sent+=request_cnt.total;var n=Xe();j.ajax({url:h,requestType:"cors",method:"POST",data:JSON.stringify(o),success:function(e){try{u.log.mylog(e,W);var p=ProperMedia.utils.safeJsonParse(e);if(p){var t=Xe(),c=Qe(n,t);void 0!==p.slots&&Object.keys(p.slots).forEach(function(e){var t=p.slots[e],i=t.impid.split("-"),s=t.zoneid,r=t.cpm,o=t.width,n=t.height,a=t.creative,d=o+"x"+n;if(void 0!==u.slots[i[0]]){var l=u.slots[i[0]];l.logBidResponse(W,d,r,a,s,h,p,{},c,0),u.log.log_bid(W,l,d,r)}})}"page"==i?Object.keys(request_cnt).forEach(function(e){"total"!==e&&void 0!==u.slots[e]&&u.slots[e].incrementBidResponseCount(W,request_cnt[e])}):"slot"==i&&r.incrementBidResponseCount(W,request_cnt.total)}catch(e){throw e.bidder=W,e}},error:function(e){try{"page"==i?Object.keys(request_cnt).forEach(function(e){"total"!==e&&void 0!==u.slots[e]&&u.slots[e].incrementBidResponseCount(W,request_cnt[e])}):"slot"==i&&r.incrementBidResponseCount(W,request_cnt.total)}catch(e){throw e.bidder=W,e}}})},bidderInfo:{rev_share:Z=1,bid_grouping:"page",default_bid_ttl:6e4}}),h.emx=(G="emx",I.add({type:"iframe",url:"https://biddr.brealtime.com/check.html"}),{formatRequest:function(e,t,i,s){void 0===s.requests[e.name]&&(s.requests[e.name]={slot_name:e.name,tag_id:t,price_floor:0,sizes:[]});var r=Ue(G,e,i);(r<s.requests[e.name].price_floor||0==s.requests[e.name].price_floor)&&(s.requests[e.name].price_floor=r);var o=i.split("x"),n={w:parseInt(o[0]),h:parseInt(o[1])};return s.requests[e.name].sizes.push(n),s},send:function(e,p,c){var u="page"==p?e:e.page,h="slot"==p?e:{},_="https://hb.emxdgt.com?t=3000&ts="+Date.now(),s={id:Date.now().toString(),imp:[],site:{domain:Ze(),page:u.bidder_page_url}},r={total:0};Object.keys(c).forEach(function(e){var t=c[e];if("page"==p&&(h=u.slots[t.slot_name]||void 0),void 0!==h&&h instanceof E){var i={id:t.slot_name.toString(),tid:$e(),tagid:t.tag_id,bidfloor:t.price_floor,secure:u.use_ssl?1:0,banner:{format:t.sizes,w:t.sizes[0].w,h:t.sizes[0].h}};s.imp.push(i),r.total+=t.sizes.length,void 0===r[h.name]&&(r[h.name]=0),r[h.name]+=t.sizes.length}}),T.cmpPresent&&(s.user={ext:{consent:T.consentString}},"boolean"==typeof T.gdprApplies&&(s.regs={ext:{gdpr:Number(T.gdprApplies)}})),u.requests_sent+=r.total,Object.keys(r).forEach(function(e){"total"!==e&&void 0!==u.slots[e]&&(u.slots[e].bids_sent+=r[e])}),e.bids.emx.sent+=r.total,u.log.mylog(_,G);var t=Xe();j.ajax({url:_,method:"POST",requestType:"cors",data:JSON.stringify(s),success:function(d){try{if((d=ProperMedia.utils.safeJsonParse(d)).seatbid&&0<d.seatbid.length&&d.seatbid[0].bid){var e=Xe(),l=Qe(t,e);u.log.mylog(d,G),Object.keys(d.seatbid).forEach(function(e){var t=d.seatbid[e].bid[0];if(void 0!==t.adm){var i=t.id||"",s=(t.crid||t.id,t.price||0),r=t.w||1,o=t.h||1,n=t.adm||"";try{n=decodeURIComponent(n)||""}catch(e){n=t.adm||""}var a=c[i];"page"==p&&(h=u.slots[a.slot_name]),h.logBidResponse(G,r+"x"+o,s,n,i,_,t,{},l,a.price_floor),u.log.log_bid(G,h,r+"x"+o,s)}})}"page"==p?Object.keys(r).forEach(function(e){"total"!==e&&void 0!==u.slots[e]&&u.slots[e].incrementBidResponseCount(G,r[e])}):"slot"==p&&h.incrementBidResponseCount(G,r.total)}catch(e){throw e.bidder=G,e}},error:function(e){try{"page"==p?Object.keys(r).forEach(function(e){"total"!==e&&void 0!==u.slots[e]&&u.slots[e].incrementBidResponseCount(G,r[e])}):"slot"==p&&h.incrementBidResponseCount(G,r.total)}catch(e){throw e.bidder=G,e}}})},bidderInfo:{rev_share:1,bid_grouping:"page"}}),h.mantis=(K="mantis",X="https://mantodea.mantisadnetwork.com",J="iframe",Y=function(t){if(window.$sf){var e=!1;$sf.ext.register(t.width,t.height,function(){$sf.ext.inViewPercentage()<50||e||(e=!0,we(t.pixel))})}else for(var i=k.getElementsByTagName("iframe"),s=0;s<i.length;s++){var r=i[s];r.name==t.frame&&ye(r,function(e){we(t.pixel),e()},1e3,.5)}},window.addEventListener("message",_.wrap(function(e){e.data.mantis&&e.data.type==J&&Y(e.data.data)}),!1),I.add({type:"iframe",url:ge("/prebid/iframe")}),{formatRequest:function(e,t,i,s){var r=1==t?e.name:t;void 0===s.requests[r]&&(s.requests[r]={slot_name:e.name,sizes:[]});var o=i.split("x");return s.requests[r].sizes.push({width:parseInt(o[0]),height:parseInt(o[1])}),s},send:function(e,c,u){var h="page"==c?e:e.page,_="slot"==c?e:{};if(1==z.testing_mode)var t="demo";else t=void 0!==z.site_ids[K]?z.site_ids[K]:"5b32cf14d866814de2efe8c2";var i={measurable:!0,property:t,bids:[]},g={total:0};for(bidId in u){var s=u[bidId].sizes;if(0<s.length){var r={bidId:bidId,sizes:s};i.bids.push(r),g.total+=s.length,void 0===g[slot_name]&&(g[slot_name]=0),g[slot_name]+=s.length}}if(0!=g.total){var m=ge("/prebid/display",i)+"&foo";h.log.mylog(m,K),h.requests_sent+=g.total,Object.keys(g).forEach(function(e){"total"!==e&&void 0!==h.slots[e]&&(h.slots[e].bids_sent+=g[e])}),e.bids[K].sent+=g.total;var f=Xe();j.ajax({url:m,requestType:"cors",success:function(e){try{if(h.log.mylog(e,K),e=ProperMedia.utils.safeJsonParse(e)){var t=Xe(),i=Qe(f,t);if(void 0!==e.uuid&&function(e){if(!window.mantis_uuid&&(window.mantis_uuid=e,window.localStorage))try{window.localStorage.setItem("mantis:uuid",e)}catch(e){}}(e.uuid),void 0!==e.ads)for(var s=0;s<e.ads.length;s++){var r=e.ads[s],o=r.bid,n=r.cpm,a=r.width,d=r.height,l=r.html,p=a+"x"+d;void 0!==u[o]&&(slot_name=u[o].slot_name,(_=h.slots[slot_name]).logBidResponse(K,p,n,l,o,m,e,{},i,0),h.log.log_bid(K,_,p,n))}}"page"==c?Object.keys(g).forEach(function(e){"total"!==e&&void 0!==h.slots[e]&&h.slots[e].incrementBidResponseCount(K,g[e])}):"slot"==c&&_.incrementBidResponseCount(K,g.total)}catch(e){throw e.bidder=K,e}},error:function(e){try{"page"==c?Object.keys(g).forEach(function(e){"total"!==e&&void 0!==h.slots[e]&&h.slots[e].incrementBidResponseCount(K,g[e])}):"slot"==c&&_.incrementBidResponseCount(K,g.total)}catch(e){throw e.bidder=K,e}}})}},bidderInfo:{rev_share:1,bid_grouping:"page",default_bid_ttl:18e5}}),h.aol=(Q="aol",$=/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi,ee=/\w*(?=\s)/,te=/src=("|')(.*?)\1/,{formatRequest:function(e,t,i,s){var r=Ue(Q,e,i);return s.requests[i]={size:i,tag_id:t,price_floor:r},s},send:function(e,t,i){if("slot"==t){if(1==e.page.isolated&&"dailydot"==z.site_name)return!1;var h=e.page,_=e;Object.keys(i).forEach(function(e){!function(e){var l=e.tag_id,t=e.size,i={"728x90":225,"160x600":154,"300x600":529,"300x250":170,"320x50":3055};if(void 0!==i[t]){var p=Ue(Q,_,t),s=i[t],r=_.name+"@"+t,o=(new Date).getTime(),c="https://adserver-us.adtech.advertising.com/pubapi/3.0/9857.1/"+l+"/0/"+s+"/ADTECH;v=2;cmd=bid;cors=yes;alias="+r+";misc="+o+";bidfloor="+p;T.cmpPresent&&("boolean"==typeof T.gdprApplies&&(c+=";gdpr="+Number(T.gdprApplies)),T.consentString&&(c+=";euconsent="+T.consentString)),h.log.mylog(c,Q),h.requests_sent+=1,_.bids_sent+=1,_.bids.aol.sent+=1;var u=Xe();j.ajax({url:c,special:"aol",requestType:"cors",success:function(e){try{if(h.log.mylog(e,Q),(e=ProperMedia.utils.safeJsonParse(e)||{})&&e.seatbid&&0<e.seatbid.length){var t=Xe(),i=Qe(u,t),s=e.seatbid[0].bid[0]||{};if(0<Object.keys(s).length){var r={};void 0!==s.crid&&(r=s.crid);var o=s.w||1,n=s.h||1,a=s.price||0,d=s.adm||"";_.logBidResponse(Q,o+"x"+n,a,d,l,c,e,r,i,p),h.log.log_bid(Q,_,o+"x"+n,a)}}_.incrementBidResponseCount(Q,1),function(e){if(e&&e.ext&&e.ext.pixels){var t=e.ext.pixels.match($);if(t){var s=[];t.forEach(function(e){var t=e.match(ee)[0],i=e.match(te)[2];t&&i&&s.push({type:"img"===t?"image":"iframe",url:i})}),I.add(s)}}}(e)}catch(e){throw e.bidder=Q,e}},error:function(e){try{_.incrementBidResponseCount(Q,1)}catch(e){throw e.bidder=Q,e}}})}}(i[e])})}},bidderInfo:{rev_share:1,bid_grouping:"slot",default_bid_ttl:6e4}}),h.openx=(ie="openx",se=!0,{formatRequest:function(e,t,i,s){void 0===s.requests[t]&&(s.requests[t]={price_floor:0,slot_name:e.name,slot_div:e.div_id,tag_id:t,sizes:[]});var r=Ue(ie,e,i);return(r<s.requests[t].price_floor||0==s.requests[t].price_floor)&&(s.requests[t].price_floor=r),s.requests[t].sizes.push(i),s},send:function(e,g,m){var f="page"==g?e:e.page,b="slot"==g?e:{},t="undefined"!=typeof dfp_per_slot&&1==dfp_per_slot,i={ju:f.bidder_page_url,jr:f.referrer,ch:k.charSet||k.characterSet,res:screen.width+"x"+screen.height+"x"+screen.colorDepth,ifr:t,tz:(new Date).getTimezoneOffset(),tws:function(e){var t,i,s,r=window,o=k,n=o.documentElement;if(e){try{r=window.top,o=window.top.document}catch(e){return}n=o.documentElement,t=o.body,i=r.innerWidth||n.clientWidth||t.clientWidth,s=r.innerHeight||n.clientHeight||t.clientHeight}else n=o.documentElement,i=r.innerWidth||n.clientWidth,s=r.innerHeight||n.clientHeight;return i+"x"+s}(t),aus:"",auid:"",aumfs:"",dddid:"",divIds:"",be:1,bc:"hb_pb_2.1.6",nocache:(new Date).getTime()},s=[],r=[],o=[],n=[],a=[],v={total:0};Object.keys(m).forEach(function(e){var t=m[e];s.push(t.sizes.join(",")),r.push(t.tag_id),o.push(1e3*t.price_floor),n.push($e()),a.push(encodeURIComponent(t.slot_div)),v.total+=t.sizes.length,void 0===v[t.slot_name]&&(v[t.slot_name]=0),v[t.slot_name]+=t.sizes.length}),i.aus=s.join("|"),i.auid=r.join(","),i.aumfs=o.join(","),i.dddid=n.join(","),i.divIds=a.join(","),ProperMedia.utils.getDNT()&&(i.ns=1),T.cmpPresent&&(void 0!==T.consentString&&(i.gdpr_consent=T.consentString),void 0!==T.gdprApplies&&(i.gdpr=Number(T.gdprApplies)),i.x_gdpr_f=1);var d="",l=encodeURIComponent;Object.keys(i).forEach(function(e){i[e]&&(d+="&"+l(e)+"="+l(i[e]))});var y="https://propermedia-d.openx.net/w/1.0/arj?"+d.slice(1);f.log.mylog(y,ie),f.requests_sent+=v.total,Object.keys(v).forEach(function(e){"total"!==e&&void 0!==f.slots[e]&&(f.slots[e].bids_sent+=v[e])}),e.bids[ie].sent+=v.total;var w=Xe(),x=new Date;j.ajax({url:y,requestType:"cors",cache:!0,data:i,success:function(e){try{f.log.mylog(e,ie);var t=ProperMedia.utils.safeJsonParse(e)||{};if(t&&"object"==typeof t&&t.ads&&"object"==typeof t.ads){var i=Xe(),s=Qe(w,i),r=t.ads.ad||[];if(Array.isArray(r)&&0<r.length)for(var o=0;o<r.length;o++){var n=r[o]||{},a=n.creative[0]||{},d=Number(n.pub_rev)/1e3||0,l=n.html||"",p=a.width||1,c=a.height||1,u=n.adunitid||0,h=p+"x"+c;xe(n,x),"page"==g&&(b=f.slots[m[u].slot_name]||{});var _=m[u].price_floor||0;b instanceof E&&(b.logBidResponse(ie,h,d,l,u,y,t,{},s,_),f.log.log_bid(ie,b,h,d))}!function(e){var t="//u.openx.net/w/1.0/pd";e&&(e.ads&&e.ads.pixels?t=e.ads.pixels:e.pixels&&(t=e.pixels)),I.add({type:"iframe",url:t})}(t)}"page"==g?Object.keys(v).forEach(function(e){"total"!=e&&void 0!==f.slots[e]&&f.slots[e].incrementBidResponseCount(ie,v[e])}):"slot"==g&&b.incrementBidResponseCount(ie,v.total)}catch(e){throw e.bidder=ie,e}},error:function(e){try{"page"==g?Object.keys(v).forEach(function(e){"total"!=e&&void 0!==f.slots[e]&&f.slots[e].incrementBidResponseCount(ie,v[e])}):"slot"==g&&b.incrementBidResponseCount(ie,v.total)}catch(e){throw e.bidder=ie,e}}})},bidderInfo:{rev_share:1,bid_grouping:"page",dont_refresh:1,default_bid_ttl:3e5}}),h.pubmatic=(re="pubmatic",oe="https://hbopenbid.pubmatic.com/translator?source=prebid-client",ne=1,T.ready(function(){var e="https://ads.pubmatic.com/AdServer/js/showad.js#PIX&kdntuid=1&p=109126";T.cmpPresent&&(e+="&gdpr="+(T.gdprApplies?1:0),e+="&gdpr_consent="+encodeURIComponent(T.consentString||"")),I.add({type:"iframe",url:e})}),{formatRequest:function(e,t,i,s){var r=Ue(re,e,i)||e.backup_floor;return s.requests[ne]={slot_name:e.name,tag_id:t,floor:r,size:i},ne++,s},send:function(e,h,_){var g="page"==h?e:e.page,m="slot"==h?e:{},f={total:0},t={id:""+(new Date).getTime(),at:1,cur:["USD"],imp:[],site:{page:g.bidder_page_url,domain:g.domain,ref:g.referrer,publisher:{id:109126..toString()}},device:{ua:navigator.userAgent,js:1,h:parseInt(g.height),w:parseInt(g.width),dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,language:navigator.language,geo:{}},user:{geo:{}},ext:{wrapper:{wp:"pbjs",wv:"prebid_prebid_1.24.1",transactionId:$e()}}};for(var i in z.schain&&(t.source={ext:{schain:z.schain}}),T.cmpPresent&&(t.user.ext={consent:T.consentString||""},t.regs={ext:{gdpr:T.gdprApplies?1:0}}),_){var s=_[i],r=s.size.split("x"),o={id:i.toString(),tagid:s.slot_name,bidfloor:s.floor,bidfloorcur:"USD",secure:g.use_ssl?1:0,banner:{pos:0,w:parseInt(r[0]),h:parseInt(r[1]),topframe:"undefined"!=typeof dfp_per_slot&&1==dfp_per_slot?0:1},ext:{}};t.imp.push(o),f.total++,f[s.slot_name]=(f[s.slot_name]||0)+1}if(0!=t.imp.length){if(g.log.mylog(oe,re),g.requests_sent+=f.total,"page"==h)for(var n in _){var a=_[n].slot_name;void 0!==g.slots[a]&&(g.slots[a].bids_sent+=f[a])}else"slot"==h&&(m.bids_sent+=f.total);e.bids.pubmatic.sent+=f.total;var b=Xe();j.ajax({method:"POST",url:oe,requestType:"cors",data:JSON.stringify(t),success:function(e){try{e=ProperMedia.utils.safeJsonParse(e);var t=Xe(),i=Qe(b,t);if(e&&e.seatbid&&0<e.seatbid.length)for(var s=0;s<e.seatbid.length;s++)if(e.seatbid[s].bid)for(var r=0;r<e.seatbid[s].bid.length;r++){var o=e.seatbid[s].bid[r],n=o.impid,a=(parseFloat(o.price)||0).toFixed(2),d=o.w,l=o.h,p=(o.crid||o.id,o.adm);if(void 0!==_[n]){var c=g.slots[_[n].slot_name];c.logBidResponse(re,d+"x"+l,a,p,n,oe,e,{},i,_[n].floor),g.log.log_bid(re,c,d+"x"+l,a)}}if("page"==h)for(var s in _){var u=_[s].slot_name;void 0!==g.slots[u]&&g.slots[u].incrementBidResponseCount(re,f[u])}else"slot"==h&&m.incrementBidResponseCount(re,f.total)}catch(e){throw e.bidder=re,e}},error:function(e){try{if("page"==h)for(var t in _){var i=_[t].slot_name;void 0!==g.slots[i]&&g.slots[i].incrementBidResponseCount(re,f[i])}else"slot"==h&&m.incrementBidResponseCount(re,f.total)}catch(e){throw e.bidder=re,e}}})}},bidderInfo:{rev_share:.81,bid_grouping:"page"}}),h.rubicon=(ae="rubicon",de={"468x60":1,"728x90":2,"120x90":5,"120x600":8,"160x600":9,"300x600":10,"200x200":13,"250x250":14,"300x250":15,"336x280":16,"300x100":19,"980x120":31,"250x360":32,"180x500":33,"980x150":35,"468x400":37,"930x180":38,"750x100":39,"750x200":40,"750x300":41,"320x50":43,"300x50":44,"300x300":48,"1024x768":53,"300x1050":54,"970x90":55,"970x250":57,"1000x90":58,"320x80":59,"320x150":60,"1000x1000":61,"580x500":64,"640x480":65,"930x600":66,"320x480":67,"1800x1000":68,"320x320":72,"320x160":73,"980x240":78,"980x300":79,"980x400":80,"480x300":83,"970x310":94,"970x210":96,"480x320":101,"768x1024":102,"480x280":103,"250x800":105,"320x240":108,"1000x300":113,"320x100":117,"800x250":125,"200x600":126,"980x600":144,"980x150":145,"320x250":159,"250x600":179,"600x300":195,"640x360":198,"640x200":199,"1030x590":213,"980x360":214,"320x180":229,"580x400":232,"400x600":257},Object.keys(de).forEach(function(e){de[de[e]]=e}),T.ready(function(){var e="";T.cmpPresent&&("boolean"==typeof T.gdprApplies?e+="?gdpr="+Number(T.gdprApplies)+"&gdpr_consent="+T.consentString:e+="?gdpr_consent="+T.consentString),I.add({type:"iframe",url:"https://eus.rubiconproject.com/usync.html"+e})}),{formatRequest:function(e,t,i,s){if(void 0===s.requests[e.name]&&(s.requests[e.name]={tag_id:t,slot_name:e.name,rubicon_sizes:[],rubicon_floor:.01,position:e.position}),void 0!==de[i]){var r=Ue(ae,e,i);(r<s.requests[e.name].rubicon_floor||.01==s.requests[e.name].rubicon_floor)&&(s.requests[e.name].rubicon_floor=r),s.requests[e.name].rubicon_sizes.push(de[i])}return s},send:function(e,_,g){var m="page"==_?e:e.page,f="slot"==_?e:{},r=z.site_ids[ae]||"";if(""==r)return m.log.mylog("Error: Rubicon site ID are required slot "+f.name+"."),!1;var b={total:0},v=[];Object.keys(g).forEach(function(e){var t=g[e],i=t.tag_id||"";if(""==i||0==t.rubicon_sizes.length)return m.log.mylog("Error: Rubicon site ID are required slot "+t.slot_name+"."),!1;t.rubicon_sizes=function(e){var r=[15,2,9];return e.sort(function(e,t){var i=r.indexOf(e),s=r.indexOf(t);return-1<i||-1<s?-1===i?1:-1===s?-1:i-s:e-t})}(t.rubicon_sizes);var s={account_id:8777,site_id:r,zone_id:i,size_id:t.rubicon_sizes[0],alt_size_ids:t.rubicon_sizes.slice(1).join(","),rp_floor:t.rubicon_floor,rp_secure:1==m.use_ssl?"1":"0",tk_flint:"pbjs_lite_v2.2.0","x_source.tid":$e(),p_screen_res:m.width+"x"+m.height,kw:"",tk_user_key:"","p_geo.latitude":void 0,"p_geo.longitude":void 0,"tg_fl.eid":t.slot_name,rf:m.bidder_page_url};z.schain&&z.schain.nodes&&z.schain.nodes[0]&&z.schain.nodes[0].sid&&(s["x_source.pchain"]="proper.io:"+z.schain.nodes[0].sid),"atf"===t.position&&(s.p_pos=t.position),v.push(s),b.total+=t.rubicon_sizes.length,void 0===b[t.slot_name]&&(b[t.slot_name]=0),b[t.slot_name]+=t.rubicon_sizes.length});var t=function(r){if(1===r.length)return r[0];var s=r.reduce(function(t,i,s){return Object.keys(i).forEach(function(e){t.hasOwnProperty(e)||(t[e]=new Array(r.length)),t[e].splice(s,1,i[e])}),t},{}),o=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(s).forEach(function(e){var t=s[e].join(";"),i=t.match(o);s[e]=i?i[1]:t}),s}(v);T.cmpPresent&&("boolean"==typeof T.gdprApplies&&(t.gdpr=Number(T.gdprApplies)),t.gdpr_consent=T.consentString),z.schain&&(t.rp_schain=ProperMedia.utils.formatSupplyChainString(z.schain)),t.slots=v.length,t.rand=Math.random();var i=function(e){var t=/^tg_v/,i=/^tg_i/,s=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","rf","dt.id","dt.keyv","dt.pref","p_geo.latitude","p_geo.longitude","kw"].concat(Object.keys(e).filter(function(e){return t.test(e)})).concat(Object.keys(e).filter(function(e){return i.test(e)})).concat(["tk_flint","x_source.tid","p_screen_res","rp_floor","rp_secure","tk_user_key"]);return s.concat(Object.keys(e).filter(function(e){return-1===s.indexOf(e)}))}(t);if(t&&"object"==typeof t){var s="",o=encodeURIComponent;Object.keys(i).forEach(function(e){t[i[e]]&&(s+="&"+o(i[e])+"="+o(t[i[e]]))}),post_data=s.slice(1)}var y="https://fastlane.rubiconproject.com/a/api/fastlane.json?"+post_data;m.log.mylog(y,ae),m.requests_sent+=b.total,Object.keys(b).forEach(function(e){"total"!=e&&void 0!==m.slots[e]&&(m.slots[e].bids_sent+=b[e])}),e.bids[ae].sent+=b.total;var w=Xe();j.ajax({url:y,requestType:"cors",success:function(e){try{m.log.mylog(e,ae);var t=ProperMedia.utils.safeJsonParse(e)||{};if(t&&"object"==typeof t){var i=Xe(),s=Qe(w,i),r=t.ads||[];if(Array.isArray(r)&&0<r.length)for(var o=0;o<r.length;o++){var n=r[o];if("page"==_&&(f=m.slots[v[o]["tg_fl.eid"]]||{}),f instanceof E)if("ok"===n.status){var a=n.cpm,d=(n.status,n.script),l=n.type,p=n.size_id,c=t.zoneId,u=de[p]||"unknown";"script"==l&&(d="<script>"+d+"<\/script>");var h={};void 0!==n.advertiser&&(h.advertiser=n.advertiser),void 0!==n.seat&&(h.seat=n.seat),void 0!==n.creative_id&&(h.creative_id=n.creative_id),void 0!==n.campaign_id&&(h.campaign_id=n.campaign_id),void 0!==n.ad_id&&(h.ad_id=n.ad_id),f.logBidResponse(ae,u,parseFloat(a),d,c,y,ProperMedia.utils.safeJsonParse(e),h,s,g.rubicon_floor),m.log.log_bid(ae,f,u,parseFloat(a))}else void 0!==n.reason&&m.log.mylog("rubicon resposne status: "+f.name+" "+n.reason)}}"page"==_?Object.keys(b).forEach(function(e){"total"!=e&&void 0!==m.slots[e]&&m.slots[e].incrementBidResponseCount(ae,b[e])}):"slot"==_&&f.incrementBidResponseCount(ae,b.total)}catch(e){throw e.bidder=ae,e}},error:function(e){try{"page"==_?Object.keys(b).forEach(function(e){"total"!=e&&void 0!==m.slots[e]&&m.slots[e].incrementBidResponseCount(ae,b[e])}):"slot"==_&&f.incrementBidResponseCount(ae,b.total)}catch(e){throw e.bidder=ae,e}}})},bidderInfo:{rev_share:.8,bid_grouping:"page",default_bid_ttl:3e5}}),h.sonobi=(le="sonobi",pe=$e(),{formatRequest:function(e,t,i,s){void 0===s.requests[t]&&(s.requests[t]={floor:0,sizes:[],bidId:t,slot_name:e.name});var r=Ue(le,e,i);return(r<s.requests[t].floor||0==s.requests[t].floor)&&(s.requests[t].floor=r),s.requests[t].sizes.push(i),s},send:function(e,p,c){var u="page"==p?e:e.page,h="slot"==p?e:{},t={key_maker:"",ref:u.bidder_page_url,s:$e(),pv:pe,vp:window.device.device_type,lib_name:"prebid",lib_v:"2.3.0",us:0},a={},_={total:0};if(Object.keys(c).forEach(function(e){var t=c[e],i=t.floor,s=t.sizes.join(","),r=t.bidId,o=s?i?s+"|f="+i:s:i?"f="+i:"",n=1==r&&void 0!==z.site_ids[le]?z.site_ids[le]:r;a[e]=n+"|"+o,_.total+=t.sizes.length,void 0===_[t.slot_name]&&(_[t.slot_name]=0),_[t.slot_name]+=t.sizes.length}),t.key_maker=JSON.stringify(a),m.pubcid&&(t.hfa="PRE-"+m.pubcid),z.schain&&(t.schain=JSON.stringify(z.schain)),T.cmpPresent&&(t.gdpr=T.gdprApplies.toString(),T.consentString&&(t.consent_string=T.consentString)),t&&"object"==typeof t){var i="",s=encodeURIComponent;Object.keys(t).forEach(function(e){void 0!==t[e]&&(i+="&"+s(e)+"="+s(t[e]))});var r=i.slice(1)}var g="https://apex.go.sonobi.com/trinity.json?"+r;u.log.mylog(g,le),u.requests_sent+=_.total,Object.keys(_).forEach(function(e){"total"!==e&&void 0!==u.slots[e]&&(u.slots[e].bids_sent+=_[e])}),e.bids[le].sent+=_.total;var o=Xe();j.ajax({url:g,method:"GET",requestType:"cors",success:function(a){try{if(u.log.mylog(a,le),a){a=ProperMedia.utils.safeJsonParse(a)||{};var e=Xe(),d=Qe(o,e),l=a.sbi_dc||"";void 0!==a.slots&&Object.keys(a.slots).forEach(function(e){var t=a.slots[e];if(0<Object.keys(t).length){t.sbi_dozer&&t.sbi_dozer;var i=t.sbi_aid?t.sbi_aid:"",s=e,r=t.sbi_mouse,o=t.sbi_size,n='<script type="text/javascript" src="https://'+l+"apex.go.sonobi.com/sbi.js?aid="+i+"&as=null&ref="+encodeURIComponent(u.bidder_page_url)+'"><\/script>';void 0!==c[e]&&("page"==p&&(h=u.slots[c[e].slot_name]),h.logBidResponse(le,o,r,n,s,g,a,{},d,c[e].floor),u.log.log_bid(le,h,o,r))}}),function(e){if(e&&e.sbi_px){var t=e.sbi_px.map(function(e){return{type:e.type,url:e.url}});I.add(t)}}(a)}"page"==p?Object.keys(_).forEach(function(e){"total"!==e&&void 0!==u.slots[e]&&u.slots[e].incrementBidResponseCount(le,_[e])}):"slot"==p&&h.incrementBidResponseCount(le,_.total)}catch(e){throw e.bidder=le,e}},error:function(e){try{"page"==p?Object.keys(_).forEach(function(e){"total"!==e&&void 0!==u.slots[e]&&u.slots[e].incrementBidResponseCount(le,_[e])}):"slot"==p&&h.incrementBidResponseCount(le,_.total)}catch(e){throw e.bidder=le,e}}})},bidderInfo:{rev_share:1,bid_grouping:"page",default_bid_ttl:5e5}}),h.sovrn=(ce="sovrn",ue="https://ap.lijit.com/rtb/bid?src=2.3.0",{formatRequest:function(e,t,i,s){void 0===s.requests.data&&(s.requests.data=[]),void 0===s.requests.slots&&(s.requests.slots={}),void 0===s.requests.slots[e.name]&&(s.requests.slots[e.name]=0);var r=i.split("x"),o=Ue(ce,e,i);return s.requests.data.push({id:e.number+"|"+i+"|"+t,banner:{format:[{w:parseInt(r[0]),h:parseInt(r[1])}],w:1,h:1},tagid:t,bidfloor:o}),s.requests.slots[e.name]++,s},send:function(e,u,i){var h="page"==u?e:e.page,_="slot"==u?e:{},t={id:$e(),imp:i.data,site:{domain:h.domain,page:h.bidder_page_url}};z.schain&&(t.source={ext:{schain:z.schain}}),T.cmpPresent&&(t.regs={ext:{gdpr:Number(T.gdprApplies)}},t.user={ext:{consent:T.consentString}}),h.log.mylog(ue,ce),h.requests_sent+=i.data.length,"page"==u?Object.keys(i.slots).forEach(function(e){void 0!==h.slots[e]&&(h.slots[e].bids_sent+=i.slots[e])}):"slot"==u&&(_.bids_sent+=i.data.length),e.bids[ce].sent+=i.data.length;var s=Xe();j.ajax({url:ue,method:"POST",requestType:"cors",data:JSON.stringify(t),success:function(e){try{if(h.log.mylog(e,ce),void 0!==(e=ProperMedia.utils.safeJsonParse(e)||{}).seatbid&&0!=e.seatbid.length&&e.seatbid[0].bid){var t=Xe(),p=Qe(s,t),c=e.seatbid[0].bid;Object.keys(c).forEach(function(e){var t=c[e],i=t.impid.split("|"),s=i[0],r=i[1],o=i[2],n=t.price,a=decodeURIComponent(t.adm)+'<img src="'+t.nurl+'" width=1 height=1>',d={},l=Ye(t.nurl);void 0!==l.seatid&&(d.seatid=l.seatid),void 0!==l.campaignid&&(d.campaignid=l.campaignid),void 0!==l.bannerid&&(d.bannerid=l.bannerid),void 0!==l.cb&&(d.cb=l.cb),void 0!==l.rpid&&(d.rpid=l.rpid),"page"==u&&(_=h.getSlotByNumber(s,"display")),_.logBidResponse(ce,r,n,a,o,ue,t,d,p,0),h.log.log_bid(ce,_,r,n)}),function(e){try{if(e&&e.ext&&e.ext.iid){var t="";T&&T.cmpPresent&&T.gdprApplies&&"string"==typeof T.consentString&&(t=T.consentString),I.add({type:"iframe",url:"//ap.lijit.com/beacon?informer="+e.ext.iid+"&gdpr_consent="+t})}}catch(e){throw e.bidder=ce,e}}(e)}else h.log.mylog("no sovrn bids found");"page"==u?Object.keys(i.slots).forEach(function(e){void 0!==h.slots[e]&&h.slots[e].incrementBidResponseCount(ce,i.slots[e])}):"slot"==u&&_.incrementBidResponseCount(ce,i.data.length)}catch(e){throw e.bidder=ce,e}},error:function(e){try{"page"==u?Object.keys(i.slots).forEach(function(e){void 0!==h.slots[e]&&h.slots[e].incrementBidResponseCount(ce,i.slots[e])}):"slot"==u&&_.incrementBidResponseCount(ce,i.data.length)}catch(e){throw e.bidder=ce,e}}})},bidderInfo:{rev_share:1,bid_grouping:"page",default_bid_ttl:6e4}}),T.ready(function(e){if(e.isolated){z.isolated=1;for(var t=0;t<x.length;t++)x[t].isolated=1}});var Le=new function(){this.enabled=!1,this.resize_elem=null,this.breadcrumb_elem=null,this.debug_cont_elem=null,this.debug_console_elem=null,this.view_refresh_timer=null,this.createDebugConsole=function(){this.enabled=!0,this.debug_console_elem||(this.debug_console_elem=k.createElement("div"),this.debug_console_elem.style.cssText="background: white; z-index: 999999; position: fixed; bottom: 0px; left: 0px; width: 100%; height: 300px; overflow: scroll;",this.debug_console_elem.id="proper-debug-console",k.body.appendChild(this.debug_console_elem)),this.resize_elem||(this.resize_elem=k.createElement("div"),this.resize_elem.style.cssText="width:100%; height: 4px; position: fixed; z-index: 9999999; background: black; cursor: ns-resize;",this.resize_elem.id="proper-debug-console-resizer",this.debug_console_elem.appendChild(this.resize_elem),this.makeDivResizable()),this.breadcrumb_elem||(this.breadcrumb_elem=k.createElement("div"),this.breadcrumb_elem.style.cssText="border-bottom: 2px gray solid; padding: 8px 0px 4px 0px; font-weight: bolder; color: white; background: #64b163; position: fixed;width: 100%;z-index: 999;",this.breadcrumb_elem.id="proper-debug-console-breadcrumb",this.debug_console_elem.appendChild(this.breadcrumb_elem)),this.debug_cont_elem||(this.debug_cont_elem=k.createElement("div"),this.debug_cont_elem.style.cssText="padding: 50px 8px;",this.debug_cont_elem.id="proper-debug-console-cont",this.debug_console_elem.appendChild(this.debug_cont_elem));var i=x[0]||{};i instanceof v&&(Object.keys(i.slots).forEach(function(e){var t=i.slots[e];this.addSlotOverlay(t)},this),this.createPageView(i))},this.addSlotOverlay=function(e){if(!(e instanceof E))return!1;var t=e.getElement();if(t){var i=j(t).parent().find(".proper-debug-overlay").remove();i=k.createElement("div"),j(i).addClass("proper-debug-overlay");var s=k.createElement("div");j(s).addClass("proper-debug-overlay-background"),s.style.cssText="cursor: pointer; border: 4px solid red; padding: 4px; z-index: 999999998; background: orange; opacity: 0.50; position: absolute; top: 0px; bottom: 0px; left: 0px; right: 0px;";var r=k.createElement("div");j(r).addClass("proper-debug-overlay-text"),r.style.cssText="text-align: left; z-index: 999999999; padding: 4px; position: absolute; top: 0px; left: 0px; opacity: .90; background: white;",j(r).html([e.name,"Size: "+e.displayed_ad.size,"Bidder: "+e.displayed_ad.bidder,"CPM: "+e.displayed_ad.price].join("<br>")),j(s).on("click",function(){this.createSlotView(e)}.bind(this)),i.append(r),i.append(s),j(t).parent().append(i)}return!0},this.destroyDebugConsole=function(){this.enabled=!1,this.debug_console_elem&&this.debug_console_elem.parentNode.removeChild(this.debug_console_elem),this.view_refresh_timer&&clearTimeout(this.view_refresh_timer),this.view_refresh_timer=null,this.debug_console_elem=null,this.breadcrumb_elem=null,this.debug_cont_elem=null,this.resize_elem=null;var i=x[0]||{};i instanceof v&&Object.keys(i.slots).forEach(function(e){var t=i.slots[e];this.removeSlotOverlay(t)},this)},this.removeSlotOverlay=function(e){if(!(e instanceof E))return!1;var t=e.getElement();if(t)j(t).parent().find(".proper-debug-overlay").remove();return!0},this.refreshViewTimer=function(e,t){clearTimeout(this.view_refresh_timer),this.view_refresh_timer=P.setTimeout.call(this,this.loadViewCallback,1e3,e,t)},this.loadViewCallback=function(e,t){"overview"==e?this.createOverview():"page"==e?this.createPageView(t):"slot"==e?this.createSlotView(t):"ad_pool"==e?this.createAdPoolView(t):"session"==e&&this.createSessionView(t)},this.createBreadcrumb=function(o){this.breadcrumb_elem.innerHTML="",Object.keys(o).forEach(function(e){var t=o[e],i=e<o.length-1?"lightgray":"white",s=k.createElement("span");if(j(s).addClass("proper-debug-breadcrumb"),s.style.cssText="padding: 4px; margin: 0px 8px; cursor: pointer; display: inline-block; color: "+i+";",s.innerHTML=t.text,j(s).on("click",function(){this.loadViewCallback(t.text,t.obj)}.bind(this)),this.breadcrumb_elem.appendChild(s),e<o.length-1){var r=k.createElement("span");j(r).addClass("proper-debug-breadcrumb-spacer"),r.innerHTML="&ggg;",this.breadcrumb_elem.appendChild(r)}else e==o.length-1&&this.refreshViewTimer(t.text,t.obj)},this);var e=k.createElement("span");j(e).addClass("proper-debug-close-console-btn"),e.style.cssText="padding: 4px; margin: 0px 12px; cursor: pointer; display: inline-block; float: right; font-size: 1.3em; color: red;",e.innerHTML="&otimes;",j(e).on("click",function(){this.destroyDebugConsole()}.bind(this)),this.breadcrumb_elem.appendChild(e)},this.createTitleElement=function(e){var t=k.createElement("div");j(t).addClass("proper-debug-cont-title"),t.style.cssText="padding: 4px; margin: 4px; font-size: 1em; font-weight: 700; display: inline-block;",j(t).html(e),this.debug_cont_elem.appendChild(t)},this.createStateElements=function(s){var r=k.createElement("div");j(r).addClass("proper-debug-state-cont"),this.debug_cont_elem.appendChild(r),Object.keys(s).forEach(function(e){var t=s[e]?"#00800087":"#ff000070",i=k.createElement("div");j(i).addClass("proper-debug-state-cell"),i.style.cssText="border: 2px solid black; padding: 4px; margin: 4px; width: fit-content; display: inline-block; background: "+t,j(i).html(e),r.appendChild(i)},this),this.debug_cont_elem.appendChild(k.createElement("hr"))},this.createOverview=function(){this.createBreadcrumb([{text:"overview",obj:{}}]),this.debug_cont_elem.innerHTML="",this.createTitleElement("Device");var e=[{property:"OS",value:window.device.os},{property:"OS Group",value:window.device.os_group},{property:"Browser",value:window.device.browser},{property:"Browser Group",value:window.device.browser_group},{property:"Device Type",value:window.device.device_type},{property:"User Agent",value:navigator.userAgent}];this.createTable("#proper-debug-console-cont",e,!1),this.debug_cont_elem.appendChild(k.createElement("hr")),this.createTitleElement("Special Ops");var t=k.createElement("pre");t.innerHTML=JSON.stringify(special_ops,void 0,2),this.debug_cont_elem.appendChild(t),this.debug_cont_elem.appendChild(k.createElement("hr")),this.createTitleElement("Pages");var r=k.createElement("div");j(r).addClass("proper-debug-pages-cont"),this.debug_cont_elem.appendChild(r),Object.keys(x).forEach(function(e){var t=x[e],i=t instanceof v?"#00800087":"#ff000070",s=k.createElement("div");j(s).addClass("proper-debug-page-cell"),s.style.cssText="border: 2px solid black; padding: 4px; margin: 4px; width: fit-content; display: inline-block; cursor: pointer; background: "+i,j(s).html("Page "+t.page_number),j(s).on("click",function(){this.createPageView(t)}.bind(this)),r.appendChild(s)},this)},this.createPageView=function(r){var e=[{text:"overview",obj:{}},{text:"page",obj:r}];this.createBreadcrumb(e),this.debug_cont_elem.innerHTML="";var t={};1===r.isolated||"undefined"!=typeof dfp_per_slot&&0!=dfp_per_slot||(t["DFP Init"]=f,void 0!==b&&1==b&&"function"==typeof googletag.pubads().isSRA&&googletag.pubads().isSRA()&&(t["DFP Single Request Enabled"]=0)),0<Object.keys(t).length&&this.createStateElements(t),this.createTitleElement("Page Data");var i=[{property:"uuid",value:r.uuid},{property:"url",value:r.url},{property:"referrer",value:r.referrer},{property:"protocol",value:r.protocol},{property:"isolated",value:r.isolated},{property:"width",value:r.width},{property:"height",value:r.height},{property:"tags",value:r.dfp_tags.join(", ")},{property:"page number",value:r.page_number},{property:"spa enabled",value:r.spa_settings.enabled}];1==r.spa_settings.enabled&&(i=i.concat([{property:"spa gallery id",value:r.spa_settings.gallery_id},{property:"spa gallery url",value:r.spa_settings.gallery_base_url},{property:"spa page number",value:r.spa_settings.page_number},{property:"spa prefetch enabled",value:r.spa_settings.prefetch},{property:"spa prefetched slots",value:r.spa_settings.prefetched_slots.join(", ")},{property:"spa prefetch slots",value:r.spa_settings.prefetch_slots.join(", ")},{property:"spa prefetch slots on page",value:r.spa_settings.prefetch_slots_on_page}])),this.createTable("#proper-debug-console-cont",i,!1),this.debug_cont_elem.appendChild(k.createElement("hr")),this.createTitleElement("Slots");var o=k.createElement("div");j(o).addClass("proper-debug-page-slots-cont"),this.debug_cont_elem.appendChild(o),Object.keys(r.slots).forEach(function(e){var t=r.slots[e],i=t.getElement()?"#00800087":"#ff000070",s=k.createElement("div");j(s).addClass("proper-debug-page-slot-cell"),s.style.cssText="border: 2px solid black; padding: 4px; margin: 4px; width: fit-content; display: inline-block; cursor: pointer; background: "+i,j(s).html(t.name),j(s).on("click",function(){this.createSlotView(t)}.bind(this)),o.appendChild(s)},this),this.debug_cont_elem.appendChild(k.createElement("hr")),this.createTitleElement("Ad Pools");var n=k.createElement("div");j(n).addClass("proper-debug-ad-pool-cont"),this.debug_cont_elem.appendChild(n),Object.keys(r.adPools).forEach(function(e){var t=r.adPools[e],i=0<t.slots.length?"#00800087":"#ff000070",s=k.createElement("div");j(s).addClass("proper-debug-ad-pool-cell"),s.style.cssText="border: 2px solid black; padding: 4px; margin: 4px; width: fit-content; display: inline-block; cursor: pointer; background: "+i,j(s).html("Ad Pool "+e),j(s).on("click",function(){this.createAdPoolView(t,r)}.bind(this)),n.appendChild(s)},this),this.debug_cont_elem.appendChild(k.createElement("hr"));var s=k.createElement("div");j(s).addClass("proper-debug-session-cont"),this.debug_cont_elem.appendChild(s);var a=k.createElement("div");j(a).addClass("proper-debug-page-cell"),a.style.cssText="border: 2px solid black; padding: 4px; margin: 4px; width: fit-content; display: inline-block; cursor: pointer; background: #00800087",j(a).html("Session"),j(a).on("click",function(){this.createSessionView(r.sessionHandler)}.bind(this)),s.appendChild(a)},this.createSlotView=function(e){var t=[{text:"overview",obj:{}},{text:"page",obj:e.page},{text:"slot",obj:e}];this.createBreadcrumb(t),this.debug_cont_elem.innerHTML="";var i={"In DOM":e.getElement()?1:0,"Bids Sent":e.bids_sent,"Bids Ready":e.bids_ready};0==e.page.isolated&&("undefined"!=typeof dfp_per_slot&&1==dfp_per_slot?(i["Slot DFP Init"]=e.dfp_init,1==e.dfp_enabled_services&&"function"==typeof e.google_tag.pubads().isSRA&&e.google_tag.pubads().isSRA()&&(i["DFP Single Request"]=0)):(i["DFP Init"]=f,1==b&&"function"==typeof googletag.pubads().isSRA&&googletag.pubads().isSRA()&&(i["DFP Single Request Enabled"]=0)),i["Mapped DFP Sizes"]=e.mapped_dfp_sizes,i["DFP Ready"]=e.dfp_ready,i["DFP Sent"]=e.dfp_sent,e.refresh&&0<e.refresh_cnt&&(i["DFP Refreshed"]=e.dfp_refreshed)),i.Displayed=e.displayed,1==e.page.spa_settings.enabled&&1==e.page.spa_settings.prefetch&&0<e.page.spa_settings.prefetch_slots.length&&-1!==e.page.spa_settings.prefetch_slots.indexOf(e.name)&&(i["Prefetched Ads"]=e.prefetched),this.createStateElements(i),this.createTitleElement(e.name);var s=k.createElement("div");j(p).addClass("proper-debug-scroll-slot-inview"),s.style.cssText="display: inline-block; cursor: pointer;",j(s).html("&#128065;"),j(s).on("click",function(){e.getElement().scrollIntoView()}.bind(this)),this.debug_cont_elem.appendChild(s);var r=Object.keys(e.sizes)||[],o=[{property:"size",value:e.size.join("x")},{property:"sizes",value:r.join(", ")},{property:"default size",value:e.default_size},{property:"div id",value:e.div_id},{property:"displayed",value:e.displayed},{property:"number",value:e.number},{property:"position",value:e.position},{property:"refresh",value:e.refresh},{property:"refresh cnt",value:e.refresh_cnt},{property:"refresh max",value:e.refresh_max},{property:"refresh interval",value:e.refresh_interval},{property:"inview slot",value:e.inview},{property:"inview ad refresh",value:e.inview_ad_refresh},{property:"viewable ad refresh",value:e.viewable_ad_refresh}];(e.inview_ad_refresh||e.viewable_ad_refresh)&&(o=o.concat([{property:"viewable",value:e.viewability.viewable},{property:"time inview",value:e.viewability.total_time_inview},{property:"inview refresh interval",value:e.inview_refresh_interval}])),o=o.concat([{property:"lazyload enabled",value:e.lazyload_enabled}]),e.lazyload_enabled&&(o=o.concat([{property:"in fetch zone",value:e.lazyload.inFetchZone},{property:"in render zone",value:e.lazyload.inRenderZone},{property:"fetch zone %",value:e.lazyload.fetchMarginPercent+"%"},{property:"render zone %",value:e.lazyload.renderMarginPercent+"%"}])),1==e.page.spa_settings.enabled&&1==e.page.spa_settings.prefetch&&0<e.page.spa_settings.prefetch_slots.length&&-1!==e.page.spa_settings.prefetch_slots.indexOf(e.name)&&(o=o.concat([{property:"prefetch enabled",value:1},{property:"prefetched",value:e.prefetched}])),this.createTable("#proper-debug-console-cont",o,!1),this.debug_cont_elem.appendChild(k.createElement("hr"));var n=k.createElement("pre");n.innerHTML=JSON.stringify({floors:e.floors},void 0,2),this.debug_cont_elem.appendChild(n),this.debug_cont_elem.appendChild(k.createElement("hr"));var a=k.createElement("div");if(j(a).addClass("proper-debug-ad-pool-cont"),this.debug_cont_elem.appendChild(a),e.adPool instanceof O){var d=e.adPool,l=0<d.ads.length?"#00800087":"#ff000070",p=k.createElement("div");j(p).addClass("proper-debug-ad-pool-cell"),p.style.cssText="border: 2px solid black; padding: 4px; margin: 4px; width: fit-content; display: inline-block; cursor: pointer; background: "+l,j(p).html("Ad Pool"),j(p).on("click",function(){this.createAdPoolView(d,e.page,e)}.bind(this)),a.appendChild(p)}if(this.debug_cont_elem.appendChild(k.createElement("hr")),1==e.displayed&&e.displayed_ad instanceof C){this.createTitleElement("Displayed Ad");var c=[{property:"bidder",value:e.displayed_ad.bidder},{property:"size",value:e.displayed_ad.size},{property:"price",value:e.displayed_ad.price},{property:"gross",value:e.displayed_ad.gross},{property:"dfp price",value:e.displayed_ad.dfp_price},{property:"response ms",value:e.displayed_ad.response_ms}];this.createTable("#proper-debug-console-cont",c,!1),this.debug_cont_elem.appendChild(k.createElement("hr"))}this.createTitleElement("Auction");var u=[{property:"bids returned / sent",value:e.bids_returned+" / "+e.bids_sent},{property:"bids ready",value:e.bids_ready},{property:"auction ms",value:e.calcAuctionMs()},{property:"max timeout",value:e.max_timeout}];this.createTable("#proper-debug-console-cont",u,!1),this.debug_cont_elem.appendChild(k.createElement("hr")),this.createTitleElement("Bids ("+e.ads.length+")");for(var h=[],_=0;_<e.ads.length;_++){var g=e.ads[_];h.push({displayed:g.displayed,bidder:g.bidder,size:g.size,gross:g.gross,price:g.price,dfp_price:g.dfp_price,tag_id:g.tag_id,ttl:g.ttl})}this.createTable("#proper-debug-console-cont",h,!0)},this.createAdPoolView=function(r,o,e){var t=[{text:"overview",obj:{}},{text:"page",obj:o}];e&&t.push({text:"slot",obj:e}),t.push({text:"ad pool",obj:r}),this.createBreadcrumb(t),this.debug_cont_elem.innerHTML="",this.createTitleElement("Slots");var n=k.createElement("div");j(n).addClass("proper-debug-ad-pool-slots-cont"),this.debug_cont_elem.appendChild(n),Object.keys(r.slots).forEach(function(e){var t=r.slots[e],i=ProperMedia.utils.getSlotFromPageObject(o,t);if(i&&i instanceof E){var s=k.createElement("div");j(s).addClass("proper-debug-ad-pool-slot-cell"),s.style.cssText="border: 2px solid black; padding: 4px; margin: 4px; width: fit-content; display: inline-block; cursor: pointer; background: #00800087",j(s).html(i.name),j(s).on("click",function(){this.createSlotView(i)}.bind(this)),n.appendChild(s)}},this),this.debug_cont_elem.appendChild(k.createElement("hr")),this.createTitleElement("Bids");for(var i=[],s=0;s<r.ads.length;s++){var a=r.ads[s];i.push({displayed:a.displayed,bidder:a.bidder,size:a.size,gross:a.gross,price:a.price,dfp_price:a.dfp_price,tag_id:a.tag_id,ttl:a.ttl})}this.createTable("#proper-debug-console-cont",i,!0)},this.createSessionView=function(e){var t=[{text:"overview",obj:{}},{text:"page",obj:e.page},{text:"session",obj:e}];this.createBreadcrumb(t),this.debug_cont_elem.innerHTML="",this.createTitleElement("Session Data");var i=[{property:"uuid",value:e.sessionData.uuid},{property:"depth",value:e.sessionData.depth},{property:"referrer",value:e.sessionData.referrer},{property:"utm_campaign",value:e.sessionData.utm_campaign},{property:"utm_source",value:e.sessionData.utm_source},{property:"utm_medium",value:e.sessionData.utm_medium},{property:"utm_term",value:e.sessionData.utm_term}];this.createTable("#proper-debug-console-cont",i,!1)},this.createTable=function(n,a,d){var l;!function(){l=k.createElement("table"),j(l).addClass("proper-debug-table"),l.style.cssText="margin: 5px;",j(n).append(l);for(var e=function(){for(var e=[],t=k.createElement("tr"),i=0;i<a.length;i++){var s=a[i];for(var r in s)if(0==e.includes(r)){e.push(r);var o=k.createElement("th");o.innerHTML=r,j(t).append(o)}}1==d&&j(l).append(t);return e}(),t=0;t<a.length;t++){for(var i=k.createElement("tr"),s=0;s<e.length;s++){var r=a[t][e[s]];null==r&&(r="");var o=k.createElement("td");o.style.cssText="padding: 5px;",o.innerHTML=r,j(i).append(o)}j(l).append(i)}}()},this.makeDivResizable=function(){var i=20,s=0,r=0,o=0,n=this.debug_console_elem;function t(e){var t=s-(e.pageY-o);i<t&&(n.style.height=t+"px",n.style.top=r+(e.pageY-o)+"px")}function a(){window.removeEventListener("mousemove",t)}this.resize_elem.addEventListener("mousedown",function(e){e.preventDefault(),s=parseFloat(getComputedStyle(n,null).getPropertyValue("height").replace("px","")),r=n.getBoundingClientRect().top,o=e.pageY,window.addEventListener("mousemove",t),window.addEventListener("mouseup",a)})}};function Ue(e,t,i){try{var s=0;void 0!==t.number&&z.sticky_slot==t.number&&"display"==t.type&&(s=1);var r=z.backup_floor;if(void 0!==i&&"string"==typeof i){var o=i.split(",");if(1<o.length){for(var n=new Array,a=0;a<o.length;a++)r=Ve(s,o[a],t),n.push(r);r=0<n.length?Math.min.apply(null,n):z.backup_floor}else r=Ve(s,i,t)}z.bidder_info[e]&&z.bidder_info[e].rev_share&&0<z.bidder_info[e].rev_share&&(r=parseFloat((r/z.bidder_info[e].rev_share).toFixed(2)))}catch(e){console.error(e),r=z.backup_floor,g(_.computeStackTrace(e))}return r}function He(e){return function(e,t){return Number(Math.round(e+"e"+t)+"e-"+t)}(e=(e=parseFloat(e))&&""!=e?e<=.1?.1:e<=.25?.25:e<=.4?.4:e<=2?(Math.ceil(4*e)/4).toFixed(2):e<=5?(Math.ceil(2*e)/2).toFixed(2):5:z.backup_floor,2)}function Ve(e,t){var i=z.backup_floor;return 1==e&&void 0!==z.sticky_floors[t]?i=z.sticky_floors[t]:1!=e&&void 0!==z.floors[t]&&(i=z.floors[t]),He(i)}function We(){try{return window.top.location.href}catch(e){return window.location.href}}function Ze(){try{return window.location.hostname.replace(/^www\./,"")}catch(e){return""}}function Ge(e,t){return-1!==e.indexOf(t,e.length-t.length)}function Je(){try{return window.top.location.pathname}catch(e){return window.location.pathname}}function Ye(e){for(var t=decodeURIComponent(e).split("&"),i={},s=0;s<t.length;s++){var r=t[s].split("=");i[r[0]]=r[1]}return i}function Ke(e){var t=k.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)");return t?t.pop():void 0}function Xe(){return(new Date).getTime()}function Qe(e,t){return 0<e&&0<t&&e<t?t-e:-1}function $e(){var i=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(i+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(i+16*Math.random())%16|0;return i=Math.floor(i/16),("x"==e?t:3&t|8).toString(16)})}function et(e,t){if("string"===t.type){var i="string"==typeof t.default_val?t.default_val:"",s="number"==typeof t.max_len?t.max_len:256;"number"==typeof t.min_len&&t.min_len;"number"==typeof e&&(e=e.toString()),"string"!=typeof e&&(e=i),e.length>s&&(e=e.substring(0,s))}else if("number"===t.type){i="number"==typeof t.default_val?t.default_val:0;var r="number"==typeof t.max?t.max:99999,o="number"==typeof t.min?t.min:0;"string"==typeof e&&/^(\d+)?(\.\d+)$/.test(e)&&(e=-1<e.indexOf(".")?parseFloat(e):parseInt(e)),"number"!=typeof e&&(e=i),r<e&&(e=r),e<o&&(e=o)}else if("boolean"===t.type){i="boolean"==typeof t.default_val&&t.default_val;"number"==typeof e?0===e?e=!1:1===e&&(e=!0):"string"==typeof e&&("false"===e||"0"===e?e=!1:"true"!==e&&"1"!==e||(e=!0)),"boolean"!=typeof e&&(e=i)}return e}return{set_options:function(e){for(var t in z=new a,e)"post_id"==t?z.post_id_enabled=1:"member"==t&&(z.member_enabled=1),z[t]=e[t];if(void 0===special_ops.kill_all_ads||"yes"!=special_ops.kill_all_ads){var i=k.createElement("style");i.type="text/css";var s=".proper-ad-unit{margin:auto;position:relative;display:block;min-width:100px;text-align:center;box-sizing:border-box !important}.proper-ad-unit *{box-sizing:border-box !important}.proper-ad-unit>div:first-of-type{position:relative;margin:auto}.proper-ad-unit>div:first-of-type.active-highlight:after{content:'';margin:auto;position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;background:none;border:5px solid rgba(218,48,48,0.85)}.proper-ad-unit>div:first-of-type>.noad{background-color:#c2c2c2}.proper-ad-unit .report-ad{position:relative !important;display:block !important;font-family:'Source Sans Pro', sans-serif;left:0;right:0;color:#999 !important;font-size:12px;line-height:23px;white-space:nowrap;text-decoration:none !important;-webkit-font-smoothing:antialiased}.proper-ad-unit .report-ad:hover{color:black;text-decoration:underline !important}.proper-ad-unit.ad-sticky{position:fixed;display:block;z-index:100}.proper-ad-unit.ad-sticky.open{transition:all 0.01s ease-in}.proper-ad-unit.ad-sticky.close{transition:all 1s ease-in}.proper-ad-unit.ad-sticky.sticky-btm{padding-top:0;width:100%;height:auto;position:fixed;z-index:9999;text-align:center;padding-bottom:0;background:rgba(40,40,40,0.9);top:auto;right:0;bottom:-100%;left:0}.proper-ad-unit.ad-sticky.sticky-btm.open,.proper-ad-unit.ad-sticky.sticky-btm.isOpen{bottom:0}.proper-ad-unit.ad-sticky.sticky-btm.close,.proper-ad-unit.ad-sticky.sticky-btm.isClosed{bottom:-100%}.proper-ad-unit.ad-sticky.sticky-btm.sticky-compact{display:none !important}.proper-ad-unit.ad-sticky.sticky-btm .brand{top:-16px;left:0;right:0;background:rgba(40,40,40,0.9);height:16px;width:62px;border-radius:0 3px 0 0}.proper-ad-unit.ad-sticky.sticky-btm .brand:after{top:2px;left:0;width:61px;height:15px;background-size:56px 14px}.proper-ad-unit.ad-sticky.sticky-btm .inner-wrapper{margin:auto;padding:0;position:relative !important;display:block;width:100%;height:0 !important;max-width:calc(100% - 60px);height:auto;font-family:Arial, 'Helvetica Neue', Helvetica, sans-serif;background:none}.proper-ad-unit.ad-sticky.sticky-btm .inner-wrapper .close-ad{top:-15px;right:-30px;width:30px;height:29px;font-size:16px;line-height:21px}.proper-ad-unit.ad-sticky.sticky-btm .inner-wrapper .close-ad:after{width:22px;height:22px;color:rgba(255,255,255,0.75);background:#555;border-radius:100px;-moz-border-radius:100px;-webkit-border-radius:100px;margin:4px auto;vertical-align:middle}.proper-ad-unit.ad-sticky.sticky-btm .inner-wrapper .close-ad:after:hover{color:#fff}.proper-ad-unit.ad-sticky.sticky-btm .inner-wrapper .report-ad{width:50px;height:12px;top:-11px;background:none;color:transparent !important}.proper-ad-unit.ad-sticky.sticky-btm .ad-wrapper{position:relative;margin:auto;z-index:9;margin-top:3px}.proper-ad-unit.ad-sticky.sticky-left,.proper-ad-unit.ad-sticky.sticky-right{top:0;bottom:0;padding-top:20px !important;padding-bottom:20px !important}.proper-ad-unit.ad-sticky.sticky-left .brand,.proper-ad-unit.ad-sticky.sticky-right .brand{top:4px;height:12px;width:54px;z-index:1}.proper-ad-unit.ad-sticky.sticky-left .brand:after,.proper-ad-unit.ad-sticky.sticky-right .brand:after{top:0;width:54px;height:12px;background-size:54px 12px}.proper-ad-unit.ad-sticky.sticky-left .inner-wrapper,.proper-ad-unit.ad-sticky.sticky-right .inner-wrapper{margin-top:0;margin-bottom:0;position:absolute;top:0;bottom:0;left:0;right:0;background:rgba(40,40,40,0.9)}.proper-ad-unit.ad-sticky.sticky-left .inner-wrapper .close-ad,.proper-ad-unit.ad-sticky.sticky-right .inner-wrapper .close-ad{color:#999;font-size:20px;line-height:19px}.proper-ad-unit.ad-sticky.sticky-left .inner-wrapper .report-ad,.proper-ad-unit.ad-sticky.sticky-right .inner-wrapper .report-ad{bottom:0;font-weight:700;letter-spacing:.5px;text-transform:uppercase;line-height:21px;font-size:11px}.proper-ad-unit.ad-sticky.sticky-left .inner-wrapper .report-ad:hover,.proper-ad-unit.ad-sticky.sticky-right .inner-wrapper .report-ad:hover{text-decoration:none !important;color:white !important}.proper-ad-unit.ad-sticky.sticky-left{left:-100%}.proper-ad-unit.ad-sticky.sticky-left .inner-wrapper{border-radius:0 5px 5px 0}.proper-ad-unit.ad-sticky.sticky-left .close-ad{right:5px}.proper-ad-unit.ad-sticky.sticky-left .brand{left:5px}.proper-ad-unit.ad-sticky.sticky-left .brand:after{left:0}.proper-ad-unit.ad-sticky.sticky-right{right:-100%}.proper-ad-unit.ad-sticky.sticky-right .inner-wrapper{border-radius:5px 0 0 5px}.proper-ad-unit.ad-sticky.sticky-right .close-ad{left:5px}.proper-ad-unit.ad-sticky.sticky-right .brand{right:5px}.proper-ad-unit.ad-sticky.sticky-right .brand:after{left:0}.proper-ad-unit.ad-sticky.open.sticky-right,.proper-ad-unit.ad-sticky.isOpen.sticky-right{right:0}.proper-ad-unit.ad-sticky.open.sticky-left,.proper-ad-unit.ad-sticky.isOpen.sticky-left{left:0}.proper-ad-unit.ad-sticky.close.sticky-right,.proper-ad-unit.ad-sticky.isClosed.sticky-right{right:-100%}.proper-ad-unit.ad-sticky.close.sticky-left,.proper-ad-unit.ad-sticky.isClosed.sticky-left{left:-100%}.proper-ad-unit.ad-sticky.sticky-120x600.sticky-left,.proper-ad-unit.ad-sticky.sticky-120x600.sticky-right{width:120px;height:640px}.proper-ad-unit.ad-sticky.sticky-160x600.sticky-left,.proper-ad-unit.ad-sticky.sticky-160x600.sticky-right{width:160px;height:640px}.proper-ad-unit.ad-sticky.sticky-300x600.sticky-left,.proper-ad-unit.ad-sticky.sticky-300x600.sticky-right{width:300px;height:640px}.proper-ad-unit.ad-sticky.sticky-300x250.sticky-left,.proper-ad-unit.ad-sticky.sticky-300x250.sticky-right{width:300px;height:290px}.proper-ad-unit.ad-sticky .brand{position:absolute !important}.proper-ad-unit.ad-sticky .brand:after{content:'';position:absolute;background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHcAAAAeCAYAAAAWwoEYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4ZDJkODBlZS1kYTVhLTRiNGUtYWMwZS1iZmI0ODE2ZGRjYTgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QjIzNUY5QkE4MkREMTFFODgyMkM4QUM2OTM0NUM1RUYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NjcxMzE2MzQ4MkREMTFFODgyMkM4QUM2OTM0NUM1RUYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4NjczMThlNC02ZmY0LTRiNDctYTAwNC00ZGFkNzc0NzE2MjQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OGQyZDgwZWUtZGE1YS00YjRlLWFjMGUtYmZiNDgxNmRkY2E4Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+UshKoAAABFdJREFUeNrsmk9IFFEcx3dUjO0vZJ0kUAupQ+QtqJMg4iXoYF46CAtetcNe6mInTx7aTnlIok5B0FYsZkehwwaR2iFCI8tEMDtUmn/S2b6PfrP8fL6ZeTPz1h1hfvBhZ997v3m/md/7vffmN2OVSqVUAGkEt+lY/C6kEomtWAGcewf0S2V3wY3kNu5f52bIiYfov6Ng0e8qOX00uZ37x7lt4AloJkc6ztym31rmbMFn0A0mk9saD6lxKc+Dt6CFOVU4cBrUEdM8ijFITuP3HVihaE8kZpHbC0bAAeY4IT/AdfAquWX7R+ro9yJNwY1S/RYYBrd8zqOzK7NclRVLg2VZvicMq2dCTNocKio1+hLT8jh4rXDsGKjXcKyn44LcLxhchq3lYoB9AfdAk0E9WdJgABTBGlGksrRpmwMQvq/Sf7EZi6BVjLAQeImrnm3bfrqO/AZdUfUUnAMzHvoz1MaIzaAUgNB9ceeugWxIpzq0Vti5Qn6Bpih6EqJsSUN/ietHsbmCzt3RVw2F9jOaeoal6aOV0JEC+Ki5/vrJcfb4JfYFl8E3qjsCbhrUewBOsv/X6F6k6dgR0eZhBWy2fAjfl0dEFdhoKHi0GwKbFP0l9hslco8p2l1i9V+j6DE6JP12hX671KYjqs1yZPrNiGH70nGW47BNqnPadYLv0notZBvkQZth59az+o0oeoz7rG7Qw8ZB1u5RVJsr5NxdfaU0nCVvuESbKanMlpyq2mTFMXJnWZ3XJrKFtftkOnLdiHp/nOfcKXBesV1/TsdX2PzfAE4ESD1aIdbhWulxTTyHP2ZlLw3pnWLHcx72zLvomLC5FOLxUq8vaUQ4ETgrRWAblW1LEb0CMhF32Hu6W5aiYoPV13vYeJC1W92j3XKk+yN05NzyH9AHzkhROEllfdRGjLYcOKzxNugpsA0lhkTeuscnynY5hxISPTie84hIr0QHT/AsGLY5yC452HXqbnokGjXbremuuWK0uoiYLebBCGjW1ZOiYBbUKdazSBuqKDYH3VCFuU6lc72mCJfOd7R3yVj5Gh/kgjU2Jzmprl/h3EiPQqZsrtR1ujkgz9ZXW8MAecccKnINO7cBLLO6ZSpLSeefkO5BNzgAjtIxl4kK2+xF4OuUnZtlC3h5E+UY7hHR5U0YK8uSc+0qOTdFo5jX5xTODZ1+NGSzVvoxzHXqvDjISNNs+RmYXVBGyi8vKp6Xq+Fcsf58YPV/wVnF+UO9OIiRc5XXKTocB1sKZxQ8pl+36bqgGCxb1Ec1nCvoktqMuZw/DQbAG7AOfoIilaUraLMJ5yqv0/kSQ35Zb7F3hfxlvdunrUMgS0lsnrRYoORGMW4vvqO+1K/2y/pUiGelXhq1qpRjp2IkuqUs1+lcqYTq4fb1Y15KOTryHlzwSVm+AFeTL5iST1sTqcKnraqUI9ep0UhZJhJj5zoySjnknPzBVoD8ciIxm5bdEuiq3XIiMZR/AgwAEp2vo1fQ15UAAAAASUVORK5CYII=\");background-position:center center;background-repeat:no-repeat}.proper-ad-unit.ad-sticky .inner-wrapper .close-ad{display:block;position:absolute !important;text-decoration:none;z-index:9999}.proper-ad-unit.ad-sticky .inner-wrapper .close-ad:after{content:\"\\00d7\";font-family:sans-serif;display:block}.proper-ad-unit.ad-sticky .ad-wrapper{position:relative;z-index:9}";void 0!==z.extra_css&&""!=z.extra_css&&(s+=z.extra_css),i.styleSheet?i.styleSheet.cssText=s:i.appendChild(k.createTextNode(s)),k.getElementsByTagName("head")[0].appendChild(i)}var r=new v;1==r.is_mobile&&z.hasOwnProperty("mobile_adx_bid_mod")&&0<z.mobile_adx_bid_mod?z.adx_bid_modifier=z.mobile_adx_bid_mod:0==r.is_mobile&&z.hasOwnProperty("desktop_adx_bid_mod")&&0<z.desktop_adx_bid_mod&&(z.adx_bid_modifier=z.desktop_adx_bid_mod),1==r.is_mobile&&z.hasOwnProperty("mobile_floor")?z.backup_floor=z.mobile_floor:0==r.is_mobile&&z.hasOwnProperty("desktop_floor")&&(z.backup_floor=z.desktop_floor),z.backup_floor=He(z.backup_floor),void 0!==r.get_vars.proper_test&&""!=r.get_vars.proper_test&&(r.log.mylog("TESTING MODE: "+r.get_vars.proper_test),z.testing_mode=1,z.refresh=0,z.backup_floor=.01,z.isolated=void 0!==r.get_vars.proper_dfp&&1==r.get_vars.proper_dfp?0:1,r.isolated=z.isolated),m=new n,r.buildDefaultSlots(),x.push(r),o=new d(r),void 0!==z.native_blocker&&1==z.native_blocker&&(1!=r.is_mobile?z.native_blocker=0:S=new adBlockerObj),void 0!==r.get_vars.proper_debug_console&&Le.createDebugConsole()},proper_log:function(e,t){if(t=t||"all","pages"!=(e=e||"proper"))if("bid_table"!=e){if("bid_table_csv"!=e){if("on"==e){e="proper";var i=new Date;i.setTime(i.getTime()+36e5),k.cookie="proper_log=1; expires="+i.toGMTString()+"; path=/; SameSite=Lax;",console.log("NOTICE: Turning on persistent logging. Run proper_log('off'); to turn off.")}else if("off"==e){if(e="proper",console.log("NOTICE: Turning off persistent logging."),k.cookie="proper_log=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=Lax;","all"!==t&&void 0!==x[t])(r=x[t]).get_vars[e]=0;else for(var s=0;s<x.length;s++)x[s].get_vars[e]=0;return!1}if("all"!==t&&void 0!==x[t])for(var r=x[t],o=0;o<r.log.log_lines[e].length;o++)r.log.log_lines[e][o]&&console.log(r.log.log_lines[e][o]),r.get_vars[e]=1;else for(s=0;s<x.length;s++){for(o=0;o<x[s].log.log_lines[e].length;o++)x[s].log.log_lines[e][o]&&console.log(x[s].log.log_lines[e][o]);x[s].get_vars[e]=1}return!0}if((a=l()).length){csv_output="",header_keys=Object.keys(a[0]);for(d=0;d<header_keys.length;d++)csv_output+='"'+header_keys[d]+'"'+(d<header_keys.length-1?",":"");for(d=0;d<a.length;d++)csv_output+='\n"'+Object.values(a[d]).join('","')+'"';var n=k.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(csv_output)),n.setAttribute("download","proper_bid_table_"+k.location.hostname+".csv"),n.style.display="none",k.body.appendChild(n),n.click(),k.body.removeChild(n)}else console.warn("No responses")}else{var a;if((a=l()).length)if(console.table)console.table(a);else for(var d=0;d<a.length;d++)console.log(a[d]);else console.warn("No responses")}else console.log(x);function l(){var e=[],t=x[0].slots;for(var i in t){var s=t[i];if(s instanceof E)for(var r=0;r<s.ads.length;r++){var o=n(s.ads[r]);-1===ProperMedia.utils.indexOfObjectInArray(e,o)&&e.push(o)}if(s.winning_ad instanceof C){o=n(s.winning_ad);-1===ProperMedia.utils.indexOfObjectInArray(e,o)&&e.push(o)}}return e;function n(e){return{slot_name:e.slot.name,size:e.size,bidder:e.bidder,time:e.response_ms,floor:e.floor,cpm:e.price,dfp_price:e.dfp_price,gross:e.gross,price:e.price,tag_id:e.tag_id,refresh_cnt:e.slot.refresh_cnt,displayed:e.displayed}}}},proper_debug_console:function(){Le.createDebugConsole()},proper_display:function(e,t){T.ready(function(){!function(e,t){if(void 0!==special_ops.kill_all_ads&&"yes"==special_ops.kill_all_ads)return;if(void 0===e){try{var i=k.scripts[k.scripts.length-1];e=i.parentNode.id;if(void 0===i.parentNode||void 0===e||e.indexOf("proper-ad-")<0)return;e=e.replace("proper-ad-","")}catch(e){console.error(e),g(_.computeStackTrace(e))}if(void 0===e)return}var s=e.split("-");e=s[0];var r=1<s.length?s[1]:1;if(1<r&&special_ops.spa_settings&&1==special_ops.spa_settings.enabled)return x[0].log.mylog("Error: Cannot have more than one page object with SPA enabled.");if(x.length<r-1)return x[x.length-1].log.mylog("Page requested is out of order: "+r);void 0===x[r-1]&&_e();var o=ProperMedia.utils.getPageObjectByIndex(x,r);if(!o)return;if(!0===o.dont_send_bids)return;if(void 0!==o.slots[e]){1==(l=o.slots[e]).page.spa_settings.enabled&&1==l.page.spa_settings.prefetch&&1<l.page.spa_settings.page_number&&-1!==l.page.spa_settings.prefetched_slots.indexOf(l.name)?l.bidsReady():l.checkBidsReady()}else{var n=1;for(var a in z.ad_slots)for(var d in z.ad_slots[a]){if(d==e){var l;if(o.buildSlot(d,n,a),void 0!==o.slots[d])if(l=ProperMedia.utils.getSlotFromPageObject(o,d)){if(t)for(var p in t)l[p]=t[p];var c=z.enabled_bidders[l.auction_num]||{},u={};u[l.name]=l,ze(u,c),1!=o.isolated&&(0==f&&Pe(),0==l.mapped_dfp_sizes&&Ee(l)),je(l,"slot",c)}break}n++}}}(e,t)})},_c1xResponse:_c1xResponse,proper_render:Ne,proper_secondary:De,proper_remnant:function(e,t){if("string"==typeof t&&0<=t.indexOf("|"))var i=t.split("|"),s=i[0],r=i[1];else s=1,r=t;var o=x[s-1].getSlotByNumber(r,"display");if(o.div_id,o.sticky)Re(o);else{var n=!0===Fe(o,o.default_size)?0:1;t=1<o.page.page_number?o.page.page_number+"|"+o.number:o.number,n||o.winning_ad.size.split("x");0==n?Ne(k.getElementById(o.div_id),t,1):Re(o)}},bangerang:function(e,t,i){var s=ProperMedia.utils.getPageObjectByIndex(x,t),r=s.getSlotByNumber(e,"display");s&&r&&googletag.cmd.push(function(){0==s.isolated&&void 0!==r&&(r.banger_loop=i,1==r.banger_loop&&r.getWinningBid(),void 0!==r.winning_ad.dfp_price&&r.dfp_slot.setTargeting("proper_bid",r.winning_ad.dfp_price),r.page.log.mylog("(Banger Loop: "+i+" slot: "+r.name+")"),r.dfp_slot.setTargeting("bang_loop",i.toString()),googletag.pubads().refresh([r.dfp_slot]))})},logMatchingResponse:function(e,t,i){o.logMatchingResponse(e,t,i)},disableSlotRefresh:qe,send_bidders:function(e){T.ready(function(){!function(e){1==z.testing_mode&&((e=[])[0]={},e[0][x[0].get_vars.proper_test]=1);var t=x[0];if(void 0!==special_ops.kill_all_ads&&"yes"==special_ops.kill_all_ads)return t.log.mylog("Kill All Ads enabled! Good bye!");if(!0===t.dont_send_bids)return;if(1!=t.isolated)for(slot_name in 0==f&&Pe(),t.slots)0==t.slots[slot_name].mapped_dfp_sizes&&Ee(t.slots[slot_name]);else t.log.mylog("Isolated Mode! - NO DFP");e=Te(e=Se(t,e)),z.enabled_bidders=e,ze(t.slots,e[0]),je(t,"page",e[0]),void 0!==e[0].s2s&&1==e[0].s2s&&(o.page=t,o.s_to_s_bidders={sovrn:1,pubmatic:1,districtm:1},o.cookieMatch());for(slot_name in t.slots){var s=ProperMedia.utils.getSlotFromPageObject(t,slot_name);s&&je(s,"slot",e[0])}if(e[0].sovrn&&1==e[0].sovrn&&"http:"==t.protocol){var r=k.createElement("script");r.type="text/javascript",r.id="sBeacon",r.src=t.protocol+"//ap.lijit.com/www/sovrn_beacon_standalone/sovrn_standalone_beacon.js?iid=13387626&amp;uid=proper_media",k.getElementsByTagName("head")[0].appendChild(r)}for(propertag.cmd.push=function(e){e.call()},i=0;i<propertag.cmd.length;i++)propertag.cmd[i].call()}(e)})},getReportAdInfo:function(e){var t={};if(void 0!==e.site_name&&1==e.site_name&&(t.site_name=z.site_name),void 0!==e.split_version&&1==e.split_version&&(t.split_version=z.split_version),void 0!==e.slot_id){var i=e.slot_id.replace("proper-ad-","").split("-"),s=i[0],r=3<i.length?parseInt(i[3]):1,o=ProperMedia.utils.getPageObjectByIndex(x,r);o&&(o.log.autoplay_html[e.slot_id]&&(t.autoplay_html=o.log.autoplay_html[e.slot_id]),void 0!==o.log.log_lines&&(t.log_lines=o.log.log_lines),void 0!==o.log.saved_data[s]&&(t.saved_data=o.log.saved_data[s]),void 0!==o.log.ad_info[s]&&(t.ad_info=o.log.ad_info[s]))}return t},getAdSlots:function(){return Object.keys(x[0].slots)},refreshSlotByName:function(e,t){if(!t){var i=ProperMedia.utils.extractSlotNameAndPageNumber(e);e=i.slot_name,t=i.page_number}var s=ProperMedia.utils.getPageObjectByIndex(x,t);if(s){var r=ProperMedia.utils.getSlotFromPageObject(s,e);r&&(r.removeRefreshTimeout(),r.refreshSlot())}},setVideoCallback:function(e,t){"outstream"==e&&void 0!==z.outstream_settings.slot_name&&void 0!==x[0].slots[z.outstream_settings.slot_name]?(slot=x[0].slots[z.outstream_settings.slot_name],slot._videoCallback=t,slot.checkVideoAuction()):"instream"==e&&void 0!==z.instream_settings.slot_name&&void 0!==x[0].slots[z.instream_settings.slot_name]?(slot=x[0].slots[z.instream_settings.slot_name],slot._videoCallback=t,slot.checkVideoAuction()):t(!1)},getOutstreamSettings:function(){return z.outstream_settings},sendError:g,spaNewPage:function(){if(0==x.length)_e();else{var e=x[0];if(1<x.length){for(var t=1;t<x.length;t++){var i=x[t];for(slot_name in i.slots){ProperMedia.utils.getSlotFromPageObject(i,slot_name)&&(i.slots[slot_name].deleteSlot(),delete i.slots[slot_name])}delete x[t]}x=[e]}e.log.mylog("========== New SPA Page =========="),e.SpaNextPage()}},deleteSlot:function(e,t){if(!t){var i=ProperMedia.utils.extractSlotNameAndPageNumber(e);e=i.slot_name,t=i.page_number}var s=ProperMedia.utils.getPageObjectByIndex(x,t);if(s){var r=ProperMedia.utils.getSlotFromPageObject(s,e);r&&r.deleteSlot()}},destroyDfpSlot:function(e,t){if(!t){var i=ProperMedia.utils.extractSlotNameAndPageNumber(e);e=i.slot_name,t=i.page_number}var s=ProperMedia.utils.getPageObjectByIndex(x,t);if(s){var r=ProperMedia.utils.getSlotFromPageObject(s,e);r&&r.destroyDfpSlot()}}}}(window,document);var proper_log=ProperMedia.ad_project.proper_log,proper_debug_console=ProperMedia.ad_project.proper_debug_console,proper_display=ProperMedia.ad_project.proper_display,proper_render=ProperMedia.ad_project.proper_render,proper_secondary=ProperMedia.ad_project.proper_secondary,proper_remnant=ProperMedia.ad_project.proper_remnant,disableSlotRefresh=ProperMedia.ad_project.disableSlotRefresh,logMatchingResponse=ProperMedia.ad_project.logMatchingResponse,bangerang=ProperMedia.ad_project.bangerang,_c1xResponse=ProperMedia.ad_project._c1xResponse,properSpaNewPage=ProperMedia.ad_project.spaNewPage,properDeleteSlot=ProperMedia.ad_project.deleteSlot,properDestroyDfpSlot=ProperMedia.ad_project.destroyDfpSlot;ProperMedia.report_ad=function(f,e){var b="";function t(e){if(void 0===e||void 0===e.data)return!1;var t=e.data.toString(),i=[];""!=t&&0<=t.indexOf("|")&&(t=(i=t.split("|"))[0]),"SubmitAdReport"==t?o(i[1],i[2]):"CloseAdReport"==t&&s()}function i(e){var t=(void 0!==e?e:event).target,i=0;if(void 0!==t&&(document.documentElement.classList?t.classList.contains("report-ad")&&(i=1):void 0!==t.className&&-1<t.className.indexOf("report-ad")&&(i=1)),1==i)if(e.preventDefault(),b=t.getAttribute("data-aid"),f("#"+b).addClass("active-highlight"),void 0===f("#ProperMediaAdModal").obj){var s=ProperMedia.ad_project.getReportAdInfo({site_name:1,split_version:1}),r=void 0!==s.site_name?s.site_name:"",o=void 0!==s.split_version?s.split_version:"",n=document.createElement("iframe");n.src="https://proper.io/adproject/report.php?pub="+r+"&split_version="+o,n.id="ProperMediaAdModal",n.style.width="100%",n.style.height="100%",n.style.position="fixed",n.style.display="block",n.style.zIndex=2147483647,n.style.top=0,n.style.left=0,n.style.right=0,n.style.bottom=0,n.frameBorder=0,n.attachEvent?n.attachEvent("onload",a):n.onload=a,window.onresize=a,document.body.appendChild(n)}else document.getElementById("ProperMediaAdModal").contentWindow.postMessage("showForm","*"),f("#ProperMediaAdModal").show()}function a(){var e=window.innerHeight;e=e<0?0:e,document.getElementById("ProperMediaAdModal").style.height=e+"px"}function s(){f("#ProperMediaAdModal").hide(),f("#"+b).removeClass("active-highlight")}function r(e,t){t=t.replace("[proper-separator]","|");var i=f(window).width()+"x"+f(window).height(),s="";try{s=f("#"+b+" div iframe").contents().find("html").html()}catch(e){s=f("#"+b).html()}var r=ProperMedia.ad_project.getReportAdInfo({slot_id:b,site_name:1}),o=void 0!==r.site_name?r.site_name:"";void 0!==r.autoplay_html&&""!=r.autoplay_html&&(s+=r.autoplay_html),unit_name=b.replace("proper-ad-","");var n=void 0!==r.log_lines?r.log_lines:{proper:""},a={},d="dfp";if(void 0!==r.saved_data)a=r.saved_data,d="bidder";var l=void 0!==a.bidder?a.bidder:"",p=void 0!==a.size?a.size:"",c=void 0!==a.request_url?a.request_url:"",u=void 0!==a.request_response?a.request_response:"",h=void 0!==a.adcode?a.adcode:"",_=void 0!==r.ad_info?r.ad_info:{},g=void 0!==_.line_item_id?_.line_item_id:"",m=void 0!==_.creative_id?_.creative_id:"";return"dfp"==d&&void 0!==_.size&&(p=_.size),{ajax:1,website:o,ad_id:unit_name,source:d,bidder:l,request_url:c,request_response:u,adcode:h,size:p,line_item_id:g,creative_id:m,comment:t,issue:e,resolution:i,os:window.device.os,os_group:window.device.os_group,browser:window.device.browser,browser_group:window.device.browser_group,log:n.proper,div_html:s}}function o(e,t){var i=r(e,t);f.ajax({url:"https://proper.io/ajax/adreport.php",method:"POST",data:JSON.stringify(i),success:function(e){console.log("ad report sent!"),document.getElementById("ProperMediaAdModal").contentWindow.postMessage("success","*")},error:function(e){console.log("ajax error")}})}if(window.addEventListener?addEventListener("message",TraceKit.wrap(t),!1):attachEvent("onmessage",TraceKit.wrap(t)),document.addEventListener?document.addEventListener("click",TraceKit.wrap(i)):document.attachEvent("onclick",TraceKit.wrap(i)),window.location.search.includes("proper_log_redirects=1")){var n,d,l=!1;function p(){if(!l&&!document.activeElement.href&&"IFRAME"!=document.activeElement.nodeName&&"BUTTON"!=document.activeElement.nodeName){l=!0;var e=b;ProperMedia.ad_project.getAdSlots().forEach(function(e){b=e;var t=r("redirect","Automatically generated");if("function"==typeof navigator.sendBeacon)console.log("Proper Redirect Sent (beacon)"),navigator.sendBeacon("https://proper.io/ajax/adreport.php",JSON.stringify(t));else{console.log("Proper Redirect Sent (xhr)");var i=new XMLHttpRequest;i.open("POST","https://proper.io/ajax/adreport.php",!1),i.send(JSON.stringify(t))}}),b=e}}window.onbeforeunload=function(e){p()},window.onunload=function(e){p()},window.addEventListener("pagebeforehide",n=TraceKit.wrap(function(e){p()}),!1),window.addEventListener("pagehide",d=TraceKit.wrap(function(e){p()}),!1),e.setTimeout(function(){window.onbeforeunload=null,window.onunload=null,window.removeEventListener("pagebeforehide",n,!1),window.removeEventListener("pagehide",d,!1)},8e3)}return{submit:o,close:s}}(ProperMedia.utils.jquery,ProperMedia.utils.properSetTimeout);var special_ops=special_ops||{};ProperMedia.ad_project.set_options({ad_retry_max:6,autoplay_block:0,backup_floor:.51,backup_stickies:0,blocker_sample_data:0,blocker_sample_rate:0,capture_blocked_html:0,confiant:0,desktop_adx_bid_mod:1,desktop_floor:.1,disable_sticky_on_close:0,domain:"gamedev.net",domain_protection:0,dynamic_bid_mod:{enabled:"false",range:[.15,10],m:"",b:""},enable_sticky_freq_cap:0,exclude_dfp_refresh:0,exclude_google_refresh:0,facebook_detection:0,full_refresh:1,gdpr_consent:1,inview_refresh_interval:5e3,isolated:0,isolated_urls:special_ops.isolated_urls,member:special_ops.member,member_sticky_desktop:"no",member_sticky_mobile:"no",mobile_ad_retry_max:6,mobile_adx_bid_mod:1,mobile_floor:.1,mobile_resolution:768,native_blocker:0,native_blocker_desktop:0,page_type:special_ops.page_type,possible_ads:special_ops.possible_ads,post_id:0,refresh:1,refresh_inactive_tab:0,refresh_interval:6e4,refresh_max:5,refresh_points:[768],remove_sticky_close:"no",report_ads:1,rtp_file_revision:"1.107.0",sandbox_iframe:1,sandbox_options:"allow-pointer-lock allow-popups allow-same-origin allow-scripts",secondary_auction:0,site_name:"gamedevnet",split_version:17380,sticky_brand:"yes",sticky_freq_cap:0,sticky_slot:8,sticky_slot_pos:"right",tags:special_ops.tags,viewable_ad_refresh:0,optional_ads:special_ops.optional_ads,ad_slot_options:special_ops.ad_slot_options,outstream_settings:{outstream:0,slot_name:"",exclude_dfp:1,sound_on_hover:0,expand_collapse:0,placement_selector:""},ad_pools:[],ast_settings:{appnexus:0},site_ids:{s2s:[],rubicon:302050},floors:{"728x90":"","300x250":"","320x50":"","336x280":"","300x600":""},sticky_floors:{"728x90":1,"320x100":.75,"320x50":.75,"1x1":1.5},schain:{ver:"1.0",complete:1,nodes:[{asi:"proper.io",sid:"02c11b45-1ac1-11ea-a488-69e3386c7506",hp:1}]},ad_slots:{display:{gamedevnet_feed_2:{1e3:["728x90","970x250","970x90"],768:["300x250","728x90"],0:["300x250","320x50","336x280"]},gamedevnet_feed_1:{1e3:["728x90","970x250","970x90"],768:["300x250","728x90"],0:["300x250","320x50","336x280"]},gamedevnet_leaderboard:{768:["728x90"],0:["300x250","320x50","336x280"]},gamedevnet_side_1:{768:["300x250","300x600","336x280"],0:[]},gamedevnet_side_2:{768:["300x250","300x600","336x280"],0:[]},gamedevnet_content_1:{768:["300x250"],0:["300x250","320x50","336x280"]},gamedevnet_content_2:{768:["300x250"],0:["300x250","320x50","336x280"]},gamedevnet_sticky_1:{768:["1x1","728x90"],0:["1x1","320x100","320x50"]}}},ad_pos:{gamedevnet_feed_2:"atf",gamedevnet_feed_1:"atf",gamedevnet_leaderboard:"atf",gamedevnet_side_1:"atf",gamedevnet_side_2:"btf",gamedevnet_content_1:"atf",gamedevnet_content_2:"btf",gamedevnet_sticky_1:"btf"},ad_ids:{"gamedevnet_content_1@300x250":{appnexus:"18016589",rubicon:"1517240",sovrn:"669830",sonobi:"050e4cf0262192c7d09d",emx:"91061",openx:"540940786",thirtythreeacross:"dQUiTKicKr6OzzaKlId8sQ",a9:"1",aol:"5182068",pubmatic:"1",criteo:"1334735"},"gamedevnet_content_2@300x250":{appnexus:"18016591",rubicon:"1517240",sovrn:"669831",sonobi:"a6df0e1642eafab81b97",emx:"91061",openx:"540940787",thirtythreeacross:"dWgnh-icKr6OzzaKlId8sQ",a9:"1",aol:"5182085",pubmatic:"1",criteo:"1334735"},"gamedevnet_feed_1@300x250":{appnexus:"18183466",openx:"540945446",emx:"91061",rubicon:"1517240",a9:"1",aol:"5182062",pubmatic:"1",criteo:"1334735"},"gamedevnet_feed_1@728x90":{appnexus:"18183466",openx:"540945446",emx:"91061",rubicon:"1517240",a9:"1",aol:"5182076",pubmatic:"1",criteo:"1334741"},"gamedevnet_feed_1@970x250":{appnexus:"18183466",openx:"540945446",emx:"91061",rubicon:"1517240",a9:"1",aol:"5182078",pubmatic:"1",criteo:"1334743"},"gamedevnet_feed_2@300x250":{appnexus:"18183468",openx:"540945447",emx:"91061",rubicon:"1517240",a9:"1",aol:"5182064",pubmatic:"1",criteo:"1334735"},"gamedevnet_feed_2@728x90":{appnexus:"18183468",openx:"540945447",emx:"91061",rubicon:"1517240",a9:"1",aol:"5182084",pubmatic:"1",criteo:"1334741"},"gamedevnet_feed_2@970x250":{appnexus:"18183468",openx:"540945447",emx:"91061",rubicon:"1517240",a9:"1",aol:"5182070",pubmatic:"1",criteo:"1334743"},"gamedevnet_leaderboard@728x90":{appnexus:"18016593",rubicon:"1517240",sovrn:"669832",sonobi:"f1a766bf22c56679361f",emx:"91061",openx:"540940783",thirtythreeacross:"d01OZcicKr6OzzaKlId8sQ",a9:"1",aol:"5182082",pubmatic:"1",criteo:"1334741"},"gamedevnet_side_1@300x250":{appnexus:"18016595",rubicon:"1517240",sovrn:"669833",sonobi:"2877bcbfd310da576640",emx:"91061",openx:"540940784",thirtythreeacross:"d6edhaicKr6OzzaKlId8sQ",a9:"1",aol:"5182083",pubmatic:"1",criteo:"1334735"},"gamedevnet_side_1@300x600":{appnexus:"18016595",rubicon:"1517240",sovrn:"669834",sonobi:"7fb02905cf8a484f4b50",emx:"91061",openx:"540940784",thirtythreeacross:"d6edhaicKr6OzzaKlId8sQ",a9:"1",aol:"5182086",pubmatic:"1",criteo:"1334736"},"gamedevnet_side_2@300x250":{appnexus:"18016596",rubicon:"1517240",sovrn:"669835",sonobi:"71e330f159b1a2034e73",emx:"91061",openx:"540940785",thirtythreeacross:"d-8CAqicKr6OzzaKlId8sQ",a9:"1",aol:"5182065",pubmatic:"1",criteo:"1334735"},"gamedevnet_side_2@300x600":{appnexus:"18016596",rubicon:"1517240",sovrn:"669836",sonobi:"e4da04bec8278d3f10e3",emx:"91061",openx:"540940785",thirtythreeacross:"d-8CAqicKr6OzzaKlId8sQ",a9:"1",aol:"5182063",pubmatic:"1",criteo:"1334736"},"gamedevnet_sticky_1@728x90":{appnexus:"18016597",mantis:"1",rubicon:"1517240",sovrn:"669837",sonobi:"0600ae292d6f0ce76e7a",emx:"91061",openx:"540940788",thirtythreeacross:"aeJYc2icOr6OzzaKlId8sQ",a9:"1",aol:"5182079",pubmatic:"1",criteo:"1334741"}},mobile_ids:{"gamedevnet_content_1@300x250":{appnexus:"18016590",rubicon:"1517240",sovrn:"669838",sonobi:"8cdce697e6c62be30ffa",emx:"91061",openx:"540940789",thirtythreeacross:"ajjgp8icOr6OzzaKlId8sQ",a9:"1",aol:"5182066",pubmatic:"1",criteo:"1334735"},"gamedevnet_content_1@320x50":{appnexus:"18016590",rubicon:"1517240",sovrn:"669839",sonobi:"b547a0f7ac2f26bfc67d",emx:"91061",openx:"540940789",thirtythreeacross:"ajjgp8icOr6OzzaKlId8sQ",a9:"1",aol:"5182069",pubmatic:"1",criteo:"1334737"},"gamedevnet_content_2@300x250":{appnexus:"18016592",rubicon:"1517240",sovrn:"669840",sonobi:"4d7f334704ce126032ed",emx:"91061",openx:"540940790",thirtythreeacross:"aqmIpsicOr6OzzaKlId8sQ",a9:"1",aol:"5182074",pubmatic:"1",criteo:"1334735"},"gamedevnet_content_2@320x50":{appnexus:"18016592",rubicon:"1517240",sovrn:"669841",sonobi:"93dec52ead660c6b9ee9",emx:"91061",openx:"540940790",thirtythreeacross:"aqmIpsicOr6OzzaKlId8sQ",a9:"1",aol:"5182073",pubmatic:"1",criteo:"1334737"},"gamedevnet_feed_1@300x250":{appnexus:"18183467",openx:"540945444",emx:"91061",rubicon:"1517240",a9:"1",aol:"5182077",pubmatic:"1",criteo:"1334735"},"gamedevnet_feed_1@320x50":{appnexus:"18183467",emx:"91061",rubicon:"1517240",openx:"540945444",a9:"1",aol:"5182067",pubmatic:"1",criteo:"1334737"},"gamedevnet_feed_2@300x250":{appnexus:"18183469",openx:"540945445",emx:"91061",rubicon:"1517240",a9:"1",aol:"5182081",pubmatic:"1",criteo:"1334735"},"gamedevnet_feed_2@320x50":{appnexus:"18183469",emx:"91061",rubicon:"1517240",openx:"540945445",a9:"1",aol:"5182075",pubmatic:"1",criteo:"1334737"},"gamedevnet_leaderboard@300x250":{appnexus:"18016594",rubicon:"1517240",sovrn:"669842",sonobi:"91384278dd947889de62",emx:"91061",openx:"540940792",thirtythreeacross:"av2DsiicOr6OzzaKlId8sQ",a9:"1",aol:"5182071",pubmatic:"1",criteo:"1334735"},"gamedevnet_leaderboard@320x50":{appnexus:"18016594",rubicon:"1517240",sovrn:"669843",sonobi:"25112deeafc7aff7de6f",emx:"91061",openx:"540940792",thirtythreeacross:"av2DsiicOr6OzzaKlId8sQ",a9:"1",aol:"5182072",pubmatic:"1",criteo:"1334737"},"gamedevnet_sticky_1@320x50":{appnexus:"18016598",mantis:"1",rubicon:"1517240",sovrn:"669844",sonobi:"f7cde74031318db06d78",emx:"91061",openx:"540940791",thirtythreeacross:"aEjr3iicOr6OzzaKlId8sQ",a9:"1",aol:"5182080",pubmatic:"1",criteo:"1334737"}}}),ProperMedia.ad_project.send_bidders([{thirtythreeacross:1,a9:1,appnexus:1,criteo:1,emx:1,mantis:1,aol:1,openx:1,pubmatic:1,rubicon:1,sonobi:1,sovrn:1}])}catch(e){console.error(e),"undefined"!=typeof TraceKit&&TraceKit.report(e)}