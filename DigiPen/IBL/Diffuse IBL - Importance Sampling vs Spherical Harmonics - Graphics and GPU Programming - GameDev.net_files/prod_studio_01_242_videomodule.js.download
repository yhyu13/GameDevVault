self.studioLoader.context.evalInContext("window.STUDIO_SDK_START=+new Date();var On=function(a){return(a=a.exec(xb))?a[1]:\"\"};(function(){if(Of)return On(/Firefox\\/([0-9.]+)/);if(Qc||Rc||Pc)return $c;if(Sf)return Lc()?On(/CriOS\\/([0-9.]+)/):On(/Chrome\\/([0-9.]+)/);if(Tf&&!Lc())return On(/Version\\/([0-9.]+)/);if(Pf||Qf){var a=/Version\\/(\\S+).*Mobile\\/(\\S+)/.exec(xb);if(a)return a[1]+\".\"+a[2]}else if(Rf)return(a=On(/Android\\s+([0-9.]+)/))?a:On(/Version\\/([0-9.]+)/);return\"\"})();var Pn={},Qn=/OS (\\S+) like/,Rn=/Android (\\S+);/,Sn=function(a,b){null==Pn[b]&&((a=a.exec(xb))?(a=a[1].replace(/_/g,\".\"),Pn[b]=0<=wb(a,b)):Pn[b]=!1);return Pn[b]};var Tn=function(){K.call(this);this.h=this.j=this.f=!1;this.b=0;this.l=[];this.A=!1};y(Tn,K);var Un=function(a,b){null==b||a.f||(a.a=b,a.C=!Pf&&!Qf,a.D=Pf||Qf,a.C?a.a.addEventListener(\"click\",w(a.o,a),!1):a.D&&(a.a.addEventListener(\"touchstart\",w(a.T,a),!1),a.a.addEventListener(\"touchmove\",w(a.I,a),!1),a.a.addEventListener(\"touchend\",w(a.F,a),!1)),a.f=!0)},Vn=function(a){null!=a.a&&a.f&&(a.f=!1,a.C?a.a.removeEventListener(\"click\",w(a.o,a),!1):a.D&&(a.a.removeEventListener(\"touchstart\",w(a.T,a),!1),a.a.removeEventListener(\"touchmove\",w(a.I,a),!1),a.a.removeEventListener(\"touchend\",w(a.F,a),!1)))};Tn.prototype.T=function(a){this.j=!0;this.b=a.touches.length;this.A=Wn(this,a.touches)||1!=a.touches.length;a=a.touches;this.l=[];for(var b=0;b<a.length;b++)this.l.push(a[b].identifier)};Tn.prototype.I=function(a){this.h=!0;this.b=a.touches.length};Tn.prototype.F=function(a){this.j&&1==this.b&&!this.h&&!this.A&&Wn(this,a.changedTouches)&&this.dispatchEvent(new Ge(\"click\"));this.b=a.touches.length;0==this.b&&(this.h=this.j=!1)};Tn.prototype.o=function(){this.dispatchEvent(new Ge(\"click\"))};var Wn=function(a,b){for(var c=0;c<b.length;c++)if(a.l.includes(b[c].identifier))return!0;return!1};var Xn=function(a){Ge.call(this,a)};ja(Xn,Ge);var Yn=function(){K.call(this)};y(Yn,K);var Zn=function(){K.call(this);this.h=new G;this.l=new Tn;this.o=\"none\"};ja(Zn,K);Zn.prototype.s=function(){$n(this);K.prototype.s.call(this)};var $n=function(a){null!=a.b&&a.b.dispose();null!=a.j&&a.j.dispose();null!=a.a&&ao(a.a);Ce(a.h);Vn(a.l)},Z=function(a,b,c){c&&null!=a.h.get(b)||(a.h.set(b,!0),a.dispatchEvent(new Xn(b)))},bo=function(a,b){null!=a.h.get(b)&&De(a.h,b)};g=Zn.prototype;g.Wd=function(){a:{var a=this.a;if(a.a.seeking&&!a.j)a.j=!0,a.l=co(a);else{if(!a.a.seeking&&a.j){a.j=!1;var b=0!=a.a.currentTime&&a.a.currentTime<a.l;a.l=-1;break a}if(!a.a.seeking&&0!=a.a.currentTime&&co(a)>a.a.currentTime){b=.5<co(a)-a.a.currentTime;break a}}b=!1}a=eo(this.a);if(b&&(Z(this,\"rewind\",!1),-1!=a)){co(this.a)>=.75*a||bo(this,\"thirdquartile\");co(this.a)>=.5*a||bo(this,\"midpoint\");co(this.a)>=.25*a||bo(this,\"firstquartile\");a:{b=this.a;for(var c=b.f.M(),d=c.length-1;0<=d;d--)if(.5>c[d]){c=b.f;c=0==c.Y()?null:c.get(c.Y()-1);d=b.f;d.a.length=0;d.b=0;.5<=c&&b.f.add(c);b=!0;break a}b=!1}b&&Z(this,\"replay\",!1)}-1!=a&&(co(this.a)>=.25*a&&Z(this,\"firstquartile\",!0),co(this.a)>=.5*a&&Z(this,\"midpoint\",!0),co(this.a)>=.75*a&&Z(this,\"thirdquartile\",!0))};g.Vd=function(){Z(this,\"creativeview\",!0);null!=this.A?(M(this.b,this.l,\"click\",this.Rd,!1),Un(this.l,this.A)):M(this.b,this.a,\"click\",this.xe,void 0);Z(this,\"start\",!0);(this.a.a.muted||0==this.a.a.volume)&&Z(this,\"mute\",!1)};g.Xd=function(){var a=this.a.a.muted,b=this.a.a.volume,c=this.f;c.b&&!a||!a&&0==c.volume&&0<b?Z(this,\"unmute\",!1):this.f.muted(a,b)&&Z(this,\"mute\",!1);this.f.b=a;this.f.volume=b};g.Ud=function(){if(this.a.a.ended)Z(this,\"complete\",!0);else{var a;if(a=\"pausedAtBeginning\"==this.o)a=this.a,a=!isNaN(a.a.duration)&&0<a.a.duration&&0==a.a.currentTime;a?Z(this,\"stop\",!0):fo(this.a)&&!this.a.a.seeking&&(this.f.f=!0,Z(this,\"pause\",!1))}};g.we=function(){this.f.f&&(this.f.f=!1,Z(this,\"resume\",!1))};g.Sd=function(){var a=this.a;if(!Rf||Rf&&Sn(Rn,2.3))a=!0;else{var b=a.a.duration-co(a);a=0==a.a.currentTime&&1.5>=b}a?\"pausedAtEnd\"==this.o&&fo(this.a)?Z(this,\"stop\",!0):Z(this,\"complete\",!0):this.a.a.pause()};g.Rd=function(){Z(this,\"click\",!1)};g.Td=function(){Z(this,\"error\",!1)};g.xe=function(){Z(this,\"click\",!1)};g.zc=function(){this.f.a=!0;Z(this,\"fullscreen\",!1)};g.yc=function(){this.f.a=!1};g.ve=function(){var a=go(this.a),b=ho(this.a),c=this.f;if(a.width!=c.width||a.height!=c.height)!this.f.a&&b?this.zc():this.f.a&&!b&&this.yc(),this.f.width=a.width,this.f.height=a.height};var io=function(a){this.width=go(a).width;this.height=go(a).height;this.f=!1;this.b=a.a.muted;this.a=ho(a);this.volume=a.a.volume};io.prototype.muted=function(a,b){return!this.b&&a||0<this.volume&&0==b};/*Copyright The Closure Library Authors.SPDX-License-Identifier: Apache-2.0*/var jo=function(){this.b=0;this.a=[]};g=jo.prototype;g.add=function(a){var b=this.a[this.b];this.a[this.b]=a;this.b=(this.b+1)%4;return b};g.get=function(a){a=ko(this,a);return this.a[a]};g.set=function(a,b){a=ko(this,a);this.a[a]=b};g.Y=function(){return this.a.length};g.M=function(){var a=this.Y(),b=this.Y(),c=[];for(a=this.Y()-a;a<b;a++)c.push(this.get(a));return c};g.O=function(){for(var a=[],b=this.Y(),c=0;c<b;c++)a[c]=c;return a};g.R=function(a){return a<this.Y()};g.Oa=function(a){for(var b=this.Y(),c=0;c<b;c++)if(this.get(c)==a)return!0;return!1};var ko=function(a,b){if(b>=a.a.length)throw Error(\"Out of bounds exception\");return 4>a.a.length?b:(a.b+Number(b))%4};var lo=function(a){K.call(this);this.a=a;this.f=new jo;this.l=-1;this.o=this.j=!1};y(lo,Yn);var eo=function(a){return isNaN(a.a.duration)?-1:a.a.duration},fo=function(a){return a.a.paused?Pf||Qf||Sf?a.a.currentTime<a.a.duration:!0:!1},ho=function(a){return Pf?a.a.webkitSupportsFullscreen&&a.a.webkitDisplayingFullscreen:a.a.offsetWidth>=document.body.offsetWidth&&a.a.offsetHeight>=document.body.offsetHeight},co=function(a){for(a=a.f.M();a.length;){var b=a.pop();if(0<b)return b}return-1},go=function(a){return new dd(a.a.offsetWidth,a.a.offsetHeight)};lo.prototype.s=function(){lo.v.s.call(this);ao(this)};var ao=function(a){null!=a.h&&(Vn(a.h),a.h=null);null!=a.b&&(a.b.dispose(),a.b=null);a.l=-1;a.o=!1;a.j=!1;a=a.f;a.a.length=0;a.b=0},mo=function(a,b){a.o||(a.o=!0,a.dispatchEvent(\"start\"),!Rf&&(!Pf||(Pf||Qf)&&Sn(Qn,4))||a.Ac(b))};g=lo.prototype;g.ue=function(){Tf&&(this.a.currentTime=.001)};g.Gc=function(a){this.dispatchEvent(\"play\");Pf||Qf||mo(this,a)};g.ce=function(a){this.o||((Pf||Qf)&&0<this.a.currentTime&&mo(this,a),Tc&&this.Gc(a));this.f.add(this.a.currentTime);this.dispatchEvent(\"timeUpdate\")};g.de=function(){this.dispatchEvent(\"volumeChange\")};g.be=function(){this.dispatchEvent(\"pause\")};g.Zd=function(){this.dispatchEvent(\"end\")};g.Ac=function(){this.dispatchEvent(\"beginFullscreen\")};g.ae=function(){this.dispatchEvent(\"endFullscreen\")};g.$d=function(){this.dispatchEvent(\"error\")};g.Yd=function(){this.dispatchEvent(\"click\")};var no={},oo=function(a){this.l=a;this.w=this.g=!0;this.f=new Zn;this.f.o=\"pausedAtBeginning\";this.h=this.a=this.b=null;Dj(w(this.fa,this))},po=new G;oo.prototype.A=!1;oo.prototype.o=!1;oo.prototype.j=!0;var qo=function(a){var b=po.get(a);null==b&&(b=new oo(a),po.set(a,b));return b};oo.prototype.fa=function(a){this.a=a;ro(this)};var ro=function(a){so(a,!1);so(a,!0);if(null!=a.a&&null!=a.h){var b=a.f,c=a.b;$n(b);b.a=c;c=b.a;ao(c);c.b=new L(c);M(c.b,c.a,\"canplay\",c.ue,void 0);M(c.b,c.a,\"ended\",c.Zd,void 0);M(c.b,c.a,\"webkitbeginfullscreen\",c.Ac,void 0);M(c.b,c.a,\"webkitendfullscreen\",c.ae,void 0);M(c.b,c.a,\"pause\",c.be,void 0);M(c.b,c.a,\"playing\",c.Gc,void 0);M(c.b,c.a,\"timeupdate\",c.ce,void 0);M(c.b,c.a,\"volumechange\",c.de,void 0);M(c.b,c.a,\"error\",c.$d,void 0);c.h=new Tn;M(c.b,c.h,\"click\",c.Yd,!1);Un(c.h,c.a);b.f=new io(b.a);b.A=null;b.b=new L(b);M(b.b,b.a,\"timeUpdate\",b.Wd,!1);M(b.b,b.a,\"volumeChange\",b.Xd,!1);M(b.b,b.a,\"pause\",b.Ud,!1);M(b.b,b.a,\"play\",b.we,!1);M(b.b,b.a,\"end\",b.Sd,!1);M(b.b,b.a,\"beginFullscreen\",b.zc,!1);M(b.b,b.a,\"endFullscreen\",b.yc,!1);M(b.b,b.a,\"start\",b.Vd,!1);M(b.b,b.a,\"error\",b.Td,!1);b.j=new rf(1E3);M(b.b,b.j,\"tick\",b.ve,!1,b);b.j.start();a.b.Ka(\"timeUpdate\",a.$c,!1,a);a.h.paused?a.f.Ka(\"start\",a.mb,!1,a):a.mb()}},so=function(a,b){to(a,b,\"resume\",a.mb);to(a,b,\"replay\",a.Ee);to(a,b,\"pause\",a.ze);to(a,b,\"stop\",a.Se);to(a,b,\"mute\",a.re);to(a,b,\"unmute\",a.cf);to(a,b,\"firstquartile\",a.vd);to(a,b,\"midpoint\",a.qe);to(a,b,\"thirdquartile\",a.Ze);to(a,b,\"complete\",a.ld)},to=function(a,b,c,d){(b?a.f.Ka:a.f.Ra).call(a.f,c,d,!1,a)};g=oo.prototype;g.mb=function(){this.f.Ra(\"start\",this.mb,!1,this);this.a.dispatchEvent(new N(\"videoStart\"));uo(this,\"play\",!this.j);vo(this,\"Start\");this.j=!1;null!=this.a&&this.w&&!this.A&&(this.a.o(),this.A=!0)};g.Ee=function(){uo(this,\"replay\",!0);vo(this,\"Stop\");this.g=!1};g.ze=function(){uo(this,\"pause\",!0);vo(this,\"Stop\")};g.Se=function(){uo(this,\"stop\",!0);vo(this,\"Stop\");this.g=!1};g.re=function(){uo(this,\"mute\",!this.j)};g.cf=function(){uo(this,\"unmute\",!this.j)};g.vd=function(){uo(this,\"firstquartile\")};g.qe=function(){uo(this,\"midpoint\")};g.Ze=function(){uo(this,\"thirdquartile\")};g.ld=function(){uo(this,\"complete\");vo(this,\"Stop\");this.g=!1;null!=this.a&&this.w&&!this.o&&(this.a.o(),this.o=!0)};g.$c=function(a){O(this.a.G,\"updateVideoProgress\",[\"EVENT_VIDEO_\"+a.type.toUpperCase(),eo(this.b),this.b.a.currentTime])};var uo=function(a,b,c){null!=a.a&&a.w&&(c&&ji(a.a.b,\"Count\",a.l,\"EVENT_VIDEO_INTERACTION\"),ji(a.a.b,\"Count\",a.l,\"EVENT_VIDEO_\"+b.toUpperCase()))},vo=function(a,b){null!=a.a&&a.w&&a.g&&ji(a.a.b,b,a.l,\"EVENT_VIDEO_VIEW_TIMER\")};var wo=function(a){H.call(this);this.f=a;this.a={};this.b=null;Dj(w(this.g,this))};ja(wo,H);wo.prototype.g=function(a){this.b=a;this.b.fc(this.f)};wo.prototype.s=function(){for(var a in this.a)this.f[a]=this.a[a];H.prototype.s.call(this)};n(\"studio.video.Reporter\",wo,void 0);var yo=function(a,b,c){var d=qo(a);\"boolean\"===typeof c&&(d.j=c);$n(d.f);d.g=!0;d.w=!0;d.h=b;d.b=new lo(d.h);ro(d);xo.R(a)||xo.set(a,new wo(b))};wo.attach=yo;var zo=function(a){a=qo(a);null==a.b||fo(a.b)||a.b.a.ended||(uo(a,\"stop\",!1),vo(a,\"Stop\"),a.g=!1);so(a,!1);a.w=!1;a.h=null;$n(a.f);a.b&&(a.b.Ra(\"timeUpdate\",a.$c,!1,a),a.b.dispose())};wo.detach=zo;var xo=new G;var Ao=function(){};var Bo,Co=function(){};y(Co,Ao);var Do=function(a){a:{if(!a.a&&\"undefined\"==typeof XMLHttpRequest&&\"undefined\"!=typeof ActiveXObject){for(var b=[\"MSXML2.XMLHTTP.6.0\",\"MSXML2.XMLHTTP.3.0\",\"MSXML2.XMLHTTP\",\"Microsoft.XMLHTTP\"],c=0;c<b.length;c++){var d=b[c];try{new ActiveXObject(d);var e=a.a=d;break a}catch(f){}}throw Error(\"Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed\");}e=a.a}return e?new ActiveXObject(e):new XMLHttpRequest};Bo=new Co;var Fo=function(a,b){b=b?Ib(b):{};b.responseType=\"blob\";return Eo(\"GET\",a,b).then(function(c){return c.response})},Eo=function(a,b,c){var d=c||{},e=d.lf?Do(d.lf):Do(Bo);return Yd(new Od(function(f,k){var l;try{e.open(a,b,!0)}catch(q){k(new Go(\"Error opening XHR: \"+q.message,b,e))}e.onreadystatechange=function(){if(4==e.readyState){h.clearTimeout(l);a:switch(e.status){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var q=!0;break a;default:q=!1}!q&&(q=0===e.status)&&(q=b.match(ng)[1]||null,!q&&h.self&&h.self.location&&(q=h.self.location.protocol,q=q.substr(0,q.length-1)),q=q?q.toLowerCase():\"\",q=!(\"http\"==q||\"https\"==q||\"\"==q));q?f(e):k(new Ho(e.status,b,e))}};e.onerror=function(){k(new Go(\"Network error\",b,e))};if(d.headers){for(var m in d.headers){var p=d.headers[m];null!=p&&e.setRequestHeader(m,p)}p=d.headers[\"Content-Type\"]}m=h.FormData&&!1;\"POST\"!=a||void 0!==p||m||e.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded;charset=utf-8\");d.withCredentials&&(e.withCredentials=d.withCredentials);d.responseType&&(e.responseType=d.responseType);d.mimeType&&e.overrideMimeType(d.mimeType);0<d.af&&(l=h.setTimeout(function(){e.onreadystatechange=r;e.abort();k(new Io(b,e))},d.af));try{e.send(null)}catch(q){e.onreadystatechange=r,h.clearTimeout(l),k(new Go(\"Error sending XHR: \"+q.message,b,e))}}),function(f){f instanceof Zd&&e.abort();throw f;})},Go=function(a,b){Ra.call(this,a+\", url=\"+b);this.url=b};y(Go,Ra);Go.prototype.name=\"XhrError\";var Ho=function(a,b,c){Go.call(this,\"Request Failed, status=\"+a,b,c);this.status=a};y(Ho,Go);Ho.prototype.name=\"XhrHttpError\";var Io=function(a,b){Go.call(this,\"Request timed out\",a,b)};y(Io,Go);Io.prototype.name=\"XhrTimeoutError\";n(\"studio.sdk.video.VideoResource.getBlobForUrl\",function(a){return Ej().then(function(b){b=b.Qa(a);return\"file:\"==window.location.protocol?Td(Error(\"You cannot fetch the blob of a video when running locally. Run a local web server to test this creative (For example, python -m SimpleHTTPServer).\")):ub(b,\"/itag/\")?Jo(Ko(b)).then(Fo):Fo(b)})},void 0);var Jo=function(a){return Eo(\"HEAD\",a).then(function(b){return Lo(b)?Eo(\"GET\",a).then(function(c){return Jo(c.response)}):a})},Ko=function(a){return ub(a,\"/itag/\")&&!ub(a,\"/alr/yes/\")?(a=a.split(\"/\"),a.splice(a.length-2,0,\"alr\",\"yes\"),a.join(\"/\")):a},Lo=function(a){a=a.getResponseHeader(\"Content-Type\");return ub(a,\"text/plain\")};");
