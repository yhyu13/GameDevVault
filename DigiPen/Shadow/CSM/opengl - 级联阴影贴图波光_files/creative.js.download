/* 2.2.1 | e15d8ff | Tue, 28 Jan 2020 16:52:20 GMT */
!function(){"use strict";var win=window,Rosetta=win.cnvrVpaidPlayer.Rosetta,creatives=Rosetta.creatives,require=Rosetta.requirejs;function Creative(dmo){var R,Platform,Settings,Analytics,AnalyticsContent,TweenMax,TweenLite,EventForwarding,parentDiv,stage,animate,timeoutTimer,startTimer,registeredCallbacks=[],environStatuses=[],environTotals=3,isEnvironReady=!1,isCreativeReady=!1,ROSETTA_VERSION="4.50",context=String(ROSETTA_VERSION+"_"+dmo.embedId).split("_").join("."),evergreenImg="evergreen.jpg",CENTER_STAGE=!1;function fallback(){}function log(msg){if(window&&window.console){try{window.console.debug&&"object"==typeof msg||window.console.log}catch(e){}}}function checkForCallback(evt,params){if(evt)for(var arr=registeredCallbacks,i=0;i<arr.length;i++)if(arr[i].evt===evt&&arr[i].callback)try{arr[i].callback.call(arr[i].scope,params)}catch(e){log("Callback failed")}}function environReady(isReady){return!1===isEnvironReady&&(isEnvironReady=isReady,!0===isReady&&logEnvironStatus("parentEnvironment",isEnvironReady)),reveal}function logEnvironStatus(src,val){environStatuses.push({src:src,val:val}),environStatuses.length!==environTotals&&function(src){for(var i=0;i<environStatuses.length;i++)if(environStatuses[i].src===src)return environStatuses[i].val;return!1}("parentEnvironment")&&!timeoutTimer&&startTimer&&startTimer(),environStatuses.length===environTotals&&function(){timeoutTimer&&clearTimeout(timeoutTimer);checkForCallback("creative_shown"),Analytics&&Analytics.fire({event:AnalyticsContent.CREATIVE_SHOWN,instance:reveal});animate&&animate()}()}var reveal={init:function(wrapperID){var isSecure=dmo.externalURL.indexOf("https:")>-1,config={context:context,waitSeconds:5,paths:{},bundles:{Rosetta:["core.pack","ad.pack","video.pack","cnvr.advantage.pack","xmlpush.pack","cnvr.usweb.pack"]}};config.bundles.Rosetta=function(bundles){if('function'!=typeof Object.create)try{dmo&&dmo.logEvent&&"function"==typeof dmo.logEvent&&dmo.logEvent.call(dmo,210,'Object.create')}catch(e){}return bundles}(config.bundles.Rosetta),dmo.atomSuffix=dmo.atomSuffix||"",config.paths.Rosetta=dmo.externalURL+"/atom/"+ROSETTA_VERSION+"/3.0.0/?scripts=wrapper_start,"+config.bundles.Rosetta.join(",")+",wrapper_end"+dmo.atomSuffix;var req=require.config(config);return req(['require'].concat(config.bundles.Rosetta),function(){var pxDensity,Core=req("core/Core");if(Platform=req("platform/Platform"),Settings=req("display/settings/GlobalSettings"),Analytics=req("core/analytics/Analytics"),AnalyticsContent=req("core/analytics/AnalyticsContent"),EventForwarding=req("core/eventforwarding/EventForwarding"),R=new Core,"function"==typeof dmo.rosettaLoaded&&dmo.rosettaLoaded(req,R),wrapperID&&(Settings.overwrite({prefix:wrapperID+"_"}),parentDiv=document.getElementById(wrapperID)),parentDiv=parentDiv||dmo.slot||document.body,Platform.overwrite({isSecure:isSecure,rosettaVersion:ROSETTA_VERSION,placementWidth:Number(dmo.mediaWidth)||480,placementHeight:Number(dmo.mediaHeight)||360,clientID:dmo.companyId||"1001"}),R.setFallback(fallback),!0===R.isCompatible){if(R.parseParameters(dmo.flashVars,'flashvars'),Platform.overwrite({clientID:R.create("var").set({name:"company_id",dataType:"String",defaultValue:Platform.fetch().clientID}).render().value(),cacheBuster:R.create("var").set({name:"bypass_cache",dataType:"Boolean",defaultValue:!1,exposed:!1}).render().value(),subdirectory:R.create("var").set({name:"subdirectory",dataType:"String",defaultValue:"vpaid"}).render().value(),FOFVersion:R.create("var").set({name:"fof_version",dataType:"String",defaultValue:"2.0.1",exposed:!1}).render().value(),isSecure:R.create("var").set({name:"dtm_secure",dataType:"Boolean",defaultValue:Platform.fetch().isSecure,exposed:!1}).render().value(),analytics:dmo.logEvent,analyticsScope:dmo}),!1!==R.create("var").set({name:"disable_retina",dataType:"Boolean",defaultValue:!1,exposed:!1}).render().value()||!0!==R.environment.isRetina&&!R.create("var").set({name:"force_retina",dataType:"Boolean",defaultValue:!1,exposed:!1}).render().value()||Settings.overwrite({pixelDensity:2}),pxDensity=R.create("var").set({name:"fof_pixel_density",dataType:"Number",exposed:!1,defaultValue:Settings.fetch().pixelDensity}).render().value(),1!==(pxDensity=Math.round(pxDensity))&&2!==pxDensity&&(pxDensity=Settings.fetch().pixelDensity),pxDensity,startTimer=function(){var timeout=R.create("var").set({name:"default_timeout",dataType:"Number",defaultValue:8,exposed:!1}).render().value();timeoutTimer=setTimeout(function(){var timeoutInstance={event:AnalyticsContent.FALL_BACK,failReason:{type:AnalyticsContent.TIMED_OUT,details:5}};R.fallback(timeoutInstance)},1e3*timeout)},CENTER_STAGE){Analytics.fire({event:AnalyticsContent.INIT,instance:reveal,details:"vpaid"});var pds=parentDiv.style;pds.marginTop=-.5*Number(Platform.fetch().placementHeight)+"px",pds.marginLeft=-.5*Number(Platform.fetch().placementWidth)+"px",pds.top="50%",pds.left="50%",pds.position="absolute"}evergreenImg=R.create("var").set({name:"evergreen_img",dataType:"String",defaultValue:evergreenImg}).render().value(),function(){var defined=require.s.contexts[context].defined,registry=require.s.contexts[context].registry;function enableModule(defined,registry,name){if(registry[name]&&!defined[name]&&registry[name].enable(),defined[name])return defined[name]}(TweenMax=enableModule(defined,registry,"TweenMax"))&&(TweenMax.selector=R.selector),(TweenLite=enableModule(defined,registry,"TweenLite"))&&(Settings.overwrite({GSAPSelector:TweenLite.selector}),TweenLite.selector=R.selector),enableModule(defined,registry,"TimelineLite"),enableModule(defined,registry,"TimelineMax"),enableModule(defined,registry,"Hammer")}(),function(){animate=function(){},logEnvironStatus("createElements","start");var width=R.create("var").set({name:"width",dataType:"Number",defaultValue:Platform.fetch().placementWidth,exposed:!1}).render().value(),height=R.create("var").set({name:"height",dataType:"Number",defaultValue:Platform.fetch().placementHeight,exposed:!1}).render().value(),borderColor=R.create("var").set({name:"border_color",dataType:"String",defaultValue:"#CCCCCC"}).render().value();stage=R.create("div").set({id:"stage",width:width,height:height,backgroundColor:"#FFFFFF",className:"stage"}),parentDiv.appendChild(stage.element),Settings.overwrite({stage:stage}),(new EventForwarding).init({stage:stage});var borders={l:R.create("div").set({width:"1px",height:height,backgroundColor:borderColor,left:0,top:0,zIndex:501,pointerEvents:"none",parentNode:stage}).render(),r:R.create("div").set({width:"1px",height:height,backgroundColor:borderColor,right:0,top:0,zIndex:501,pointerEvents:"none",parentNode:stage}).render(),t:R.create("div").set({width:width,height:"1px",backgroundColor:borderColor,left:0,top:0,zIndex:501,pointerEvents:"none",parentNode:stage}).render(),b:R.create("div").set({width:width,height:"1px",backgroundColor:borderColor,left:0,bottom:0,zIndex:501,pointerEvents:"none",parentNode:stage}).render()};R.set([borders.l,borders.r,borders.t,borders.b],{parentNode:"",backgroundColor:"transparent"}),stage.set({backgroundColor:"transparent"}),stage.appendChild(dmo.videoSlot),dmo.videoSlot.width=width,dmo.videoSlot.height=height,dmo.videoSlot&&dmo.videoSlot.style&&(dmo.videoSlot.style.position="absolute");var vpaid=R.create("videoplayer",dmo.videoSlot).set({isVPAID:!0,parent:stage,width:width,height:height,position:'initial',zIndex:200,src:dmo.mediaFile,autoplay:!0,muteOnStart:!0}).render({success:function(){log("vpaid.render.success"),vpaid.video.on("click",function(e){vpaid.pause(),dmo.open(0)}),function(){if(!1===isCreativeReady){isCreativeReady=!0;var xmlPush=require.s.contexts[context].defined['platform/advantage/XMLPush'];xmlPush&&xmlPush.init(),checkForCallback("creative_ready"),logEnvironStatus("creative",isCreativeReady)}}()},fail:function(e){log("vpaid.render.fail"),R.fallback(e)}}),cuePointSwitch={"0%":"video_start","25%":"video_progress_25","50%":"video_progress_50","75%":"video_progress_75","100%":"video_end"};vpaid.on("cue_point",function(e){var val=cuePointSwitch[e.label];"100%"===e.label&&dmo.videoSlot&&dmo.videoSlot.style&&(dmo.videoSlot.style.position="static"),val&&checkForCallback(val)}),vpaid.on("resume",function(e){checkForCallback('video_resume')}),vpaid.on("pause",function(e){checkForCallback('video_pause')}),vpaid.on("error",function(e){var errorObj=vpaid.VideoJSPlayer.error(),errorMessage="";errorObj&&(errorMessage=errorObj.code+";"+errorObj.message),checkForCallback('video_error',errorMessage)}),vpaid.on("volumechange",function(e){var vol=e.volume;e.muted&&(vol=0),checkForCallback('video_volume_change',vol)})}()}else{logEnvironStatus("NOT_COMPATIBLE",!0),R.fallback({event:AnalyticsContent.FALL_BACK,failReason:{type:AnalyticsContent.NOT_COMPATIBLE,details:"R.isCompatible"}});try{dmo&&dmo.logEvent&&"function"==typeof dmo.logEvent&&'function'==typeof Object.create&&dmo.logEvent.call(dmo,210,'R.isCompatible')}catch(e){}}},function(e){checkForCallback('video_error','atom failed: '+e),log('error'),log(e)}),reveal},registerCallback:function(evt,callback,scope){return registeredCallbacks.push({evt:evt,callback:callback,scope:scope}),reveal},environmentReady:environReady,enviromentReady:environReady};return reveal}win._$OGO$_={Rosetta:Rosetta},creatives.push(Creative)}();