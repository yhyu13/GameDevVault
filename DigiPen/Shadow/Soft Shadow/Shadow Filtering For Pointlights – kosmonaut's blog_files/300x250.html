<!DOCTYPE html>
<!-- saved from url=(0075)https://dco-assets.everestads.net/ics-campaign//5008/t/6236/17/300x250.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <title>Ad</title>
    <script type="text/javascript" src="./AMOLibrary.js.download"></script>
    <style media="screen">
      @font-face {
        font-family: "Human BBY Web";
        src: url("HumanBBY-55Regular-Web.eot");
        src: url("HumanBBY-55Regular-Web.eot?#iefix") format("embedded-opentype"),
        url("HumanBBY-55Regular-Web.woff2") format("woff2"),
        url("HumanBBY-55Regular-Web.woff") format("woff"),
        url("HumanBBY-55Regular-Web.svg#HumanBBY-55Regular-Web") format("svg");
        font-weight: 400;
        font-style: normal;
      }
      .HumanBBY-55Regular-Web {
        font-family: "Human BBY Web";
        font-weight: 400;
        font-style: normal;
        font-stretch: normal;
      }
      @font-face {
        font-family: "Human BBY Web";
        src: url("HumanBBY-65Medium-Web.eot");
        src: url("HumanBBY-65Medium-Web.eot?#iefix") format("embedded-opentype"),
        url("HumanBBY-65Medium-Web.woff2") format("woff2"),
        url("HumanBBY-65Medium-Web.woff") format("woff"),
        url("HumanBBY-65Medium-Web.svg#HumanBBY-65Medium-Web") format("svg");
        font-weight: 500;
        font-style: normal;
      }
      .HumanBBY-65Medium-Web {
        font-family: "Human BBY Web";
        font-weight: 500;
        font-style: normal;
        font-stretch: normal;
      }
      @font-face {
        font-family: "Human BBY Web";
        src: url("HumanBBY-75Bold-Web.eot");
        src: url("HumanBBY-75Bold-Web.eot?#iefix") format("embedded-opentype"),
        url("HumanBBY-75Bold-Web.woff2") format("woff2"),
        url("HumanBBY-75Bold-Web.woff") format("woff"),
        url("HumanBBY-75Bold-Web.svg#HumanBBY-55Regular-Web") format("svg");
        font-weight: 700;
        font-style: normal;
      }
      .HumanBBY-75Bold-Web {
        font-family: "Human BBY Web";
        font-weight: 700;
        font-style: normal;
        font-stretch: normal;
      }
      body {
        margin: 0;
        padding: 0;
        user-select: none;
      }
      #ad {
        position: relative;
        width: 300px;
        height: 250px;
        margin: 0;
        padding: 0;
        font-family: "Human BBY Web",Arial,Helvetica;
        font-weight: 700;
        font-style: normal;
        font-stretch: normal;
        color: #fff;
        cursor: pointer;
        overflow: hidden;
      }
      #ad > div { position: absolute; }
      .asset img {
        max-width: 100%;
        max-height: 100%;
        position: relative;
        vertical-align: top;
        top: 50%;
        left: 50%;
        -webkit-transform: translate(-50%, -50%);
        transform: translate(-50%, -50%);
      }
      .asset-left img {
        max-width: 100%;
        max-height: 100%;
        position: relative;
        vertical-align: top;
        top: 50%;
        -webkit-transform: translateY(-50%);
        transform: translateY(-50%);
      }
      .asset-top img {
        max-width: 100%;
        max-height: 100%;
        position: relative;
        vertical-align: top;
        left: 50%;
        -webkit-transform: translateX(-50%);
        transform: translateX(-50%);
      }
      .text span {
        position: relative;
        display: inline-block;
        top: 50%;
        left: 50%;
        -webkit-transform: translate(-50%, -50%);
        transform: translate(-50%, -50%);
      }
      .text-left span {
        position: relative;
        display: inline-block;
        top: 50%;
        -webkit-transform: translateY(-50%);
        transform: translateY(-50%);
      }
      .text-right span {
        position: relative;
        display: inline-block;
        top: 50%;
        left: 100%;
        -webkit-transform: translate(-100%, -50%);
        transform: translate(-100%, -50%);
      }
      #imageContainer .product-image {
          position: relative;
          /* display: inline-block; */
          /* height: inherit; */
          vertical-align: top;
          border-bottom: 1px solid #bababa;
          box-sizing: border-box;
      }
      #imageContainer .product-overlay {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          -webkit-transition: all ease .5s;
          transition: all ease .5s;
          background-color: rgba(255, 255, 255, 0.5);
      }
      #imageContainer .product-image:hover .product-overlay {
          background-color: rgba(255, 255, 255, 0);
      }
      #imageContainer .product-image.selected .product-overlay {
          background-color: rgba(255, 255, 255, 0);
      }
      .image-3 .product-image { height: 33.33%; padding: 3%; }
      .image-2 .product-image { height: 50%; padding: 2%; }
      .image-1 .product-image { height: 100%; padding: 2%; }
    </style>
  </head>
  <body>
    <div class="" id="ad"><div id="bg" class="asset" style="top:0px;left:0px;width:inherit;height:inherit;"><img src="./300x250_BB_FY20_Carousel_VPE_Background_Stores_Open_No_Appointment_4.png"></div><div id="carousel" class="carousel" style="top:0px;"><div class="carousel-container" style="width: 1500px; transform: translateX(-1200px); height: 150px; transition: all 0.3s ease-out 0s;"><div data-id="-1" style="position:relative;display:inline-block;width:300px;height:150px;vertical-align:top;"><div class="asset" style="position:absolute;top:16px;left:20px;width:110px;height:110px;"><img src="./26ac6a50056c0f6a3b3a2ba857647d6b.jpeg"></div><div class="text clip" style="position:absolute;top:26px;left:143px;width:137px;height:50px;font-size:12px;font-weight:bold;color:#0046be;line-height:1.2;"><span>KEF - Ventura 5-1/4" Passive 2-Way Outdoor Speakers (Pair) - Black</span></div><div class="text-left" style="position:absolute;top:77px;left:143px;width:137px;height:36px;color:#000;font-size:12px;line-height:1.2;font-weight:bold;"><span>SEE PRICE IN CART</span></div></div><div data-id="0" style="position:relative;display:inline-block;width:300px;height:150px;vertical-align:top;"><div class="asset" style="position:absolute;top:16px;left:20px;width:110px;height:110px;"><img src="./a6919feddba903c706b251fca9342e83.jpeg"></div><div class="text clip" style="position:absolute;top:26px;left:143px;width:137px;height:50px;font-size:12px;font-weight:bold;color:#0046be;line-height:1.2;"><span>Russound - Multiline Display Keypad - White</span></div><div class="text-left" style="position:absolute;top:77px;left:143px;width:137px;height:36px;line-height:28px;color:#000;font-size:20px;font-weight:bold;"><span style="text-align:left;"><font style="color:#0046be;">$</font>441<sup style="font-size:14px;vertical-align:13%;">98</sup></span></div></div><div data-id="1" style="position:relative;display:inline-block;width:300px;height:150px;vertical-align:top;"><div class="asset" style="position:absolute;top:16px;left:20px;width:110px;height:110px;"><img src="./a54527e46c66afd7df032a834674be68.jpeg"></div><div class="text clip" style="position:absolute;top:26px;left:143px;width:137px;height:50px;font-size:12px;font-weight:bold;color:#0046be;line-height:1.2;"><span>Insignia™ - Manual Disc Repair System - Multi</span></div><div class="text-left" style="position:absolute;top:77px;left:143px;width:137px;height:36px;line-height:28px;color:#000;font-size:20px;font-weight:bold;"><span style="text-align:left;"><font style="color:#0046be;">$</font>29<sup style="font-size:14px;vertical-align:13%;">99</sup></span></div></div><div data-id="2" style="position:relative;display:inline-block;width:300px;height:150px;vertical-align:top;"><div class="asset" style="position:absolute;top:16px;left:20px;width:110px;height:110px;"><img src="./26ac6a50056c0f6a3b3a2ba857647d6b.jpeg"></div><div class="text clip" style="position:absolute;top:26px;left:143px;width:137px;height:50px;font-size:12px;font-weight:bold;color:#0046be;line-height:1.2;"><span>KEF - Ventura 5-1/4" Passive 2-Way Outdoor Speakers (Pair) - Black</span></div><div class="text-left" style="position:absolute;top:77px;left:143px;width:137px;height:36px;color:#000;font-size:12px;line-height:1.2;font-weight:bold;"><span>SEE PRICE IN CART</span></div></div><div data-id="3" style="position:relative;display:inline-block;width:300px;height:150px;vertical-align:top;"><div class="asset" style="position:absolute;top:16px;left:20px;width:110px;height:110px;"><img src="./a6919feddba903c706b251fca9342e83.jpeg"></div><div class="text clip" style="position:absolute;top:26px;left:143px;width:137px;height:50px;font-size:12px;font-weight:bold;color:#0046be;line-height:1.2;"><span>Russound - Multiline Display Keypad - White</span></div><div class="text-left" style="position:absolute;top:77px;left:143px;width:137px;height:36px;line-height:28px;color:#000;font-size:20px;font-weight:bold;"><span style="text-align:left;"><font style="color:#0046be;">$</font>441<sup style="font-size:14px;vertical-align:13%;">98</sup></span></div></div></div></div><div id="leftArrow" class="asset" data-button="left" style="top:66px;left:0px;width:20px;height:20px;"><img src="./arrow.png"></div><div id="rightArrow" class="asset" data-button="right" style="top:66px;right:0px;width:20px;height:20px;-webkit-transform:rotate(180deg);transform:rotate(180deg);font-size:20px;"><img src="./arrow.png"></div><div id="bottomPortion" class="asset" data-button="bottomPortion" style="top:150px;left:0px;width:inherit;height:100px;"></div><div id="disclaimerText" class="text-right HumanBBY-55Regular-Web" style="position:absolute;top:231px;right:15px;width:75px;height:12px;font-size:7.5px;color:#fff;background-color:#0046bf;"><span>© 2020 Best Buy</span></div><div id="cta" class="HumanBBY-65Medium-Web" style="top:133px;left:103px;width:95px;height:35px;font-size:15px;text-align:center;line-height:34px;border-radius:4px;background-color:#ffe000;color:#1d252c;" onmouseover="javascript:this.style.backgroundColor=&#39;#fff200&#39;;" onmouseout="javascript:this.style.backgroundColor=&#39;#ffe000&#39;;">Shop Now</div><div id="overlay" style="top: 0px; left: 0px; width: inherit; height: inherit; background-color: rgb(255, 255, 255); opacity: 0; transition: all 0.5s ease 0s; visibility: hidden;"></div><div class="ad-borders"><div class="ad-border-top" style="position:absolute;display:inline-block;width:300px;border-top:1px solid #1d252c;top:0px;left:0px;"></div><div class="ad-border-right" style="position:absolute;display:inline-block;height:250px;border-left:1px solid #1d252c;top:0px;left:299px;"></div><div class="ad-border-bottom" style="position:absolute;display:inline-block;width:300px;border-top:1px solid #1d252c;top:249px;left:0px;"></div><div class="ad-border-left" style="position:absolute;display:inline-block;height:250px;border-left:1px solid #1d252c;top:0px;left:0px;"></div></div></div>
    <div id="loadFont" style="width:0;height:0;overflow:hidden;">
      <div class="HumanBBY-55Regular-Web" style="color:transparent;">HumanBBY-55Regular-Web</div>
      <div class="HumanBBY-65Medium-Web" style="color:transparent;">Human BBY Web Medium</div>
      <div class="HumanBBY-75Bold-Web" style="color:transparent;">Human BBY Web Bold</div>
    </div>
    <script type="text/javascript">
      var selectedProduct = {}, selectProductTimer = 0, animationIndex = 0;
      function textUpdate() {
        var textElements = ad.root.querySelectorAll('.text, .text-left, .text-right');
        var clipTextElements = ad.root.querySelectorAll('.text.clip, .text-left.clip, .text-right.clip');
        if(clipTextElements && clipTextElements.length) {
          for(var k = 0; k < clipTextElements.length; k++) {
            var element = clipTextElements[k];
            var height = element.offsetHeight;
            var span = element.querySelector('span');
            if(span) {
              if(span.offsetHeight > height) {
                var content = span.innerHTML;
                var words = content.split(' ');
                for(var i = 0; i < words.length; i++) {
                  words.pop();
                  span.innerHTML = words.join(' ') + '...';
                  if(span.offsetHeight <= height) { break; }
                }
              }
            } else {
              var assignedHeight = element.style.height;
              element.style.height = 'auto';
              if(element.offsetHeight > height) {
                var content = element.innerHTML;
                var words = content.split(' ');
                for(var i = 0; i < words.length; i++) {
                  words.pop();
                  element.innerHTML = words.join(' ') + '...';
                  if(element.offsetHeight <= height) { break; }
                }
              }
              element.style.height = assignedHeight;
            }
          }
        }
        for(var k = 0; k < textElements.length; k++) {
          var element = textElements[k];
          var style = window.getComputedStyle(element, null).getPropertyValue('font-size');
          var fontSize = parseInt(style);
          var height = element.offsetHeight;
          var span = element.querySelector('span');
          if(span) {
            if(span.offsetHeight > height) {
              for(var i = fontSize - 1; i > 0; i--) {
                element.style.fontSize = i + 'px';
                if(span.offsetHeight <= height) { break; }
              }
            }
          } else {
            var assignedHeight = element.style.height;
            element.style.height = 'auto';
            if(element.offsetHeight > height) {
              for(var i = fontSize - 1; i > 0; i--) {
                element.style.fontSize = i + 'px';
                if(element.offsetHeight <= height) { break; }
              }
            }
            element.style.height = assignedHeight;
          }
        } // Resize Text
      }
      var Ad = function(config) {
        var width = config.width;
        var height = config.height;
        var cssString = '';
        var root = config.root;
        var layers = {};
        var frames = {};
        var loadAssets = function(list, callbackFunction){ //loadAssets(list of URLs, callback function)
            if(list && typeof list == 'string') {
                var path = list;
                list = [];
                list.push(path);
            }
            if(list && typeof list == 'object' && list.length) {
                var loadCounter = [];
                var head = document.querySelector('head');
                function loadCheck(e) {
                    loadCounter.push(this);
                    if(loadCounter.length == list.length) {
                        callbackFunction(loadCounter); //This function is called when all the provided assets are loaded properly.
                    }
                }
                list.forEach(function(path) {
                    if(path && typeof path == 'string' && path.length) {
                        if(path.indexOf('.js') > 0) { //For loading JS file
                            var script = document.createElement('script');
                            script.type = 'text/javascript';
                            script.onload = loadCheck;
                            script.src = path;
                            head.appendChild(script);
                        } else if(path.indexOf('.css') > 0) { //For loading CSS file
                            var style = document.createElement('style');
                            style.type = 'text/css';
                            style.setAttribute('rel', 'stylesheet');
                            style.onload = loadCheck;
                            style.setAttribute('href', path);
                            head.appendChild(style);
                        } else {	//For loading Image file
                            var image = new Image();
                            image.onload = loadCheck;
                            image.src = path;
                        }
                    }
                });
            }
        }
        var setText = function(selector, text) {
            var element = typeof selector == 'string' && selector && selector.length && root.querySelector(selector) ? root.querySelector(selector) : selector;;
            if(element && text && text.length) {
                element.textContent = text;
                while(element.clientHeight < element.scrollHeight) {
                  text = element.innerHTML.trim();
                  if(text.split(' ').length <= 1) {
                    break;
                  }
                  element.innerHTML = text.replace(/\W*\s(\S)*$/, '...');
                }
            }
        }
        var addBorder = function() {
          var htmlContent = '', width = root.offsetWidth, height = root.offsetHeight;
          var borderWidth = 1, border = borderWidth + 'px solid #1d252c';
          htmlContent = '<div class="ad-border-top" style="position:absolute;display:inline-block;width:' + width + 'px;border-top:' + border + ';top:0px;left:0px;"></div>'+
            '<div class="ad-border-right" style="position:absolute;display:inline-block;height:' + height + 'px;border-left:' + border + ';top:0px;left:' + (width - borderWidth) + 'px;"></div>'+
            '<div class="ad-border-bottom" style="position:absolute;display:inline-block;width:' + width + 'px;border-top:' + border + ';top:' + (height - borderWidth) + 'px;left:0px;"></div>'+
            '<div class="ad-border-left" style="position:absolute;display:inline-block;height:' + height + 'px;border-left:' + border + ';top:0px;left:0px;"></div>';
          var div = document.createElement('div');
          div.className = 'ad-borders';
          div.innerHTML = htmlContent;
          root.appendChild(div);
        }
        var update = function() {
          textUpdate();
          var idElements = root.querySelectorAll('[id]');
          if(idElements && idElements.length) {
            //elements.forEach(function(element) { layers[element.id] = element; });
            for(var i = 0; i < idElements.length; i++) {
              var element = idElements[i];
              if(element) { layers[element.id] = element; }
            }
          }
        }
        return { //exposed parameters and methods
            root: root,
            layers: layers,
            frames: frames,
            width: width,
            height: height,
            loadAssets: function(list, callbackFunction) { return loadAssets(list, callbackFunction); },
            setText: function(selector, text, type) { return setText(selector, text, type); },
            addBorder: function() { return addBorder(); },
            update: function() { return update(); }
        }
      };
      var ad = new Ad({
        root: document.querySelector('#ad'),
        width: 300,
        height: 250
      });
      var carouselWidth = 300, carouselHeight = 150, adClickUrl = '', adData = '', carouselClickFlag = true;;
      var carousel = (function(){
        var carouselIndex = 0, carouselData, autoplay = false;;
        var onBeforeChange;
        var init = function(config) {
          if(config) {
            if('data' in config) { carouselData = config.data; }
            if('container' in config) { container = config.container; }
            onBeforeChange = 'onBeforeChange' in config && typeof config.onBeforeChange == 'function' ? config.onBeforeChange : onBeforeChange;
            autoplay = 'autoplay' in config && typeof config.autoplay != 'undefined' ? config.autoplay : autoplay;
            if(autoplay && carouselData.length > 1) {
              var count = 0;
              var timer = setInterval(function() {
                if(count == carouselData.length) { removeTimer(); } else { move('next'); }
                count++;
              }, 2000);
              var removeTimer = function() {
                clearInterval(timer);
                timer = false;
                ad.root.removeEventListener('mouseover', removeTimer);
              }
              ad.root.addEventListener('mouseover', removeTimer);
            }
            addTransition();
          }
        }
        var translateCarousel = function(value){
          container.style.webkitTransform = 'translateX(' + value + 'px)';
          container.style.transform = 'translateX(' + value + 'px)';
        }
        var addTransition = function() {
          container.style.webkitTransition = 'all ease-out 0.3s';
          container.style.transition = 'all ease-out 0.3s';
        }
        var removeTransition = function() {
          container.style.webkitTransition = '';
          container.style.transition = '';
        }
        var move = function(action) {
            carouselClickFlag = false;
            if(action == 'next') {
                translateCarousel(-(carouselIndex+2)*carouselWidth);
                if(carouselIndex != (carouselData.length - 1)) { carouselIndex++; }
                else {
                  carouselIndex = 0;
                  function loopContainer() {
                      removeTransition();
                      translateCarousel(-(carouselIndex+1)*carouselWidth);
                      setTimeout(function(){ addTransition(); }, 20);
                      container.removeEventListener('transitionend', loopContainer);
                  }
                  container.addEventListener('transitionend', loopContainer);
                }
            } else if (action == 'prev') {
              translateCarousel(-(carouselIndex)*carouselWidth);
              if(carouselIndex != 0) { carouselIndex--; }
              else {
                carouselIndex = carouselData.length - 1;
                function loopContainer() {
                    removeTransition();
                    translateCarousel(-(carouselIndex+1)*carouselWidth);
                    setTimeout(function(){ addTransition(); }, 20);
                    container.removeEventListener('transitionend', loopContainer);
                }
                container.addEventListener('transitionend', loopContainer);
              }
            }
            setTimeout(function(){ carouselClickFlag = true; }, 510);
            if(onBeforeChange) { onBeforeChange(carouselData[carouselIndex]); }
        }
        return {
          init: function(config){ return init(config); },
          move: function(action) { return move(action); }
        }
      })();
      var initCarousel = function(content) {
        carousel.init({
          data: content,
          autoplay: true,
          container: document.querySelector('.carousel-container'),
          onBeforeChange: function(next) {
            adClickUrl = next.url;
            adData = next;
          }
        });
      }
      var animateAd = function(content) {
        //animateFrame1(content);
        if(ad.layers && 'intro' in ad.layers) {
          var duration = parseFloat(ad.layers.intro.dataset.duration);
          if(duration) {
            setTimeout(function(){ ad.layers.intro.style.opacity = 0; initCarousel(content); }, duration);
            setTimeout(function(){ ad.layers.intro.style.visibility = 'hidden'; }, (duration+500));
          }
        } else { initCarousel(content); }
      }
      var getCarouselContent = function(data, id, assets) {
        var logoFlag = true;
        if(data.logo && data.logo.length) {
          var imagePath = data.logo;
          for(var i = 0; i < assets.length; i++) {
            var image = assets[i];
            if(image.src.indexOf(imagePath) != -1) {
              if(image.naturalWidth == 1 && image.naturalHeight == 1) { logoFlag = false; }
              break;
            }
          }
        } else { logoFlag = false; }
        return ('<div data-id="' + id + '" style="position:relative;display:inline-block;width:' + carouselWidth + 'px;height:' + carouselHeight + 'px;vertical-align:top;">'+
            '<div class="asset" style="position:absolute;top:16px;left:20px;width:110px;height:110px;"><img src="' + data.image + '" /></div>'+
            '<div class="text clip" style="position:absolute;top:' + (logoFlag ? 17 : 26) + 'px;left:143px;width:137px;height:50px;font-size:12px;font-weight:bold;color:#0046be;line-height:1.2;"><span>' + data.name + '</span></div>'+
            (data.price && parseFloat(data.price) ? '<div class="text-left" style="position:absolute;top:' + (logoFlag ? 63 : 77) + 'px;left:143px;width:137px;height:36px;line-height:28px;color:#000;font-size:20px;font-weight:bold;"><span style="text-align:left;"><font style="color:#0046be;">$</font>' + data.price.split('.')[0] + '<sup style="font-size:14px;vertical-align:13%;">' + (data.price.split('.').length == 1 ? '00' : data.price.split('.')[1]) + '</sup></span></div>'
            : '<div class="text-left" style="position:absolute;top:' + (logoFlag ? 63 : 77) + 'px;left:143px;width:137px;height:36px;color:#000;font-size:12px;line-height:1.2;font-weight:bold;"><span>SEE PRICE IN CART</span></div>')+
            (logoFlag ? '<div class="asset-left" style="position:absolute;top:97px;left:143px;width:72px;height:26px;"><img src="' + data.logo + '" /></div>' : '')+
          '</div>');
          //26, 77
      }
      function setData(content, cam) {
        var staticContent = {}, staticImages = {
          arrow: 'images/arrow.png'
        };
      	var assets = [];
        if(staticImages && typeof staticImages == 'object') { for(var i in staticImages) { assets.push(staticImages[i]); } }
        if(cam) { assets.push(cam.introImage); assets.push(cam.backgroundImage); }
      	if(content) {
          content.forEach(function(data){ assets.push(data.image); if(data.logo) { assets.push(data.logo); } });
      		ad.loadAssets(assets, function(assets){
            adClickUrl = content[0].defaultURL;
            var data = adData = content[0];
            ad.root.innerHTML = '<div id="bg" class="asset" style="top:0px;left:0px;width:inherit;height:inherit;"><img src="' + cam.backgroundImage + '" /></div>'+
            '<div id="carousel" class="carousel" style="top:0px;">' +
              '<div class="carousel-container" style="width:' + (carouselWidth*(content.length + 2)) + 'px;transform:translateX(' + -(carouselWidth) + 'px);height:' + carouselHeight + 'px;">' +
                getCarouselContent(content[content.length - 1], -1, assets) +
                content.map(function(data, i) { return getCarouselContent(data, i, assets); }).join('') +
                getCarouselContent(content[0], content.length, assets) +
              '</div>' +
            '</div>' +
            '</div>'+
            (content.length > 1 ?
            '<div id="leftArrow" class="asset" data-button="left" style="top:66px;left:0px;width:20px;height:20px;"><img src="' + staticImages.arrow + '" /></div>'+
            '<div id="rightArrow" class="asset" data-button="right" style="top:66px;right:0px;width:20px;height:20px;-webkit-transform:rotate(180deg);transform:rotate(180deg);font-size:20px;"><img src="' + staticImages.arrow + '" /></div>' : '') +
            '<div id="bottomPortion" class="asset" data-button="bottomPortion" style="top:150px;left:0px;width:inherit;height:100px;"></div>'+
            '<div id="disclaimerText" class="text-right HumanBBY-55Regular-Web" style="position:absolute;top:231px;right:15px;width:75px;height:12px;font-size:7.5px;color:#fff;background-color:#0046bf;"><span>&copy; ' + new Date().getFullYear() + ' Best Buy</span></div>'+
            '<div id="cta" class="HumanBBY-65Medium-Web" style="top:133px;left:103px;width:95px;height:35px;font-size:15px;text-align:center;line-height:34px;border-radius:4px;background-color:#ffe000;color:#1d252c;" onmouseover="javascript:this.style.backgroundColor=\'#fff200\';" onmouseout="javascript:this.style.backgroundColor=\'#ffe000\';">' + cam.ctaText + '</div>'+
            //'<div id="cta" style="top:133px;left:103px;width:95px;height:35px;background-repeat:no-repeat;background-image: url(' + cam.ctaText + ');background-position: 0px 0px;background-size:95px;" onmouseover="javascript:this.style.backgroundPosition=\'0px -35px\';" onmouseout="javascript:this.style.backgroundPosition=\'0px 0px\';"></div>'+
            (cam.introDuration && parseFloat(cam.introDuration) ? '<div id="intro" class="asset" data-button="intro" data-duration="' + (parseFloat(cam.introDuration) < 20 ? parseFloat(cam.introDuration)*1000 : parseFloat(cam.introDuration)) + '" style="top:0px;left:0px;width:inherit;height:inherit;-webkit-transition:all ease .5s;transition:all ease .5s;"><img src="' + cam.introImage + '" /></div>' : '') +
            '<div id="overlay" style="top:0px;left:0px;width:inherit;height:inherit;background-color:#fff;opacity:1;-webkit-transition:all ease .5s;transition:all ease .5s;"></div>';
            ad.update();
            adClickUrl = content[0].url;
            adData = content[0];
      			ad.root.addEventListener("click", function(e) {
              if('button' in e.target.parentNode.dataset || 'button' in e.target.dataset) {
                if(e.target.parentNode.dataset.button == 'left' && carouselClickFlag) { carousel.move('prev'); }
                else if(e.target.parentNode.dataset.button == 'right' && carouselClickFlag) { carousel.move('next'); }
                else if(e.target.dataset.button == 'bottomPortion') { amo.onDynAdClick(adData.feedData, "CLICK", adClickUrl); }
                //else if(e.target.parentNode.dataset.button == 'intro') { amo.onDynAdClick(adData.feedData, "CLICK", cam.intro); }
                else if(e.target.parentNode.dataset.button == 'intro') { amo.onDynAdClick(adData.feedData, "CLICK", adData.introUrl); }
              } else { amo.onDynAdClick(adData.feedData, "CLICK", adClickUrl); }
            });
            ad.root.onmouseenter = function() {
                if(selectProductTimer) { clearInterval(selectProductTimer); selectProductTimer = false; }
            }
            setTimeout(function(){ document.querySelector('#overlay').style.opacity = 0; ad.addBorder(); }, 10);
            setTimeout(function(){ document.querySelector('#overlay').style.visibility = 'hidden'; }, 510);
            animateAd(content);
      		});
      	}
      }
      function loadData() {
      	var replaceMacro = function(text, data) {
      		if(text.indexOf('!{') != -1 && text.indexOf('}') != -1) {
      			text = text.split('!{');
      			text = text.map(function(string){
      				if(string.indexOf('}') != -1) {
      					string = string.split('}');
      					for(var key in data) { if(key == string[0]) { string[0] = data[key]; } }
      					string = string.join('');
      				}
      				return string;
      			}).join('');
      		}
      		return text.split('^').join(' ');
      	}
      	var contentD = [
          {
                "name": "Microsoft - Surface Book 2 - 15\" Touch-Screen PixelSense™ Display - Intel Core i7 / 16GB / 256GB dGPU - Silver",
                "picture_url": "assets/MacLaptop.png",
                "discount_price": "2301.99",
                "image_url3": "assets/logo_microsoft.png",
                "product_url": "http://www.ensembledco.com/support/1",
                "age":"2301.99^0^129.99",//age
                "passthroughfield3":"7256658^1402173^3844378",
                "passthroughfield4":"Hoover - WindTunnel 2 Rewind Upright Vacuum - Blue^LG - 1.5 Cu. Ft. Mid-Size Microwave - Stainless Steel",
                "gender":"http://www.ensembledco.com/support/2^http://www.ensembledco.com/support/3",//gender
                "image_url3":"assets/Hoover.jpeg",
                "image_url4":"assets/Hamilton.jpg"
            }, {
                "name": "Hoover - WindTunnel 2 Rewind Upright Vacuum - Blue",
                "picture_url": "assets/Hoover.jpeg",
                "discount_price": "0.00",
                "image_url3": "assets/hooverLogo.png",
                "product_url": "http://www.ensembledco.com/support/2"
            }, {
                "name": "LG - 1.5 Cu. Ft. Mid-Size Microwave - Stainless Steel",
                "picture_url": "assets/Hamilton.jpg",
                "discount_price": "99.00",
                "image_url3": "assets/HamiltonLogo.png",
                "product_url": "http://www.ensembledco.com/support/3"
            }
        ];
      	if(contentD && contentD.length) { contentD.forEach(function(data) { amo.registerContent(data); }); }
        amo.registerVariation("introImage", 'assets/300x250_HPDesktops_intro.jpg');
        amo.registerVariation("introDuration", '2000');
        amo.registerVariation("bgImage", 'assets/300x250_backgroundImage.jpg');
        amo.registerVariation("ctaBtn", 'Shop Now');
        //amo.registerVariation("introClickUrl", 'https://www.bestbuy.com/');
        amo.registerVariation("introClickUrl", '!{product_url}');
        amo.registerVariation("clickUrl", '!{product_url}');
        amo.registerVariation("vpeClickUrl", 'https://www.bestbuy.com/site/clp/shipping-and-store-pickup/pcmcat1497374004594.c?id=pcmcat1497374004594');
        var content = [], cam = {};
      	var cam = {
      		intro: amo.variation['introClickUrl'],
          introImage: amo.variation['introImage'],
          introDuration: amo.variation['introDuration'],
      		backgroundImage: amo.variation['bgImage'],
      		ctaText: amo.variation['ctaBtn'],
          vpeUrl: amo.variation['vpeClickUrl'],
          url: amo.variation['clickUrl']
      	};
      	if(amo.content && amo.content.length) {
      		amo.content.forEach(function(data) {
      			content.push({
      				feedData: data,
      				name: data.name,
      				image: data.picture_url,
      				price: data.discount_price,
      				logo: data.image_url3,
              introUrl: cam.intro,
      				url: cam.url
      			});
      		});
          if(content && content.length) {
      			content.map(function(data){
      				for(var key in data) { data[key] = typeof data[key] == 'string' ? replaceMacro(data[key], data.feedData) : data[key]; }
      			});
            if(content.length == 1 && 'passthroughfield4' in content[0].feedData && content[0].feedData.passthroughfield4.length > 6) {
              var data = content[0].feedData;
              content[0].logo = '';
              data.passthroughfield4.split('^').forEach(function(name, i){
                var feedData = data;
                feedData.ut1 = data.passthroughfield3.split('^')[i];
                content.push({
                  feedData: feedData,
          				name: name,
          				image: data['image_url' + (3 + i)],
          				price: data.age.split('^')[i],//age
          				logo: '',
                  introUrl: cam.intro,
          				url: data.gender.split('^')[i]//gender
                });
              });
            } else if(content.length == 1 && 'passthroughfield4' in content[0].feedData && !content[0].feedData.passthroughfield4.length) { content[0].logo = ''; }
            if(content.length == 2) { content.push(content[0]); content.push(content[1]); }
      		}
      	}
        setTimeout(function(){ setData(content, cam); }, 2000);
      }
      var iframe = window.frameElement;
      if(iframe) {
        iframe.style.border = 'none';
        // var parentObj = iframe.contentWindow.parent ? iframe.contentWindow.parent  : iframe.contentWindow;
        // var parentIfrm = parentObj.frameElement;
        // if(parentIfrm) {
        //     parentIfrm.style.border = 'none';
        // }
      }
      loadData();
    </script>
  

</body></html>