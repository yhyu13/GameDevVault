var EVENT_LIB=EVENT_LIB||{};EVENT_LIB.instance=function(){return{addEvent:function(c,b,a){if(c.addEventListener){c.addEventListener(b,a,false)}else{if(c.attachEvent){c.attachEvent("on"+b,a)}}c=null},removeEvent:function(c,b,a){if(c.removeEventListener){c.removeEventListener(b,a)}else{if(c.detachEvent){c.detachEvent("on"+b,a)}}c=null}}}();var INTERSECTION_OBSERVER=INTERSECTION_OBSERVER||{};INTERSECTION_OBSERVER.io=function(){return{observe:function(d,a,f,c){if("IntersectionObserver" in window&&"IntersectionObserverEntry" in window){var e=(function(g){return function(h,i){h.forEach(function(j){if(j.isIntersecting){g instanceof Function&&g("entry")}else{g instanceof Function&&g("exit")}})}})(f);var b=new IntersectionObserver(e,{threshold:a});b.observe(d)}else{c instanceof Function&&c()}}}}();var VIEWABILITY=VIEWABILITY||{};VIEWABILITY.instance=function(){return{load:function(a){this.maxViewTime=0;this.notsupported=false;this.lastInTime=null;this.listener=null;var c=(function(d){return function(){d.notsupported=true}})(this);this.listener=(function(d){return function(e){switch(e){case"entry":d.lastInTime=new Date().getTime();break;case"exit":if(d.lastInTime){d.maxViewTime=Math.max(d.maxViewTime,new Date().getTime()-d.lastInTime)}d.lastInTime=null;break;default:d.lastInTime=null}}})(this);INTERSECTION_OBSERVER.io.observe(a.elem,0.5,this.listener,c);var b=(function(d,e){return function(){d.listener("exit");if(d.notsupported){if(e.notsupported){new Image().src=e.notsupported}}else{var g=d.maxViewTime>=1000?1:0;if(e.vurl&&e.vdata){var f=e.vdata.replace(/%24%7BVIEW_STATUS%7D/g,g).replace(/\${VIEW_STATUS}/g,g);BEACON_UTILS.instance.send(e.vurl,f)}}}})(this,a);EVENT_LIB.instance.addEvent(window,"beforeunload",b)}}}();var VIEWABILITY_INJECTOR=VIEWABILITY_INJECTOR||{};VIEWABILITY_INJECTOR.injector=function(){return{inject:function(b,f){try{var c=document.getElementById(f);if(c==null){return}var h=c.getAttribute("vtgt");var k=null;if(h!=null){k=document.getElementById(h)}var g=c.getAttribute("vurl");var d=c.getAttribute("vdata");var l=c.getAttribute("vcid");var j=parseInt(c.getAttribute("onwindowtopdisable"));var a=c.getAttribute("notsupported");if(k==null){new Image().src="//qsearch-a.akamaihd.net/log?logid=kfk&evtid=projectevents&project=ssx&event=VIO_NO_PARENT_ERROR&error=&cid="+l;return}if((j&&b)){return}VIEWABILITY.instance.load({elem:k,vurl:g,vdata:d,notsupported:a});return true}catch(i){new Image().src="//qsearch-a.akamaihd.net/log?logid=kfk&evtid=projectevents&project=ssx&event=VIO_LOAD_ERROR&error="+encodeURI(i)}},haveTop:function(){try{window.top.addEventListener;return true}catch(a){return false}}}}();var BEACON_UTILS=BEACON_UTILS||{};BEACON_UTILS.instance=function(){return{send:function(a,b){if(window.navigator&&window.navigator.sendBeacon){try{window.navigator.sendBeacon(a,b);return true}catch(c){}}new Image().src="//qsearch-a.akamaihd.net/log?logid=kfk&evtid=projectevents&project=ebda&event=VIO_NO_BEACON";return false}}}();