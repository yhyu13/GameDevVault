(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{0:function(e,t,n){n("NyhP"),e.exports=n("ftlp")},"002B":function(e,t,n){},"8SHQ":function(e,t,n){e.exports=n("kygt")},ftlp:function(e,t,n){"use strict";n.r(t);var a=n("ODXe"),r=n("q1tI"),c=n.n(r),i=(n("55Ip"),n("Ty5D"),n("i8i4")),o=n("/7Jz"),s=(n("qKs0"),n("VXxg"),n("55Il"),n("DpIS"),n("bZMm"),n("cr+I")),u=n("zLVn"),l=n("1OyB"),h=n("vuIU"),d=n("Ji7U"),f=n("md7G"),b=n("foSv"),v=n("17x9"),p=n.n(v),m=n("z4iU"),O=n("aJ6b"),j=n("K4CH"),y=n.n(j),g={fhd:"1080P",hd:"720P",sd:"480P",ld:"360P"},w="quality",E=function(){function e(t){var n=this,a=t.push,r=t.update,c=t.remove,i=t.subscribeEvent;Object(l.a)(this,e),this.EVENTS=[O.b.CHANGE_QUALITY_START,O.b.CHANGE_QUALITY_SUCCESS,O.b.CHANGE_QUALITY_FAIL],this.unsubscribes=[],this.handleMessage=function(e,t){[O.b.CHANGE_QUALITY_START,O.b.CHANGE_QUALITY_SUCCESS,O.b.CHANGE_QUALITY_FAIL].includes(e)&&n.handleChangeQuality(e,t)},this.handleChangeQuality=function(e,t){switch(e){case O.b.CHANGE_QUALITY_START:if(n.timer&&(clearTimeout(n.timer),n.remove({type:w}),n.timer=null),n.isUpdating)return void n.update({type:w,text:"\u6b63\u5728\u4e3a\u4f60\u5207\u6362\u5230".concat(g[t],"\uff0c\u8bf7\u7a0d\u5019\u2026")});n.push({type:w,text:"\u6b63\u5728\u4e3a\u4f60\u5207\u6362\u5230".concat(g[t],"\uff0c\u8bf7\u7a0d\u5019\u2026")}),n.isUpdating=!0;break;case O.b.CHANGE_QUALITY_SUCCESS:n.update({type:w,text:"\u5df2\u6210\u529f\u5207\u6362\u6e05\u6670\u5ea6"}),n.isUpdating=!1,clearTimeout(n.timer),n.timer=setTimeout(function(){n.remove({type:w}),n.timer=null},3e3);break;case O.b.CHANGE_QUALITY_FAIL:}},this.EVENTS.forEach(function(e){var t=n.handleMessage.bind(n,e);i(e,t),n.unsubscribes.push({handler:t,unsubscribe:i(e,t).unsubscribe})}),this.push=a,this.update=r,this.remove=c,this.timer=null,this.isUpdating=!1}return Object(h.a)(e,[{key:"destroy",value:function(){this.unsubscribes.forEach(function(e){var t=e.handler;(0,e.unsubscribe)(t)})}}]),e}(),S=n("8SHQ"),R="https://lens.".concat(n.n(S).a.host),z=function(e){return fetch("".concat(R,"/").concat(e),{headers:{"X-Referer":document.referrer,"Content-Type":"application/json","X-App-Za":"OS=webplayer"},credentials:"include"})},T=n("vN+2"),A=n.n(T),C={PLAY_FAILED:"playfailed",PLAY_COUNT:"playcount",PLAY_BUFFERING:"playbuffering",BUFFERING_TIME:"bufferingtime",FIRST_FRAME_TIME:"firstframetime"},P=y()(navigator.userAgent);function _(e){var t=e.msg,n=e.id,a=e.time,r=void 0===a?0:a,c=e.quality,i=e.detail,o=void 0===i?"":i,u=e.f,l=e.bu,h=e.v,d=e.platform;if(n){var f=Object(s.stringify)({type:"msg",msg:t,time:r,videoid:n,playtype:"inline",quality:c,platform:d,version:"1.0.0",f:u,bu:l,v:h,timestamp:Date.now(),dummy:Math.random(),btype:P.browser.name,bversion:P.browser.version,ostype:P.os.name,osversion:P.os.version,detail:o});z("report?".concat(f)).catch(A.a)}}var I=function(e){return z(e).then(function(e){return e.json()}).then(function(e){if(e.error){var t=new Error;throw t.payload=e.error,t}return e})},L=function(e){return e?function(e){return I("api/v4/videos/".concat(e))}(e).catch(function(t){throw _({msg:"playfailed",videoId:e,detail:"fetch-videoinfo-failure"}),t}):Promise.reject()},k=900;var x=o.a.create({coverConverting:{position:"absolute",overflow:"hidden",top:"50%",transform:"translateY(-50%)",width:"100%",height:"100%"},coverBlurImage:{width:"100%",filter:"blur(8px)",transform:"scale(1.1)"},coverBlurTip:{position:"absolute","z-index":"1",top:"50%",left:"50%",color:"#fff",transform:"translate(-50%, -50%)"}}),N=n("nZLV"),U=function(e){var t=e.thumbnail,n=e.msg;return Object(N.b)("div",{className:Object(o.b)(x.coverConverting),children:[t&&Object(N.a)("img",{alt:"",className:Object(o.b)(x.coverBlurImage),src:t}),Object(N.a)("div",{className:Object(o.b)(x.coverBlurTip),children:n})]})},M=o.a.create({errorCover:{position:"absolute",overflow:"hidden",top:0,bottom:0,left:0,right:0,background:"#EBEBEB"},coverTip:{position:"absolute","z-index":"1",top:"50%",left:"50%",color:"#BFBFBF",transform:"translate(-50%, -50%)","white-space":"nowrap"}}),F=function(e){var t=e.msg;return Object(N.a)("div",{className:Object(o.b)(M.errorCover),children:Object(N.a)("div",{className:Object(o.b)(M.coverTip),children:t})})},B=function(){function e(t){var n=t.onStart,a=void 0===n?A.a:n,r=t.onStop,c=void 0===r?A.a:r;Object(l.a)(this,e),this._onStart=a,this._onStop=c,this._startTime=0}return Object(h.a)(e,[{key:"start",value:function(e){this.isRunning()||(this._startTime=Date.now(),this._onStart(this._startTime,e))}},{key:"reset",value:function(){this._startTime=0}},{key:"stop",value:function(e){if(this.isRunning()){var t=Date.now()-this._startTime;this._onStop(t,e),this.reset()}}},{key:"isRunning",value:function(){return this._startTime>0}}]),e}();function V(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(b.a)(e);if(t){var r=Object(b.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var H=function(e){Object(d.a)(n,e);var t=V(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).firstFrameStopwatch=new B({onStart:function(){return e.sendReport(C.PLAY_COUNT)},onStop:function(t){return e.sendReport(C.FIRST_FRAME_TIME,t)}}),e.bufferStopwatch=new B({onStop:function(t,n){t>100&&(e.sendReport(C.PLAY_BUFFERING,1e3*n),e.sendReport(C.BUFFERING_TIME,t))}}),e.eventSubscriptions=[],e.allowReportPlayfailed=!1,e.handleWaiting=function(){e.firstFrameStopwatch.isRunning()||e.bufferStopwatch.start()},e.handlePlaying=function(t){e.firstFrameStopwatch.stop(),e.bufferStopwatch.stop(t.currentTime)},e.sendReport=function(t,n){if(t===C.PLAY_FAILED){if(!e.allowReportPlayfailed)return;e.allowReportPlayfailed=!1}else t===C.PLAY_COUNT&&(e.allowReportPlayfailed=!0);e.props.sendReport(t,n)},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.subscribeEvent;this.eventSubscriptions=[t(O.b.PLAYER.PLAY_COUNT,function(){e.firstFrameStopwatch.start()}),t(O.b.PLAYER.PLAY_FAILED,function(t){var n=t.currentTime;e.sendReport(C.PLAY_FAILED,n)}),t(O.b.DOM.WAITING,this.handleWaiting),t(O.b.DOM.PLAYING,this.handlePlaying)]}},{key:"componentWillUnmount",value:function(){this.eventSubscriptions.forEach(function(e){return(0,e.unsubscribe)()})}},{key:"render",value:function(){return null}}]),n}(c.a.PureComponent),D=function(e){var t=e.id,n=e.useMSE;return Object(N.a)(m.b.Consumer,{children:function(e){var a=e.subscribeEvent;return Object(N.a)(m.c.Consumer,{children:function(e){var r=e.currentQuality,c=e.currentSrc;return Object(N.a)(H,{subscribeEvent:a,sendReport:function(e,t,n,a){if(!e||!t||!n)return A.a;var r=Object(s.parse)(n),c=r.v,i=r.bu,o=r.f,u=a?"webmse":"web";return function(n,a){return _({msg:n,id:e,time:a,quality:t,v:c,bu:i,f:o,platform:u})}}(t,r,c,n)},t)}})}})},Y=n("3+W1"),G=n("2k8L");var Q=function(){return Object(r.useEffect)(function(){var e={enableLog:!0},t=Object.assign(Object.assign({},e),{},{sdkVersion:"2.32.0",normalizeElement:i.findDOMNode,shouldAutoTrackPageShow:!1});Y.a.init({sdkVersion:"2.36.1"}),Y.a.init(t).then(function(){var t=new window.zap.Client(Object.assign({},e),{experimentalProto3:!0});Object(G.c)(t)})},[]),null},q=o.a.create({logo:{width:"40%",position:"absolute",top:"3%",right:"4%"}}),W="https://pic1.zhimg.com/80/v2-fa2fe8f24dcd80279239ede81144c23a_hd.png";function X(){return function(){var e=Object(r.useContext)(m.b).subscribeEvent,t=Object(r.useState)(!1),n=Object(a.a)(t,2),c=n[0],i=n[1];return Object(r.useEffect)(function(){if(Object(s.parse)(location.search).vzuu)return e(O.b.PLAYER.PLAY_COUNT,function(){i(!0)}).unsubscribe},[]),c}()&&Object(N.a)(m.a,{children:Object(N.a)("img",{alt:"",className:Object(o.b)(q.logo),src:W})})}var J=["ld","sd","hd"];var K=n("UMpK"),Z=n.n(K);var $=n("KQm4"),ee=n("JX7q"),te=n("Rz3U").StyleSheet.create({toastRoot:{position:"absolute",left:"1em",bottom:"4em",padding:0},toastItem:{display:"flex",textAlign:"left",color:"#fff",padding:"0 0.5em",height:"2em",backgroundColor:"rgba(0,0,0,0.3)",alignItems:"center",marginTop:"0.3em",borderRadius:"20px",fontSize:"14px"},toastButton:{position:"absolute",right:0,bottom:"100px"}}),ne=function(e){var t=e.toast;return Object(N.a)("li",{className:Object(o.b)(te.toastItem),children:t.text},t.id)};function ae(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(b.a)(e);if(t){var r=Object(b.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var re=function(e){Object(d.a)(n,e);var t=ae(n);function n(e){var a;Object(l.a)(this,n),(a=t.call(this,e)).id=0,a.state={toasts:[]},a.push=function(e){var t=a.state.toasts;t.push(Object.assign(Object.assign({},e),{},{id:a.id++})),a.setState({toasts:Object($.a)(t)})},a.update=function(e){var t=e.type,n=a.state.toasts.findIndex(function(e){return e.type===t});if(-1!==n){var r=a.state.toasts;r[n]=Object.assign(Object.assign({},r[n]),e),a.setState({toasts:Object($.a)(r)})}},a.remove=function(e){var t=e.type,n=a.state.toasts.findIndex(function(e){return e.type===t});if(-1!==n){var r=a.state.toasts;r.splice(n,1),a.setState({toasts:Object($.a)(r)})}},a.toastInstances=[];var r={push:a.push.bind(Object(ee.a)(a)),update:a.update.bind(Object(ee.a)(a)),remove:a.remove.bind(Object(ee.a)(a)),subscribeEvent:e.subscribeEvent};return e.toastContructors.forEach(function(e){a.toastInstances.push(new e(r))}),a}return Object(h.a)(n,[{key:"componentWillUnmount",value:function(){this.toastInstances.forEach(function(e){return e.destroy&&e.destroy()})}},{key:"render",value:function(){return Object(N.a)("ul",{className:Object(o.b)(te.toastRoot),children:this.state.toasts.map(function(e){return Object(N.a)(ne,{toast:e},e.id)})})}}]),n}(c.a.PureComponent);re.defaultProps={toasts:[]};var ce=function(){function e(t){var n=this,a=t.push,r=t.update,c=t.remove,i=t.subscribeEvent;Object(l.a)(this,e),this.EVENTS=O.b.PLAYBACK_RATE_CHANGE,this.handleChange=function(e){var t=e.rate;n.timer&&(clearTimeout(n.timer),n.remove({type:"rate"}),n.timer=null),n.push({type:"rate",text:"\u5df2\u6210\u529f\u5207\u6362\u5230".concat(t.text,"\u500d\u901f")}),n.timer=setTimeout(function(){n.remove({type:"rate"}),n.timer=null},3e3)};var o=this.handleChange.bind(this);this.unsubscribes=[{handler:o,unsubscribe:i(this.EVENTS,o).unsubscribe}],this.push=a,this.update=r,this.remove=c,this.timer=null,this.isUpdating=!1}return Object(h.a)(e,[{key:"destroy",value:function(){this.unsubscribes.forEach(function(e){var t=e.handler;(0,e.unsubscribe)(t)})}}]),e}(),ie=n("o0o1"),oe=n.n(ie),se=n("HaE+"),ue=n("HRy8"),le=n("+YkR"),he=Object.assign;var de=function(e){return c.a.createElement(le.a,he({fill:"none",viewBox:"0 0 40 40"},e),c.a.createElement("path",{fill:"#fff",d:"M18.194 28.016a9.844 9.844 0 110-19.688 9.844 9.844 0 010 19.688zm10.362-1.813a13.069 13.069 0 10-2.317 2.331l6.045 6.045a1.684 1.684 0 002.317-2.331l-6.045-6.045z",fillRule:"evenodd",clipRule:"evenodd"}))},fe=Object.assign;var be=function(e){return c.a.createElement(le.a,fe({fill:"none",viewBox:"0 0 124 64"},e),c.a.createElement("path",{fill:"#fff",d:"M0 6a6 6 0 016-6h117v64H6a6 6 0 01-6-6V6z"}),c.a.createElement("path",{fill:"#0767FB",d:"M35.274 31.36h5.729A1.642 1.642 0 0142.629 33v1.813h-7.657a37.718 37.718 0 01-1.44 6.794 19.258 19.258 0 01-4.159 7.412 7.082 7.082 0 01-6.966 1.238 41.498 41.498 0 004.016-3.872 21.589 21.589 0 003.872-6.836 23.184 23.184 0 001.021-4.736h-8.39a3.44 3.44 0 013.44-3.44h5.281c.058-.623.087-1.256.087-1.9v-7.196h-2.98c-.115.144-.115.274-.115.389a5.413 5.413 0 01-2.62 3.756 7.542 7.542 0 01-3.266.778s1.51-3.052 2.13-4.779l.059-.172c.378-1.106.968-2.831 1.61-4.635a4.174 4.174 0 011.77-2.519 5.455 5.455 0 013.11-.92s-1.094 3.252-1.44 4.317l-.033.073a.628.628 0 00-.082.258h10.19a1.77 1.77 0 011.77 1.756v1.684h-6.563v9.096zm8.694-12.48H59.8l.043 27.707h-6.189l-5.282 3.368-.518-3.368h-3.886V18.88zm6.045 26.224l3.094-1.957h3.109V22.321h-8.708v20.826h2.202l.303 1.957zM88.6 32.712V20.58l12.133-.633h1.094c.679-1.193.99-2.56.892-3.93l-.001-.002c-.101-.317-.274-.86-.819-.732a41.76 41.76 0 01-5.498.936c-3.364.407-4.925.52-9.248.832l-.827.06c-8.636.634-16.336.936-16.336.936a3.282 3.282 0 003.44 3.296c2.878-.115 7.196-.317 11.514-.533v11.903H68.579a3.44 3.44 0 003.44 3.44h12.954v9.197c0 1.152-.59 1.54-1.57 1.569h-5.037a5.412 5.412 0 002.879 3.397c1.12.374 2.31.497 3.483.36 1.756-.087 3.814-1.08 3.814-4.635v-9.888h14.508a1.638 1.638 0 001.52-1.023c.082-.2.123-.415.121-.632v-1.785H88.6zm-12.207-9.054c.333.206.622.475.85.793l3.7 5.181-2.879 2.087-5.47-7.585.49-.36a2.979 2.979 0 013.31-.116zm19.792.548l-4.016 5.31 2.879 2.16 5.757-7.7-.49-.36a2.941 2.941 0 00-2.203-.575 2.95 2.95 0 00-1.956 1.165h.029zM33.92 40.398l3.023-1.929 3.972 5.93c.45.863.577 1.858.36 2.807a9.04 9.04 0 01-.863 2.878l-6.492-9.686z",fillRule:"evenodd",clipRule:"evenodd"}))},ve=Object.assign;var pe=function(e){return c.a.createElement(le.a,ve({width:"31",height:"17",fill:"none",viewBox:"0 0 31 17"},e),c.a.createElement("path",{fill:"#fff",d:"M2.928 14.638L0 0h31L5.962 15.933a2 2 0 01-3.034-1.295z"}))},me=function(e){var t=e.currentUser;return Object(N.b)("div",{css:{margin:"2.76vw auto 0",display:"flex",alignItems:"center",border:"0.15625vw solid #fff",backgroundColor:"#fff",position:"relative",height:"3.33vw",boxSizing:"border-box",borderRadius:"0.3125vw"},children:[Object(N.a)(pe,{css:{position:"absolute",bottom:"-0.7291vw",right:"0.989vw",width:"1.614598vw",height:"0.88854vw"}}),Object(N.a)(be,{css:{width:"6.4vw",height:"100%"}}),Object(N.b)("div",{css:{backgroundColor:"#000",display:"inline-flex",alignItems:"center",position:"relative",height:"100%",paddingRight:"4vw",paddingLeft:"1vw",borderTopRightRadius:"0.15625vw",borderBottomRightRadius:"0.15625vw"},children:[Object(N.a)("span",{css:{fontSize:"1.777vw",color:"#fff"},children:t.name}),Object(N.a)(de,{css:{position:"absolute",right:"0.893vw",width:"2vw",height:"2vw"}})]})]})},Oe=n("VdAu"),je=n("HZII"),ye=["renderer","loop","autoplay","data","src"],ge=n.n(je)()(function(){return new Promise(function(e){return requestAnimationFrame(function(){return setTimeout(e)})})}),we=Object(r.forwardRef)(function(e,t){var c,i,o,s,l=e.renderer,h=void 0===l?"svg":l,d=e.loop,f=void 0===d||d,b=e.autoplay,v=void 0===b||b,p=e.data,m=e.src,O=Object(u.a)(e,ye),j=Object(r.useRef)(),y=Object(ue.b)(function(){return n.e(4).then(n.t.bind(null,"lPHp",7))},(c=Object(r.useState)(!1),i=Object(a.a)(c,2),o=i[0],s=i[1],Object(r.useEffect)(function(){ge().then(function(){return s(!0)})},[]),o));return Object(r.useImperativeHandle)(t,function(){return{get lottie(){return y}}}),Object(r.useEffect)(function(){y&&y.loadAnimation({container:j.current,renderer:h,loop:f,autoplay:v,animationData:p,path:m})},[y]),Object(N.a)(Oe.a,Object.assign({ref:j},O))}),Ee=function(e){var t=e.animationData,n=e.showKanShan;return Object(N.b)("div",{css:{position:"absolute",top:"-3vw",left:"-5px",backgroundColor:"#000",height:"8.33vw",width:"100%"},children:[t&&Object(N.a)(we,{loop:!1,autoPlay:!0,data:t,css:{position:"absolute",top:"-9vw",left:"-6.5vw",opacity:n?1:0,width:"22.416vw"}}),Object(N.a)("div",{css:{position:"absolute",bottom:"0.468vw",left:"0.26vw",backgroundColor:"#000",height:"2.6vw",width:"100%"}})]})},Se=Object.assign;var Re=function(e){return c.a.createElement(le.a,Se({width:"318",height:"28",fill:"none",viewBox:"0 0 318 28"},e),c.a.createElement("path",{fill:"#fff",d:"M290.976 20.112a.862.862 0 00.61.253l9.471-.043a26.203 26.203 0 01-9.802 3.972 1.172 1.172 0 00-.536.62c-.098.264-.097.555.004.82a1.337 1.337 0 001.612.417 25.695 25.695 0 0010.435-5.268v5.599a1.077 1.077 0 001.079 1.079 1.079 1.079 0 001.08-1.08v-5.757a24.248 24.248 0 0010.434 5.268 1.21 1.21 0 001.512-.432c.144-.72-.044-1.223-.547-1.439a27.624 27.624 0 01-9.687-3.756h9.471a.976.976 0 00.979-.864c0-.576-.331-.864-.979-.864h-11.183v-1.611a1.078 1.078 0 00-1.08-1.08 1.079 1.079 0 00-1.079 1.08v1.611h-11.184a.863.863 0 00-.61 1.475zm.144-10.414a.891.891 0 00.567.217l5.901.044c-.193.238-.384.436-.574.634-.234.244-.468.487-.707.805-.432.576-.331.993.317 1.281l5.268 1.295a54.534 54.534 0 01-9.572 1.44.78.78 0 00-.701.71c-.01.121.008.242.054.355a1.062 1.062 0 001.18.762 54.98 54.98 0 0012.104-2.475c4.011 1.142 6.847 1.967 8.507 2.475a1.222 1.222 0 001.439-.546.936.936 0 00.08-.576.916.916 0 00-.613-.706c-1.007-.215-2.691-.618-5.066-1.194-.849-.216-1.497-.389-1.929-.533a10.786 10.786 0 003.656-3.77h4.851c.561-.072.964-.173.964-.749 0-.576-.331-.863-.964-.863h-14.293c.192-.27.409-.52.648-.749.288-.36.504-.619.648-.763a.74.74 0 00.117-.712.741.741 0 00-.549-.468 1.44 1.44 0 00-1.612.432c-.278.466-.606.9-.979 1.295-.36.432-.604.749-.748.965h-7.427a.937.937 0 00-.863.863.888.888 0 00.296.53zm22.257-2.575c.058.504.418.864 1.065.864.705 0 1.037-.288 1.022-.749V4.763a1.194 1.194 0 00-1.194-1.18h-8.924a12 12 0 00-.763-2.375c-.187-.504-.647-.648-1.439-.648a1.05 1.05 0 00-.864 1.18 2.564 2.564 0 00.216.648c.174.387.318.786.432 1.195h-9.514c-.863 0-1.295.388-1.295 1.18v2.36c.067.5.427.787 1.079.864a.963.963 0 00.965-.864V5.684a.46.46 0 01.532-.533h18.25c.288 0 .432.173.432.533v1.44zm-11.327 5.268l-2.878-.748h.057c-.36-.072-.59-.173-.245-.533a20.893 20.893 0 001.065-1.195h8.463a8.272 8.272 0 01-3.871 3.124l-2.591-.648zM136.762 5.913c.178.16.41.247.649.246l12.061-.043a.92.92 0 00.849-.864.965.965 0 00-.849-.964h-4.635v-.23a.558.558 0 00.059-.11 1.08 1.08 0 00.041-.123.797.797 0 00.016-.084 9.725 9.725 0 01-.432-1.828 3.386 3.386 0 00-.216-.648 1.124 1.124 0 00-1.295-.647.88.88 0 00-.759.711.879.879 0 00.01.368c.023.07.049.154.079.252.049.164.107.368.176.612l.062.216c.077.487.187.968.331 1.439v.115h-5.498a1.004 1.004 0 00-.964.964.96.96 0 00.315.618zm.132 17.768c.084.095.187.17.301.224h-.014a.944.944 0 001.079-.125.947.947 0 00.23-.306 35.592 35.592 0 002.145-4.635c.144-.432-.029-.82-.533-1.18-.647-.072-1.036.144-1.18.648-.144.33-.36.791-.648 1.439a62.54 62.54 0 01-1.511 2.878.947.947 0 00-.097.57.931.931 0 00.228.488zm1.725-7.975c.221.224.521.352.836.355l3.137-.043v7.096c0 1.08-.504 1.511-1.439 1.511h-1.439c-.576 0-.864.317-.864.964a1.183 1.183 0 001.108 1.008 7.872 7.872 0 001.713-.101c2.015 0 2.951-1.036 2.807-3.123V16.06h3.008a1.195 1.195 0 001.18-1.194V9.815a1.186 1.186 0 00-.729-1.09 1.177 1.177 0 00-.451-.09h-8.031a1.238 1.238 0 00-1.181 1.28v4.952c0 .314.124.616.345.84zm1.598-1.933v-2.879h-.014a.482.482 0 01.133-.414.472.472 0 01.414-.133h5.484a.488.488 0 01.28.048l.028.015a.498.498 0 01.241.39.48.48 0 01-.002.095v2.878a.49.49 0 01-.304.5l-.015.006-.012.004a.49.49 0 01-.216.022h-5.484a.473.473 0 01-.511-.318.474.474 0 01-.022-.214zm8.234 7.959a.877.877 0 00.258-.086h-.014a1.036 1.036 0 00.446-1.137c-.144-.331-.389-.792-.748-1.44l-.864-1.295a1.021 1.021 0 00-1.295-.317.808.808 0 00-.44.45.813.813 0 00.008.63c.288.49.863 1.396 1.727 2.677a.856.856 0 00.735.527.831.831 0 00.187-.01zm1.371-11.808a.98.98 0 00.614.323l2.274.014c-.076 6.237-1.727 11.15-4.951 14.738a1.207 1.207 0 00.202 1.44 1.193 1.193 0 001.439-.216c3.234-3.877 4.994-9.221 5.282-16.034h.864a.858.858 0 00-.064.146l-.006.02-.016.054a.943.943 0 00-.029.212v12.694c0 1.986.906 2.879 2.691 2.879h.979c1.857.1 2.907-.864 3.109-2.879a6.564 6.564 0 01.115-.964c.121-.859.193-1.724.216-2.59a1.034 1.034 0 00-.749-1.181.675.675 0 00-.863.648c-.015.433-.053.866-.115 1.295a20.009 20.009 0 01-.216 2.044c-.087 1.209-.59 1.713-1.44 1.713h-.547c-.791.13-1.18-.375-1.18-1.44V10.463l-.1-.216h4.087a.978.978 0 000-1.943h-6.678c0-.72.029-1.857.115-3.44V1.625a1.083 1.083 0 00-1.08-.964 1.022 1.022 0 00-.978.964c0 1.285-.028 2.51-.054 3.674-.024 1.053-.047 2.055-.047 3.005h-2.26a.98.98 0 00-.614 1.62zm7.293-5.391c1.065.935 1.755 1.554 2.043 1.842h-.014c.576.36 1.022.417 1.454.029.431-.389.46-.864.1-1.44a16.122 16.122 0 01-1.281-1.065c-.647-.503-1.079-.834-1.295-.978-.619-.36-1.094-.36-1.439 0a.748.748 0 00-.246.237.739.739 0 00.131.943 3.539 3.539 0 00.547.432zM1.629 5.295c0 .648.288.965.85.965l6.462.043a38.14 38.14 0 01-7.643 8.938 1.353 1.353 0 00-.216 1.612.95.95 0 00.66.482l.018.003a.948.948 0 00.834-.27 33.572 33.572 0 003.555-3.44v12.48a1.151 1.151 0 001.18 1.079 1.108 1.108 0 001.08-1.08V20.94h13.226v1.828c.072 1.296-.561 1.9-1.929 1.828h-3.022c-.49 0-.749.288-.749.864.077.652.51 1.012 1.296 1.08h3.152c2.447 0 3.584-1.109 3.454-3.34V10.722a1.295 1.295 0 00-1.295-1.296H9.588a118.968 118.968 0 001.943-3.123h14.623a.965.965 0 000-1.929H12.597c.445-.673.807-1.398 1.079-2.159a1.137 1.137 0 00-.648-1.439 1.252 1.252 0 00-1.612.964l-1.295 2.591H2.478c-.561 0-.849.317-.849.964zm6.78 8.924v-2.476a.475.475 0 01.532-.532h12.162a.474.474 0 01.331.08l.01.006.007.006.01.008a.496.496 0 01.039.035.475.475 0 01.135.397v2.476H8.408zm0 4.85v-3.008h13.226v3.008H8.408zm32.966 7.851c.201.201.471.317.755.324a1.109 1.109 0 001.08-1.08V7.34a.951.951 0 00-1.08-1.08 1.109 1.109 0 00-1.079 1.08v18.826c.007.284.123.554.324.755zm4.992-20.744c.148-.047.284-.127.398-.233h-.029a.993.993 0 00.058-1.511 37.095 37.095 0 00-2.792-2.879 1.166 1.166 0 00-1.613-.216.993.993 0 00-.114 1.44c.523.434 1.004.916 1.439 1.439.508.476.989.98 1.439 1.511a1.05 1.05 0 001.214.45zm1.83 13.43l.075.005.025.001a1.174 1.174 0 00.18-.01l8.334.072a1.324 1.324 0 001.44-1.281v-8.046a1.224 1.224 0 00-1.44-1.44h-8.333c-.85 0-1.281.505-1.281 1.44v7.974a1.135 1.135 0 001 1.284zm7.73 6.583c.236.197.533.306.84.307h.044c1.828 0 3.08-.043 3.757-.086 2.648-.072 3.914-1.396 3.77-3.973V3.928a1.44 1.44 0 00-1.439-1.44H49.341a1.022 1.022 0 00-.964.98 1.05 1.05 0 00.964 1.065h12.162c.432 0 .648.187.648.546v16.898c.072 1.64-.72 2.36-2.36 2.36h-3.455c-.72.067-1.007.427-.863 1.08.056.302.217.575.453.772zm.193-9.063c0 .36-.216.547-.647.547h-5.758c-.431 0-.647-.187-.647-.547v-5.584a.763.763 0 01.648-.648h5.757a.763.763 0 01.647.648v5.584zm22.755-1.713a.892.892 0 01-.748-.863c.072-.576.317-.864.748-.864h10.766c.504 0 .749.288.749.864a.892.892 0 01-.749.863h-3.555v2.879h3.224c.504 0 .763.288.763.85 0 .56-.26.69-.763.762h-3.224v3.656a11.3 11.3 0 004.088.647c4.02.144 8.338.144 12.953 0 .777 0 1.18.317 1.18.965a.992.992 0 01-.217.586 1.022 1.022 0 01-.963.378h-5.383c-3.526.072-6.102.072-7.757 0-4.443-.144-7.322-1.468-8.636-3.972a16.162 16.162 0 01-1.44 3.972.874.874 0 01-.936.472.879.879 0 01-.344-.14.979.979 0 01-.331-1.296 15.544 15.544 0 001.727-7.643.936.936 0 01.863-.863c.648 0 .965.287.965.863a9.196 9.196 0 01-.115 1.08c.017.362-.017.726-.101 1.08a9.267 9.267 0 002.519 3.022v-7.312l-5.283.014zm2.26-3.871c-.864 0-1.295-.403-1.295-1.195V3.251c0-.791.431-1.194 1.295-1.194h6.678a1.236 1.236 0 011.281 1.194v7.096c0 .792-.417 1.195-1.28 1.195h-6.679zm.533-7.326v1.828h5.498V4.216c0-.36-.144-.533-.432-.533h-4.419c-.432 0-.647.173-.647.533zm5.066 5.757c.288 0 .432-.187.432-.547V7.497h-5.498v1.929c0 .36.215.547.647.547h4.419zm5.052 13.241a.99.99 0 01-1.428-.335.994.994 0 01.463-1.392 7.34 7.34 0 005.268-8.175v-2.59c0-.576.331-.864.979-.864.648 0 .921.36.864.863v2.591a19.18 19.18 0 01-.332 3.757l2.879 2.26c1.079.863 1.871 1.438 2.375 1.827a.89.89 0 01.348 1.105.9.9 0 01-.247.334c-.36.432-.821.461-1.44.101-.356-.207-.693-.543-1.121-.969-.315-.314-.68-.677-1.138-1.075-1.08-.935-1.871-1.568-2.375-1.928a10.306 10.306 0 01-5.095 4.548v-.058zm-.502-19.369a.763.763 0 01-.678-.867.935.935 0 01.863-.864h11.629a.878.878 0 010 1.728h-5.282l-.431 3.108h4.044a1.167 1.167 0 01.251.02l.024.005a1.156 1.156 0 01.861.779c.05.159.065.327.044.492v8.635c0 .576-.317.864-.964.864a.765.765 0 01-.864-.864V9.138a.46.46 0 00-.532-.532h-6.146c-.432 0-.633.172-.633.532v7.815a.863.863 0 11-1.727 0V8.246c0-.792.431-1.195 1.295-1.195h2.26l.532-3.109-4.36-.1a.762.762 0 01-.186.003zm85.487 8.459a1.226 1.226 0 01-.678.022 1.24 1.24 0 01-.772-.583c-.287-.56-.1-1.108.547-1.612a29.074 29.074 0 0010.651-8.074 2.69 2.69 0 011.612-.964 2.117 2.117 0 011.612.964 24.714 24.714 0 0010.55 7.758 1.048 1.048 0 01.46.218 1.034 1.034 0 01.188 1.394 1.339 1.339 0 01-1.728.431A30.56 30.56 0 01188.462 3.9c-.216-.216-.403-.216-.547 0a34.166 34.166 0 01-10.866 8.276 1.264 1.264 0 01-.278.129zm-.039 5.628a1.078 1.078 0 01-.979-1.08 1.021 1.021 0 01.979-.963h22.697a1.064 1.064 0 011.08.964 1.11 1.11 0 01-1.08 1.08h-12.162a71.474 71.474 0 01-5.397 5.612.292.292 0 00-.086.202s0 .1.216.1c3.655-.143 7.527-.32 11.615-.532a30.668 30.668 0 00-2.26-2.26 1.065 1.065 0 010-1.439 1.268 1.268 0 011.626.1l1.713 1.728c1.25 1.198 2.199 2.17 2.884 2.872.261.268.484.496.671.683a.957.957 0 01.206.344.994.994 0 01-.307 1.096 1.122 1.122 0 01-1.626-.101 6.447 6.447 0 01-.532-.648l-.648-.648c-.648 0-1.684 0-3.123.216-5.095.216-8.996.389-11.731.547-.935 0-1.54-.187-1.827-.763a1.811 1.811 0 01.647-1.928 34.96 34.96 0 005.052-5.283l-7.628.101zm5.052-5.599a1.051 1.051 0 01-.965-1.065 1.022 1.022 0 01.965-.978h12.594a1.024 1.024 0 01.964.978 1.054 1.054 0 01-.964 1.065h-12.594zm32.499-7.038c0 .648.288.965.849.965l6.549.043a37.813 37.813 0 01-7.643 8.938 1.353 1.353 0 00-.216 1.612.955.955 0 001.08.415.95.95 0 00.36-.2 33.584 33.584 0 003.555-3.44v12.48a1.15 1.15 0 001.18 1.079 1.107 1.107 0 001.079-1.08V20.94h13.242v1.828c.057 1.296-.504 1.9-1.943 1.828h-3.009c-.503 0-.762.288-.762.864.067.652.499 1.012 1.295 1.08h3.224c2.447 0 3.584-1.109 3.454-3.34V10.722a1.294 1.294 0 00-1.295-1.296h-13.097a118.765 118.765 0 001.942-3.123h14.696a.962.962 0 00.964-.964.964.964 0 00-.964-.965H225.25a10.08 10.08 0 001.08-2.159 1.138 1.138 0 00-.648-1.439 1.252 1.252 0 00-1.612.964l-1.295 2.591h-7.643c-.561 0-.849.317-.849.964zm6.779 8.924v-2.476h-.058a.484.484 0 01.151-.425.481.481 0 01.206-.11l.016-.003a.51.51 0 01.132-.008.46.46 0 01.085.014h12.162a.489.489 0 01.547.532v2.476h-13.241zm0 4.85v-3.008h13.241v3.008h-13.241zm32.599-2.26c-.863.145-1.439 0-1.626-.532a1.22 1.22 0 01.763-1.44 26.994 26.994 0 0010.651-6.03 1.175 1.175 0 01.316-.216 2.166 2.166 0 011.627-.748c.489 0 1.108.288 1.827 1.065a24.738 24.738 0 0010.335 5.498 1.146 1.146 0 01.682.662 1.157 1.157 0 01-.049.95c-.144.504-.677.69-1.612.532a35.98 35.98 0 01-10.867-6.232.518.518 0 00-.748 0 35.353 35.353 0 01-5.464 3.838.868.868 0 01.254-.038h10.866a.864.864 0 010 1.727H259.75a.865.865 0 01-.574-1.509 35.332 35.332 0 01-5.515 2.474zm-1.079-7.642a1.037 1.037 0 010-1.511 18.427 18.427 0 004.519-6.347 1.183 1.183 0 011.512-.533c.561.144.748.533.532 1.18a8.214 8.214 0 01-.748 1.44h6.664a.961.961 0 01.863.964.94.94 0 01-.863.863h-7.744a20.168 20.168 0 01-3.238 3.872 1.44 1.44 0 01-1.526.072h.029zm5.383 16.681c-.864 0-1.339-.46-1.439-1.439v-4.85a1.302 1.302 0 01.376-1.063 1.309 1.309 0 011.063-.377h14.637a1.342 1.342 0 011.215.91c.058.17.08.35.066.53v4.85a1.316 1.316 0 01-.566 1.205 1.327 1.327 0 01-.715.234h-14.637zm3.224-16.364a1.037 1.037 0 01-1.439-.216 10.083 10.083 0 01-1.44-1.929c-.359-.504-.331-.892.101-1.18a1.108 1.108 0 011.439.1c.395.453.756.934 1.08 1.44.094.152.2.296.316.432a1.126 1.126 0 01-.057 1.353zm10.075 14.536a.5.5 0 00.343-.086.48.48 0 00.204-.446v-2.879a.497.497 0 00-.14-.407.486.486 0 00-.407-.14h-11.831c-.432 0-.648.188-.648.547v2.879c0 .345.216.532.648.532h11.831zm-5.167-16.364a1.092 1.092 0 01-.115-1.44 15.455 15.455 0 003.022-4.85 1.14 1.14 0 011.439-.648.936.936 0 01.533 1.296 7.425 7.425 0 01-.748 1.44h7.326a1.009 1.009 0 01.964.963.981.981 0 01-.964.864h-8.291c-.1.184-.211.361-.331.533l-1.18 1.51a1.28 1.28 0 01-1.612.332h-.043zm7.743 1.943a1.02 1.02 0 01-1.439-.331 81.324 81.324 0 01-.222-.284l-.006-.007c-.282-.36-.741-.95-1.384-1.753a.905.905 0 01.216-1.18 1.121 1.121 0 011.439.115l.439.54c.619.761 1.032 1.268 1.173 1.504a1.05 1.05 0 01-.173 1.396h-.043z",fillRule:"evenodd",clipRule:"evenodd"}))},ze=function(e){var t=e.showSlogn;return Object(N.a)(Re,{css:{fontSize:"1.3vw",position:"absolute",left:"50%",bottom:"5vw",transform:"translate(-50%,0%)",opacity:t?1:0,transition:"opacity 0.3s linear",width:"16.45vw",height:"1.4vw"},children:"\u6709\u95ee\u9898 \u5c31\u4f1a\u6709\u7b54\u6848"})},Te=function(e){var t=e.src;return Object(N.a)("div",{css:{margin:"auto 0",width:"12.5vw",height:"12.5vw",borderRadius:"12.5vw",position:"absolute",bottom:0,left:"50%",transform:"translate(-50%,0)",backgroundColor:"#eee",fontSize:0},children:t&&Object(N.a)("img",{width:"100%",css:{borderRadius:"12.5vw"},src:t,alt:"\u5934\u50cf"})})},Ae=function(e){var t=e.setShowEndVideo,n=e.handleOpacityChange,c=e.subscribeEvent,i=e.loadResourceRef,o=e.hasEndVideo,s=e.currentUser,u=e.itemType,l=e.itemId,h=Object(r.useState)(!1),d=Object(a.a)(h,2),f=d[0],b=d[1],v=Object(r.useState)(!1),p=Object(a.a)(v,2),m=p[0],j=p[1],y=Object(r.useState)(!1),g=Object(a.a)(y,2),w=g[0],E=g[1],S=Object(r.useState)(!1),R=Object(a.a)(S,2),z=R[0],T=R[1],A=Object(r.useRef)(!1),C=Object(r.useRef)(),P=Object(r.useRef)(!1),_=Object(r.useRef)([]),I=Object(r.useRef)(new Audio),L=Object(ue.a)(function(e){if(e){var t=_.current.findIndex(function(t){return t[e]});_.current[t]&&clearTimeout(_.current[t][e]),_.current.splice(t,1)}else _.current.forEach(function(e){"object"===typeof e?clearTimeout(Object.values(e)[0]):clearTimeout(e)}),_.current=[]}),k=Object(ue.a)(function(){t(!1),j(!1),T(!1),E(!1)}),x=Object(ue.a)(function(){j(!0),_.current.push({author:setTimeout(function(){T(!0),_.current.push({content:setTimeout(function(){b(!0),E(!0),I.current.play()},200)})})}),_.current.push({exit:setTimeout(function(){n({value:0}),_.current.push({destroy:setTimeout(function(){k(),L()},500)})},2300)})});Object(r.useEffect)(function(){i.current&&i.current.then(function(e){C.current=e.default||e,P.current&&!A.current&&o&&(L("timeout"),x())}),o&&P.current&&!A.current&&C.current&&(L("timeout"),x());var e=function(){t(!0),n({value:1,time:0}),P.current=!0,!1!==o?A.current?k():C.current&&o?x():_.current.push({timeout:setTimeout(function(){A.current=!0,j(!1),t(!1)},3e3)}):k()},a=c(O.b.ENDED,e).unsubscribe;return function(){a(e),L()}},[o]);var U,M={type:(U=u,U?U.charAt(0).toUpperCase()+U.slice(1):"")};return"answer"===u?M.token=l:M.id=l,Object(r.useEffect)(function(){I.current.src="https://zhstatic.zhihu.com/heifetz_static/1632738186715.wav"},[]),m&&Object(N.a)(G.a,{content:M,children:Object(N.b)(G.b,{zaType:"Video",zaBlock:"EndVideo",children:[Object(N.b)("div",{css:{position:"absolute",left:"50%",top:"20vw",transform:"translate(-50%,0)",textAlign:"center",opacity:z?1:0,transition:"opacity 0.2s linear"},children:[Object(N.b)("div",{css:{position:"relative",height:"5.2vw",width:"8vw",margin:"0 auto"},children:[f&&Object(N.a)(Ee,{animationData:C.current,showKanShan:f}),Object(N.a)(Te,{src:s.avatarUrl})]}),Object(N.a)(me,{currentUser:s})]}),Object(N.a)(ze,{showSlogn:w})]})})},Ce=function(e){return new Promise(function(t,n){var a=new Image;a.onload=t,a.onerror=n,a.src=e})},Pe=function(e){var t,c,i=e.itemId,o=e.itemType,s=e.subscribeEvent,u=Object(r.useState)(!1),l=Object(a.a)(u,2),h=l[0],d=l[1],f=Object(r.useState)({value:1,time:.5}),b=Object(a.a)(f,2),v=b[0],p=b[1],m=Object(r.useRef)(),j=Object(r.useState)(null),y=Object(a.a)(j,2),g=y[0],w=y[1],E=Object(r.useState)({}),S=Object(a.a)(E,2),R=S[0],z=S[1],T=Object(r.useRef)(!0),A=Object(r.useState)(!1),C=Object(a.a)(A,2),P=C[0],_=C[1];t=function(){m.current=n.e(1).then(n.t.bind(null,"icDE",3))},(c=Object(r.useRef)(!1)).current||(c.current=!0,t());var I=Object(ue.a)(function(e){var t=e.value,n=e.time;p({value:t,time:void 0===n?.5:n})}),L={development:"/endvideo"}.production||"",k=Object(ue.a)(function(){var e;window.fetch("".concat(L,"/video/tail?object_id=").concat(i,"&object_type=").concat(o),{headers:{"X-Referer":document.referrer,"Content-Type":"application/json","X-App-Za.OS":"webplayer"},credentials:"include"}).then(function(e){return e.json()}).then((e=Object(se.a)(oe.a.mark(function e(t){return oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.display_animation){e.next=13;break}return e.prev=1,e.next=4,Ce(t.author.avatar_url);case 4:w(!0),z({name:t.author.name,avatarUrl:t.author.avatar_url}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),w(!1);case 11:e.next=14;break;case 13:w(!1);case 14:case"end":return e.stop()}},e,null,[[1,8]])})),function(t){return e.apply(this,arguments)})).catch(function(){w(!1)})}),x=Object(ue.a)(function(){T.current&&(_(!0),T.current=!1)});return Object(r.useEffect)(function(){i&&o&&P&&k();var e=s(O.b.PLAY,x).unsubscribe;return function(){e(x)}},[k,P]),Object(N.a)("div",{css:{position:"absolute",height:"100%",width:"100%",left:0,top:0,backgroundColor:"black",visibility:h?"visible":"hidden"},children:Object(N.a)("div",{css:{opacity:v.value,transition:"opacity ".concat(v.time,"s linear"),backgroundColor:"black",height:"100%",width:"100%"},children:Object(N.a)(Ae,{itemId:i,itemType:o,currentUser:R,hasEndVideo:g,handleOpacityChange:I,subscribeEvent:s,setShowEndVideo:d,loadResourceRef:m})})})},_e=n("2mql"),Ie=n.n(_e),Le=n("IGer"),ke=n.n(Le),xe="https://pica.zhimg.com/80/v2-57c72e66dd4e5cdcc6c137915d81eb88_1440w.png";var Ne=function(e){var t=e.displayName||e.name||"Component",n=Object(r.memo)(function(t){var n=t.id,c=Object(r.useState)(""),i=Object(a.a)(c,2),o=i[0],s=i[1],u=Object(r.useState)(""),l=Object(a.a)(u,2),h=l[0],d=l[1],f=Object(r.useState)(!1),b=Object(a.a)(f,2),v=b[0],p=b[1],m=Object(r.useState)(!1),j=Object(a.a)(m,2),y=j[0],g=j[1],w=Object(r.useCallback)(function(e){e===O.b.PLAY_COUNT&&g(!0)},[]),E=Object(r.useCallback)(function(e){e.currentTarget.style.display="none",ke.a.increment("videoPlayer.watermark.load.error")},[]);Object(r.useEffect)(function(){var e,t=fetch("/api/v4/video/play/watermark",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({video_id:n})}),r=fetch("/api/v4/video/play/watermark_switch");Promise.all([t,r]).then((e=Object(se.a)(oe.a.mark(function e(t){return oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t[0].json();case 2:return e.t0=e.sent,e.next=5,t[1].json();case 5:return e.t1=e.sent,e.abrupt("return",[e.t0,e.t1]);case 7:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)})).then(function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1];s(n.logo),d(n.nick_name_url),p(r.watermark||n.watermarked)}).catch(function(){})},[n]);var S=new URL(location.href).searchParams,R=S.get("vzuu"),z=S.get("hideWatermark"),T=v||"1"===z||R||!y,A=Object(r.useMemo)(function(){return Object(N.b)(Oe.b,{alignItems:"center",height:"8.57%",width:"max-content",justifyContent:"flex-end",css:{position:"absolute",top:"1.9%",right:"1.07%"},children:[Boolean(h)&&Object(N.a)(Oe.c,{src:h,css:{display:"block"},height:"60%",mr:"-2px",onError:E}),Object(N.a)(Oe.c,{src:o||xe,css:{display:"block"},height:"100%",onError:E})]})},[h,o,E]);return Object(N.a)(e,Object.assign(Object.assign({},t),{},{watermark:T?null:A,onEvent:w}))});return n.displayName="withWatermark(".concat(t,")"),Ie()(n,e)},Ue=["autoplay"];function Me(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(b.a)(e);if(t){var r=Object(b.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var Fe=y()(navigator.userAgent),Be=function(e){Object(d.a)(n,e);var t=Me(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={hasError:!1,error:null,data:null,id:null,fullScreen:!1,externalData:{}},a.realHandler=function(e){var t=e.data||{},n=t.message,r=t.data;"data-set"===n&&a.setState({externalData:r})},a.addReceiveMessageListener=function(){window.addEventListener("message",a.realHandler,"*")},a.removeReceiveMessageListener=function(){window.removeEventListener("message",a.realHandler,"*")},a.load=function(){var e=a.props.id;return/^\d+$/.test(e)?L(e).then(function(e){return a.setState({data:e})}).catch(function(e){a.setState({hasError:!0,error:e.payload||null})}):(a.setState({hasError:!0,error:null}),Promise.reject())},a.onBeforePlay=function(e){return e?function(e){var t=Object(s.parse)(e).expiration,n=Date.now()/1e3;return t&&Number(t)<n+k}(e)?a.load():Promise.resolve():Promise.reject()},a.handleMessage=function(e){var t,n;switch(null===(t=(n=a.props).onEvent)||void 0===t||t.call(n,e),e){case O.b.ENTER_FULLSCREEN:case O.b.ENTER_PAGE_FULLSCREEN:a.refleshFullScreen(!0);break;case O.b.EXIT_FULLSCREEN:case O.b.EXIT_PAGE_FULLSCREEN:a.refleshFullScreen(!1)}},a.refleshFullScreen=function(e){a.setState({fullScreen:e})},a.addReceiveMessageListener(),a.urlParams=new URL(window.location.href).searchParams,a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.id&&(requestAnimationFrame(function(){window.parent.postMessage({from:"video-player-service",event:"onGriffithMount",id:e.props.id,timestamp:Date.now()},"*")}),this.load())}},{key:"componentDidUpdate",value:function(e){this.props.id!==e.id&&this.props.id&&this.load()}},{key:"componentWillUnmount",value:function(){this.removeReceiveMessageListener()}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,a=t.useMSE,r=t.playerProps,c=r.autoplay,i=Object(u.a)(r,Ue),o=t.watermark,s=this.state,l=s.data,h=s.hasError,d=s.error,f=s.fullScreen,b=s.externalData;if(h&&d)return Object(N.a)(F,{msg:d.message||"\u89c6\u9891\u52a0\u8f7d\u5931\u8d25"});if(!l)return null;var v,p=l.title,O=l.cover_url,j=l.watermarked,y=l.thumbnail,g=l.isConverting,w=(v=l.playlist,Z()(v,function(e,t,n){e[n.toLowerCase()]=t})),S=Fe.browser,R=S.major,z=S.name,T=Fe.os.name,A=a&&"Chrome"===z&&R>=49&&"Android"!==T&&"iOS"!==T,C=function(e){var t=J.find(function(t){return Boolean(e[t])});return t?e[t]:null}(w)||{},P=C.duration,_=void 0===P?0:P,I=C.width,L=void 0===I?0:I,k=C.height,x=void 0===k?0:k,M=Math.abs(L/x-16/9)<.012;if(g)return Object(N.a)(U,{thumbnail:y,msg:"\u89c6\u9891\u6b63\u5728\u8f6c\u7801\u4e2d..."});var B=this.urlParams.get("itemId"),V=this.urlParams.get("itemType");return Object(N.b)(m.d,Object.assign(Object.assign(Object.assign(Object.assign({},i),b),{},{localeConfig:{"zh-Hans":{"quality-ld":{text:"\u6d41\u7545 360P",narrow:"\u6d41\u7545"},"quality-sd":{text:"\u6e05\u6670 480P",narrow:"\u6e05\u6670"},"quality-hd":{text:"\u9ad8\u6e05 720P",narrow:"\u9ad8\u6e05"},"quality-fhd":{text:"\u8d85\u6e05 1080P",narrow:"\u8d85\u6e05"}}},standalone:!0,autoplay:c,id:n,title:p,error:h?d||{message:"\u89c6\u9891\u5df2\u88ab\u5220\u9664"}:null,cover:O,duration:_,sources:w,onBeforePlay:this.onBeforePlay,videoHeight:x,videoWidth:L,useMSE:A,locale:"zh-Hans",observeResize:!0,defaultQuality:"hd"},0===j&&{layerContent:o}),{},{initialObjectFit:M&&!f?"cover":"contain",onEvent:this.handleMessage,children:[Object(N.a)(m.b.Consumer,{children:function(e){var t=e.subscribeEvent;return Object(N.a)(re,{subscribeEvent:t,toastContructors:[E,ce]})}}),Object(N.a)(D,{id:n,useMSE:a}),Object(N.a)(Q,{id:n,autoplay:c}),Object(N.a)(X,{}),Object(N.a)(m.b.Consumer,{children:function(t){var n=t.subscribeEvent;if(B&&V&&"undefined"!==B&&"undefined"!==V)return Object(N.a)(Pe,{itemId:e.urlParams.get("itemId"),itemType:e.urlParams.get("itemType"),subscribeEvent:n})}})]}))}}]),n}(r.Component);Be.propTypes={id:p.a.string},Be.defaultProps={id:null,playerProps:{}},Be.getDerivedStateFromProps=function(e,t){var n=e.id;return n!==t.id&&n?{hasError:!1,error:null,data:null,id:n,fullScreen:!1,externalData:{}}:null};var Ve=Ne(Be);n("002B");function He(){return window.parent===window||/^https?:\/\/[^/]+\.(?:zhihu\.com|zhihu\.dev|vzuu\.com|candystars\.net|cntestdemo\.com)(?::\d+)?(?:\/|$)/.test(document.referrer)||/^https?:\/\/\d+\.\d+\.\d+\.\d+(?::\d+)?(?:\/|$)/.test(document.referrer)&&Object(s.parse)(location.search.replace("?","")).vzuu}function De(){var e=location.pathname.match(/^\/video\/(\d+)$/);return e&&e[1]?e[1]:null}var Ye=!0;function Ge(){if(!He())return null;var e=De(),t=function(){try{var e=Object(s.parse)(location.search);if(e.player)return JSON.parse(e.player)}catch(e){return}}();return Ye?window&&window.self!==window.top?void Object(i.render)(Object(N.a)(Ve,{id:e,useMSE:!1,playerProps:t}),document.getElementById("player")):null:Object(N.a)(Ve,{id:e,useMSE:!1,playerProps:t})}o.a.create({iframeFixed:{position:"fixed",top:0,left:0,width:"100%",height:"100%"},iframe:{width:"654px",height:"366px"}}),Object(O.c)(De(),"*",!0).subscribeMessage;Ge(),document.body.addEventListener("click",function(){}),document.body.addEventListener("touchstart",function(){}),document.body.addEventListener("touchend",function(){}),document.body.addEventListener("click",function(){},{capture:!0}),document.body.addEventListener("touchstart",function(){},{capture:!0}),document.body.addEventListener("touchend",function(){},{capture:!0})},kygt:function(e,t,n){"use strict";n.r(t);var a={host:"zhihu.".concat(location.host.includes("zhihu.dev")?"dev":"com")};t.default=a}},[[0,2,3]]]);
//# sourceMappingURL=client.chunk.e06a6860.js.map