(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1451:function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n={ONLY_SHOW:"ONLY_SHOW"},r=[1,2],c={1:{type:"invalid",text:"已失效"},2:{type:"audit",text:"审核中"}},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.validStatus;return r.includes(t)},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.validStatus,a=c[t];return a}},1476:function(e,t,a){"use strict";a.r(t),a.d(t,"PLUGIN_CARD_TYPE",(function(){return B})),a.d(t,"PLUGIN_DISPLAY_MODE",(function(){return rt})),a.d(t,"PLUGIN_CARD_STYLE",(function(){return at})),a.d(t,"ECOMMERCE_SOURCE_FROM",(function(){return q}));var n=a(45),r=a.n(n),c=a(123),o=a.n(c),i=a(24),s=a.n(i),l=a(27),d=a.n(l),u=a(34),m=a.n(u),p=a(22),v=a.n(p),h=a(29),f=a.n(h),C=a(1),E=a.n(C),g=a(37),k=a.n(g),y=a(51),b=function(e){if(!e)return null;var t=(Object(y.x)(e)||{}).parameters,a=void 0===t?"":t,n=Object(y.t)(a).plugcb,r=void 0===n?"":n;return r&&r.length?Object(y.t)(r):null},w=a(32),N=a.n(w),T=a(71),O=a.n(T),_=a(121);function x(e){var t=e.url,a=e.downloadUrl,n=e.cardType,r=e.os,c=e.parentType,o=e.urlToken,i=e.zhiContentInfo,s=(i=void 0===i?{}:i).cid,l=t.replace("__CREATIVEID__",Object(y.i)()||s);return"download"===n&&"ios"===r&&a?a:"message"===n?Object(y.a)(l,{source_type:c,source_id:o}):l}function S(e,t){if(e){var a=t?e:Object(_.removeBIZParameter)(e),n=document.createElement("a");n.href=a,"ios"===Object(y.k)().os&&t||(n.target="_blank"),n.rel="noopener noreferrer",n.click()}}function I(e){return L.apply(this,arguments)}function L(){return(L=O()(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){if(t){var a=null,n=document.createElement("iframe");n.src=t,n.style.display="none",document.body.appendChild(n),a=setTimeout((function(){clearTimeout(a),e({status:!1})}),2e3),document.addEventListener("visibilitychange",(function(){(document.hidden||document.webkitHidden)&&(clearTimeout(a),e({status:!0}))}))}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=function(e){return fetch("https://www.zhihu.com/api/v4/commercial/wechat/miniapp/scheme?url=".concat(e),{method:"GET"}).then((function(e){return e.status>=400?null:e.json()})).catch((function(e){console.error(e)}))},U=a(10),D=a.n(U),R=a(55),M=a.n(R);function P(e){return E.a.createElement("svg",r()({xmlns:"http://www.w3.org/2000/svg",width:"83",height:"83",viewBox:"0 0 83 83"},e),E.a.createElement("g",{fill:"none",fillRule:"evenodd"},E.a.createElement("circle",{cx:"41.5",cy:"41.5",r:"41.5",fill:"#0084FF"}),E.a.createElement("path",{fill:"#FFF",fillRule:"nonzero",d:"M22.4748737,38.5176187 C21.1080387,37.1507837 18.8919613,37.1507837 17.5251263,38.5176187 C16.1582912,39.8844537 16.1582912,42.1005311 17.5251263,43.4673662 L32.5251263,58.4673662 C33.8919613,59.8342012 36.1080387,59.8342012 37.4748737,58.4673662 L65.4673662,30.4748737 C66.8342012,29.1080387 66.8342012,26.8919613 65.4673662,25.5251263 C64.1005311,24.1582912 61.8844537,24.1582912 60.5176187,25.5251263 L35,51.042745 L22.4748737,38.5176187 Z"})))}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onCancel,a=e.data,n=void 0===a?{}:a,r=Object(C.useState)("open"),c=D()(r,2),o=c[0],i=c[1];function s(){var e=n.wechat,a=n.shareUrl,r=e;"wechat_share"!==n.cardType||e||(r=a),Object(y.e)(r);try{var c,o=document.createElement("iframe");o.src="weixin://",o.style.display="none",document.body.appendChild(o),c=setTimeout((function(){i("copy")}),2e3),document.addEventListener("visibilitychange",(function(){(document.hidden||document.webkitHidden)&&(clearTimeout(c),t())}))}catch(e){console.log(e)}}var l=function(){var e=n.cardType,a=void 0===e?"":e,r=n.wechat,c=!0,i="微信号已复制";return"wechat_share"===a&&((void 0===r?"":r)?i="公众号已复制":(c=!1,i="公众号链接已复制")),"open"===o?E.a.createElement(E.a.Fragment,null,E.a.createElement(P,{style:{height:"40px"}}),E.a.createElement("div",{className:"WechatModal-copy"},i),E.a.createElement("div",{className:"WechatModal-des"},"立即打开微信分享好友关注"),E.a.createElement("div",{className:"WechatModal-buttons"},E.a.createElement("div",{className:"WechatModal-button",onClick:t},"取消"),E.a.createElement("div",{className:"WechatModal-button active",onClick:s},"打开"))):E.a.createElement(E.a.Fragment,null,E.a.createElement("div",{className:"WechatModal-copy"},i),E.a.createElement("div",null,"也可按照以下步骤完成关注"),E.a.createElement("div",{className:"WechatModal-ol"},E.a.createElement("div",null,"1、打开微信",c?"":",在任意会话窗口复制链接"),E.a.createElement("div",null,"2、添加关注")),E.a.createElement("div",{className:"WechatModal-button close",onClick:t},"关闭"))},d=function(){var e=n.qrCode;return E.a.createElement("div",{onClick:t,className:"WechatModal-imgContent"},E.a.createElement("img",{src:e,className:""}),E.a.createElement("span",null,"请长按识别或微信扫一扫预览"))};function u(){var e=n.cardType;switch(void 0===e?"":e){case"wechat":case"wechat_share":return l();case"wechat_service":return d();default:return null}}return E.a.createElement("div",{className:"WechatModal"},E.a.createElement("div",{className:"WechatModal-mask"}),E.a.createElement("div",{className:"WechatModal-content"},E.a.createElement("div",{className:"WechatModal-text"},u())))}j.show=function(e){var t=document.createElement("div");document.body.appendChild(t);M.a.render(E.a.createElement(j,{onCancel:function(){setTimeout((function(){M.a.unmountComponentAtNode(t),document.body.removeChild(t)}))},data:e}),t)};var z={wechat:function(e){var t=e.packageName,a=e.isZmHandle,n=e.wechat,r=e.conversion;if(a)return j.show(e),Promise.resolve({status:!0});return F({type:_.HYBRID_ACTION_EVENT.adOpenWechat,payload:{deeplink:"weixin://",packageName:t,wechatId:n,conversion:r}})},wechat_share:function(e){return H.apply(this,arguments)},wechat_minipro:V,wechat_service:function(e){var t=e.appid,a=void 0===t?"wx1abcffe23814c5ea":t,n=e.scene,r=void 0===n?"0":n,c=e.templateId,o=void 0===c?"lpmljOmEI0FyLCcDosc5cxArV1LHDYKIqX6Mk4RbAmI":c,i=e.id,s=e.si,l=e.url,d=e.conversion;if(e.isZmHandle)return j.show(e),Promise.resolve({status:!0});return F({type:_.HYBRID_ACTION_EVENT.adWxPushOnceMsgAuth,payload:{appid:a,scene:r,template_id:o,pluginId:i,conversion:d,si:s,url:l}})},message:function(e){var t=e.parentType,a=e.urlToken,n=e.hashId;return F({type:_.HYBRID_ACTION_EVENT.baseOpenInbox,payload:{inbox_id:n,initial_message:"",auto_focus:!0,title:"",source_type:t,source_id:a}})},download:function(e){return V(e).then((function(t){return t.status?t:function(e){var t=e.downloadUrl,a=e.downloadConversion,n=void 0===a?[]:a,r=e.productName,c=e.picUrl,o=e.isZmHandle;if(!t)return Promise.resolve({status:!1});if(o&&"android"===Object(y.k)().os)return S(t),Promise.resolve({status:!0});if("ios"===Object(y.k)().os)return W({url:x(e)});return F({type:_.HYBRID_ACTION_EVENT.adDownloadApk,payload:{adjson:JSON.stringify({ads:[{conversion_tracks:n,creatives:[{asset:{brand_name:r,app_promotion_url:t,brand_logo:c}}]}]})}})}(e)}))},normal:V,conversion:function(e){return F({type:_.HYBRID_ACTION_EVENT.adOpenForm,payload:e})},telephone:function(e){var t=e.phoneNumber;return new Promise((function(e){try{window.location.href="tel://".concat(t),e({status:!0})}catch(t){e({status:!0})}}))},baseUrl:function(e){var t=e.url;return F({type:_.HYBRID_ACTION_EVENT.baseOpenURL,payload:{url:t}})}},B=Object.keys(z).reduce((function(e,t){return e[t]=t,e}),{});function F(){return _.dispatch.apply(_,arguments).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()({status:!0},e)})).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()({status:!1},e)}))}function H(){return(H=O()(N.a.mark((function e(t){var a,n,r,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.shareUrl,n=t.shareDesc,r=t.picUrl,c=t.conversion,!t.isZmHandle){e.next=4;break}return j.show(t),e.abrupt("return",Promise.resolve({status:!0}));case 4:return e.abrupt("return",F({type:_.HYBRID_ACTION_EVENT.openWechatShare,payload:{deeplink:"weixin://",conversion:c,shareUrl:a,shareDesc:n,picUrl:r}}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){return Z.apply(this,arguments)}function Z(){return(Z=O()(N.a.mark((function e(t){var a,n,r,c,i,s,l,d,u,m,p,v;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.deeplinkUrl,n=t.zhiContentInfo,r=void 0===n?{}:n,c=t.isZmHandle,a){e.next=3;break}return e.abrupt("return",Promise.resolve({status:!1}));case 3:if(!c){e.next=33;break}if(!(a.indexOf("zhihu2wechat://gotowechat?id=gh_bc33767b4df6")>-1)){e.next=29;break}if(!((i=decodeURIComponent(a).split("url="))[1].indexOf("https://mp.weixin.qq.com/")>-1)){e.next=23;break}if(!(/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent))){e.next=10;break}return e.abrupt("return",Promise.resolve({status:!1}));case 10:return e.next=12,A(i[1]);case 12:if(!(s=e.sent)||!s.scheme){e.next=20;break}return e.next=16,I(s.scheme);case 16:return l=e.sent,e.abrupt("return",l);case 20:return e.abrupt("return",Promise.resolve({status:!1}));case 21:e.next=27;break;case 23:return e.next=25,I(a);case 25:return d=e.sent,e.abrupt("return",d);case 27:e.next=33;break;case 29:return e.next=31,I(a);case 31:return u=e.sent,e.abrupt("return",Promise.resolve({status:u.status}));case 33:return m=Object(y.k)(),p=m.platform,v=Object(y.p)(a,o()({},r,{os:p,ts:parseInt(Date.now()/1e3)})),e.abrupt("return",F({type:_.HYBRID_ACTION_EVENT.adECommerceOpen,payload:o()({},t,{deeplinkUrl:v})}));case 36:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e){var t=e.url,a=e.adjson;if(e.isZmHandle)return Promise.resolve({status:!1});var n={adjson:JSON.stringify({ads:[{creatives:[{asset:{landing_url:t}}]}]})};return F({type:_.HYBRID_ACTION_EVENT.commonAd,payload:a?e:n})}function Y(){return Promise.resolve({status:!1})}var G=function e(){s()(this,e)};G.execute=function(){var e=O()(N.a.mark((function e(t){var a,n,r,c,i,s,l,d,u,m,p,v,h,f,C,E,g,k,b,w,T,O;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.isCanvas,n=t.cardType,r=t.isZmHandle,c=void 0!==r&&r,i=t.zhiContentInfo,s=t.url,l=t.adjson,d=Object(y.k)(),u=d.os,m=d.platform,p=parseInt(Date.now()/1e3),v=o()({},t,{url:Object(y.p)(s,o()({},i,{os:m,ts:p}))}),l){h="";try{h=JSON.parse(l),(f=h.ads)&&f.length&&(h.ads=f.map((function(e){var t=e.creatives;return t&&t.length>0&&(t=t.map((function(e){var t=e.asset;if(null==t?void 0:t.landing_url){var a=t.landing_url;return o()({},e,{asset:o()({},t,{landing_url:Object(y.p)(a,o()({},i,{os:m,ts:p}))})})}return e}))),o()({},e,{creatives:t})}))),v.adjson=JSON.stringify(h)}catch(e){console.error("adjsonReplaceError",e)}}if(C=x(v),"pc"!==u){e.next=9;break}return S(C),e.abrupt("return");case 9:E=0,g=[{func:z[a?"conversion":n]},{func:W}];case 11:if(!(E<g.length)){e.next=22;break}return k=g[E],b=k.func,w=void 0===b?Y:b,T=k.payload,O=void 0===T?v:T,e.next=16,w(O);case 16:if(!e.sent.status){e.next=19;break}return e.abrupt("return");case 19:E++,e.next=11;break;case 22:S(C,c);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var X=a(1451),J=k()({},"download","download"),q={CONTENT:"CONTENT",CANVAS:"CANVAS"},K=function(){function e(t){var a=this;s()(this,e),this._getMacroOptions=function(){var e=a.getRenderData(),t=e.xSuger,n=e.cardType,r=e.urlToken,c=void 0===r?"":r,o=e.aPageId,i=void 0===o?"":o,s=e.psi,l=void 0===s?"":s,d=e.parseUA,u=Object(y.k)(d).os;return{xSuger:t,cardType:n,aToken:c,aPageId:i,psi:l,et:"".concat(u,"_").concat(J[n]||"commodity")}},this._mergeZhiContentInfo=function(e){e&&a._mergeRenderData({zhiContentInfo:e})},this.setZhicontentInfo=function(e){var t=b(e);a._mergeZhiContentInfo(t)},this.getContentSign=function(){_.dispatch({type:_.HYBRID_ACTION_EVENT.adGetContentSign}).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=(t=void 0===t?{}:t).plugcb;if(n&&n.length){var r=Object(y.t)(n),c=r.cid,o=r.adid,i=r.zoneid,s=r.sid,l=r.campaignid,d=r.cbed;a._mergeRenderData({zhiContentInfo:{cid:c,adid:o,zoneid:i,sid:s,campaignid:l,cbed:d}})}}))},this._mergeRenderData=function(e){a.renderData=o()({},a.renderData,e)},this.setPosition=function(e){a.renderData=o()({},a.renderData,{position:e})},this.renderData={},this._calculateRenderData(t)}return d()(e,[{key:"setPropsData",value:function(e){this._calculateRenderData(e)}},{key:"preload",value:function(){if(!this._stopTracking()){var e=this.renderData,t=e.isCanvas,a=e.adjson;t&&_.dispatch({type:_.HYBRID_ACTION_EVENT.preloadAd,payload:{adjson:a}})}}},{key:"getConversionEv",value:function(e){var t=e.cardType,a=e.deeplinkUrl;return["normal","download"].includes(t)&&a||["wechat_minipro","wechat_service"].includes(t)?t:""}},{key:"handleClick",value:function(){var e,t,a,n,r=this.renderData,c=r.data,i=r.parentType,s=r.urlToken,l=r.os,d=r.downloadUrl,u=r.landingUrl,m=r.productName,p=r.deeplinkUrl,v=r.cardType,h=r.isZmHandle,f=r.zhiContentInfo,C=r.position;if(!this._stopTracking()){var E=o()({},_.getTrackMacroOptions(),this._getMacroOptions()),g=Object(y.v)({conversion:null!==(e=null===(t=this.renderData)||void 0===t?void 0:t.conversion)&&void 0!==e?e:[]},o()({},E,{cardType:this.getConversionEv({cardType:v,deeplinkUrl:p}),position:C})).conversion,k=Object(y.v)({downloadConversion:null!==(a=null===(n=this.renderData)||void 0===n?void 0:n.conversion)&&void 0!==a?a:[]},o()({},E,{cardType:""})).downloadConversion;try{G.execute(o()({},c,{token:s,pagetype:i,urlToken:s,parentType:i,os:l,downloadUrl:d,landingUrl:u,productName:m,conversion:g,downloadConversion:k,isZmHandle:h,zhiContentInfo:f}))}catch(e){console.error(e.message)}}}},{key:"getRenderData",value:function(){return this.renderData}},{key:"getTrackInfo",value:function(e){if(this._stopTracking())return{};var t,a,n,r=this.getRenderData(),c=r.ssid,i=r.id,s=this.getRenderData().trackUrl;if(e){var l=b(e);l&&(t=s,a=l,n=o()({},t),Object.keys(t).forEach((function(e){var r=t[e];r&&Array.isArray(r)&&(n[e]=(r||[]).map((function(e){return Object(y.p)(e,a)})))})),s=n)}var d=c?"ssid=".concat(c):"";function u(e){var t=e.includes("?")?"&":"?";return"".concat(e).concat(t).concat(d)}return{zaClick:{id:5641},zaView:{id:5642},zaEnvBlock:"advertPluginCard",views:Object(y.g)(s,"view",[]).map(u),clicks:Object(y.g)(s,"click",[]).map(u),getMacroOptions:this._getMacroOptions,isReplacePosition:!0,setPosition:this.setPosition,id:i}}},{key:"_stopTracking",value:function(){return this.renderData.cmpStatus===X.a.ONLY_SHOW}},{key:"_calculateRenderData",value:function(e){var t=e.data,a=e.suger,n=e.urlToken,r=e.aPageId,c=void 0===r?"":r,o=e.parentType,i=e.cmpStatus,s=e.className,l=e.isZmHandle,d=e.pluginSourceFrom,u=void 0===d?q.CONTENT:d,m=e.ssid,p=e.psi,v=e.parseUA,h=e.cardIndex,f=t.url,C=t.price,E=t.picUrl,g=t.cardType,k=t.description,b=t.interactionLaunch,w=t.logo,N=t.trackUrl,T=t.productName,O=t.isCanvas,x=t.adjson,S=t.androidUrl,I=t.iosAppStoreUrl,L=t.validStatus,A=t.webExperiment,U=t.labelName,D=t.phoneNumber,R=t.pluginStyle,M=t.conversion,P=t.deeplinkUrl,j=t.appInfo,z=t.channelSource,B=t.id,F=Object(y.k)(v).os,H={ios:I,android:S}[F]||"";this._mergeRenderData({deeplinkUrl:P,conversion:M,showCartIcon:"去购买"===b,isHidden:O&&!x||-1===L,originData:e,showPrice:!!C,price:+parseFloat((C/100).toPrecision(12)),price2Decimal:_.formatPrice(C),picUrl:E,phoneNumber:D,cardType:g,description:k,interactionLaunch:b||"去购买",logo:w,trackUrl:N,productName:"".concat(T," 的推荐"),productNameNew:T,xSuger:a,aPageId:c,data:t,urlToken:n,parentType:o,isCanvas:O,adjson:x,downloadUrl:H,landingUrl:f,os:F,cmpStatus:i,pluginStyle:R,webExperiment:A,className:s||"",labelName:U,isZmHandle:l,pluginSourceFrom:u,appInfo:j,channelSource:z,ssid:m,id:B,psi:p,parseUA:v,cardIndex:h})}}]),e}(),Q=a(7),$=a.n(Q);function ee(e){return E.a.createElement("svg",r()({xmlns:"http://www.w3.org/2000/svg",width:"27",height:"24",viewBox:"0 0 27 24"},e),E.a.createElement("path",{fill:"#0084FF",d:"M25.0589726,39.0133333 C25.4056402,39.0133333 25.7340622,39.0755556 26.0442385,39.2 C26.3544148,39.3244444 26.6280998,39.4977778 26.8652934,39.72 C27.1024871,39.9422222 27.2849437,40.2044444 27.4126634,40.5066667 C27.540383,40.8088889 27.6042428,41.1288889 27.6042428,41.4666667 C27.6042428,41.8044444 27.540383,42.1244444 27.4126634,42.4266667 C27.2849437,42.7288889 27.1024871,42.9911111 26.8652934,43.2133333 C26.6280998,43.4355556 26.3544148,43.6133333 26.0442385,43.7466667 C25.7340622,43.88 25.4056402,43.9466667 25.0589726,43.9466667 C24.6940593,43.9466667 24.3610759,43.88 24.0600224,43.7466667 C23.758969,43.6133333 23.4898454,43.4355556 23.2526518,43.2133333 C23.0154581,42.9911111 22.8330015,42.7288889 22.7052818,42.4266667 C22.5775622,42.1244444 22.5137023,41.8044444 22.5137023,41.4666667 C22.5137023,41.1288889 22.5775622,40.8088889 22.7052818,40.5066667 C22.8330015,40.2044444 23.0154581,39.9422222 23.2526518,39.72 C23.4898454,39.4977778 23.758969,39.3244444 24.0600224,39.2 C24.3610759,39.0755556 24.6940593,39.0133333 25.0589726,39.0133333 Z M36.4442675,39.0666667 C36.7909351,39.0666667 37.1239185,39.1288889 37.4432176,39.2533333 C37.7625167,39.3777778 38.0362017,39.5511111 38.2642725,39.7733333 C38.4923433,39.9955556 38.6748,40.2577778 38.8116425,40.56 C38.948485,40.8622222 39.0169062,41.1822222 39.0169062,41.52 C39.0169062,41.8577778 38.948485,42.1777778 38.8116425,42.48 C38.6748,42.7822222 38.4923433,43.0444444 38.2642725,43.2666667 C38.0362017,43.4888889 37.7625167,43.6666667 37.4432176,43.8 C37.1239185,43.9333333 36.7909351,44 36.4442675,44 C36.0975998,44 35.7691779,43.9333333 35.4590016,43.8 C35.1488253,43.6666667 34.8797017,43.4888889 34.6516309,43.2666667 C34.4235601,43.0444444 34.2411034,42.7822222 34.1042609,42.48 C33.9674185,42.1777778 33.8989972,41.8577778 33.8989972,41.52 C33.8989972,41.1822222 33.9674185,40.8622222 34.1042609,40.56 C34.2411034,40.2577778 34.4235601,39.9955556 34.6516309,39.7733333 C34.8797017,39.5511111 35.1488253,39.3777778 35.4590016,39.2533333 C35.7691779,39.1288889 36.0975998,39.0666667 36.4442675,39.0666667 Z M41.042175,23.92 C41.5530536,23.92 41.9498968,23.9866667 42.2327046,24.12 C42.5155124,24.2533333 42.7162147,24.4177778 42.8348116,24.6133333 C42.9534084,24.8088889 43.0081454,25.0177778 42.9990226,25.24 C42.9898997,25.4622222 42.9579698,25.6533333 42.9032328,25.8133333 C42.8484958,25.9733333 42.7344604,26.3022222 42.5611266,26.8 C42.3877928,27.2977778 42.1916519,27.8444444 41.9727039,28.44 C41.7537559,29.0355556 41.5393694,29.6266667 41.3295442,30.2133333 C41.1197191,30.8 40.9600695,31.2622222 40.8505955,31.6 C40.6134019,32.3111111 40.3123484,32.8044444 39.9474351,33.08 C39.5825218,33.3555556 39.135503,33.4933333 38.6063787,33.4933333 L37.6758498,33.4933333 L35.8968975,33.4933333 L33.5705752,33.4933333 L31.025305,33.4933333 L24.2379177,33.4933333 L24.6484451,35.8933333 L38.4421678,35.8933333 C39.3179597,35.8933333 39.7558556,36.2577778 39.7558556,36.9866667 C39.7558556,37.3422222 39.6691887,37.6488889 39.4958549,37.9066667 C39.3225211,38.1644444 38.9804149,38.2933333 38.4695363,38.2933333 L37.1558484,38.2933333 L34.6105781,38.2933333 L31.463201,38.2933333 L28.2610868,38.2933333 L25.633711,38.2933333 L24.1284437,38.2933333 C23.7635304,38.2933333 23.4579155,38.2133333 23.211599,38.0533333 C22.9652826,37.8933333 22.7600188,37.6844444 22.5958078,37.4266667 C22.4315969,37.1688889 22.2993158,36.8888889 22.1989646,36.5866667 C22.0986135,36.2844444 22.0210694,36 21.9663324,35.7333333 C21.9480867,35.6266667 21.8979112,35.3688889 21.8158057,34.96 C21.7337002,34.5511111 21.633349,34.04 21.5147522,33.4266667 C21.3961554,32.8133333 21.2638743,32.1288889 21.117909,31.3733333 C20.9719437,30.6177778 20.8259784,29.8577778 20.680013,29.0933333 C20.3333454,27.2977778 19.9410636,25.2977778 19.5031677,23.0933333 L17.4505304,23.0933333 C17.1768454,23.0933333 16.9487746,23.0266667 16.7663179,22.8933333 C16.5838613,22.76 16.4333345,22.6 16.3147377,22.4133333 C16.1961409,22.2266667 16.1140354,22.0266667 16.0684212,21.8133333 C16.0228071,21.6 16,21.4044444 16,21.2266667 C16,20.8711111 16.1231582,20.5777778 16.3694747,20.3466667 C16.6157912,20.1155556 16.9487746,20 17.3684249,20 L17.9705318,20 L18.5179017,20 L19.2021142,20 L20.1326431,20 C20.4975564,20 20.789487,20.0533333 21.008435,20.16 C21.227383,20.2666667 21.4007168,20.4 21.5284364,20.56 C21.6561561,20.72 21.7473844,20.8888889 21.8021214,21.0666667 C21.8568584,21.2444444 21.9024726,21.3955556 21.9389639,21.52 C21.9754552,21.6622222 22.0119466,21.8622222 22.0484379,22.12 C22.0849292,22.3777778 22.1214206,22.64 22.1579119,22.9066667 C22.2126489,23.2266667 22.2673859,23.5644444 22.3221229,23.92 L41.042175,23.92 Z",transform:"translate(-16 -20)"}))}var te=a(1436);var ae={invalid:function(e){var t=e.text;return E.a.createElement(E.a.Fragment,null,E.a.createElement("span",{className:"zh-advert-pligin-invalid-replace-sign"},E.a.createElement(te.a,{width:17}),t),E.a.createElement("span",{className:"zh-advert-pligin-invalid-replace-placeholder"}," "))},audit:function(e){var t=e.text;return E.a.createElement(E.a.Fragment,null,E.a.createElement("span",{className:"zh-advert-plugin-audit-replace-sign"},E.a.createElement(te.a,{width:17}),t),E.a.createElement("span",{className:"zh-advert-plugin-audit-replace-placeholder"}," "))}},ne=function(e){function t(){return s()(this,t),m()(this,v()(t).apply(this,arguments))}return f()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.signData,n=a.text,r=a.type,c=ae[r];return c?E.a.createElement(c,{text:n}):t}}]),t}(C.Component);function re(){return E.a.createElement(te.a,{width:17,style:{flexShrink:0}})}ne.defaultProps={signData:{}};var ce=ne,oe=a(404),ie=function(e){e.align,e.url;return null},se=function(e){var t=e.align,a=void 0===t?"center":t,n=e.data,r=void 0===n?{}:n,c=e.parseUA,o=r.cardType;return o&&["message"].includes(o)||Object(y.l)(c)?"":E.a.createElement(ie,{align:a})},le="ecommerce-ad",de=function(e){var t=e.data,a=t.picUrl,n=t.logo,r=t.productName,c=t.description,o=t.price,i=t.interactionLaunch,s=t.showCartIcon,l=t.showPrice,d=t.className,u=t.data,m=t.parseUA,p=e.onSetRef,v=e.onClick;return E.a.createElement("div",{className:"".concat(le,"-container ").concat(d)},E.a.createElement("div",{className:le,ref:p,onClick:v,"data-ad-type":"ecommerce-ad-card"},E.a.createElement("div",{className:"".concat(le,"-img"),style:{backgroundImage:"url(".concat(a,")")}}),E.a.createElement("div",{className:$()("".concat(le,"-main"),{"ecommerce-ad-main-play":l})},E.a.createElement("div",{className:"".concat(le,"-main-content")},E.a.createElement("header",{className:$()("".concat(le,"-main-content-title"),{"ecommerce-ad-main-content-title-play":l})},E.a.createElement(oe.a,{alt:"",className:"".concat(le,"-main-content-title-logo"),src:n,align:"middle"}),r),E.a.createElement("div",{className:$()("".concat(le,"-main-content-des"),{"ecommerce-ad-main-content-des-none":!l})},c),l&&E.a.createElement("div",{className:"".concat(le,"-main-content-price")},"¥",o))),E.a.createElement(ce,{signData:X.b(u)},E.a.createElement("div",{className:"".concat(le,"-icon")},s&&E.a.createElement(ee,{className:"".concat(le,"-main-content-purchase")}),i))),E.a.createElement(se,{align:"center",data:u,parseUA:m}))};function ue(e){return E.a.createElement("svg",r()({width:"24px",height:"24px",viewBox:"0 0 16 28"},e),E.a.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(-16 -10)"},E.a.createElement("rect",{width:"48",height:"48"}),E.a.createElement("path",{d:"M16.5815824,37.3821495 C17.3536131,38.2059502 18.6110874,38.2059502 19.3860425,37.3821495 L31.4187837,25.4877594 C32.1937388,24.6639587 32.1937388,23.3329674 31.4187837,22.5091668 L19.3860425,10.6178505 C18.6110874,9.79404984 17.3565375,9.79404984 16.5815824,10.6178505 C15.8066273,11.4416511 15.8066273,12.7726424 16.578658,13.5964431 L26.6666667,24 L16.5815824,34.4035569 C15.8066273,35.2273576 15.8066273,36.5583489 16.5815824,37.3821495 Z"})))}var me="ecommerce-ad-arrow",pe=function(e){var t=e.data,a=t.picUrl,n=t.description,r=t.data,c=t.productName,o=t.interactionLaunch,i=t.webExperiment,s=t.parseUA,l=e.onClick,d=e.onSetRef,u=e.isBottomStyle,m=(i||{}).shangyebiaoshi;return E.a.createElement("div",{className:"ecommerce-ad-box"},E.a.createElement("div",{className:$()(me,{"ecommerce-ad-bottom-style":u}),onClick:l,ref:d,"data-ad-type":"ecommerce-ad-card"},E.a.createElement("div",{className:"".concat(me,"-img"),style:{backgroundImage:"url(".concat(a,")")}},m?E.a.createElement("div",{className:"".concat(me,"-sign")},E.a.createElement("div",{className:"".concat(me,"-sign-text")},m)):null),E.a.createElement("div",{className:"".concat(me,"-main")},E.a.createElement("div",{className:"".concat(me,"-main-content")},u&&E.a.createElement("div",{className:"".concat(me,"-main-content-title")},c.slice(0,-3)),E.a.createElement("div",{className:"".concat(me,"-main-content-des")},E.a.createElement("span",null,n))),E.a.createElement(ce,{signData:X.b(r)},u?E.a.createElement("div",{className:"".concat(me,"-button")},o):E.a.createElement("div",{className:"".concat(me,"-icon")},E.a.createElement(ue,{width:"8px",height:"14px"}))))),E.a.createElement(se,{data:r,parseUA:s}))};function ve(e){return E.a.createElement("svg",r()({width:"14",height:"13",viewBox:"0 0 14 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),E.a.createElement("path",{d:"M1.77384 11.3751C0.942575 10.5438 0.942575 9.19607 1.77384 8.36481L3.62091 6.51773C3.82838 6.31027 3.82838 5.9739 3.62091 5.76643C3.41345 5.55897 3.07708 5.55897 2.86961 5.76643L1.02254 7.61351C-0.223658 8.8597 -0.223658 10.8802 1.02254 12.1264C2.26873 13.3726 4.28921 13.3726 5.5354 12.1264L7.38248 10.2793C7.58995 10.0718 7.58995 9.73546 7.38248 9.528C7.17501 9.32053 6.83864 9.32053 6.63118 9.528L4.7841 11.3751C3.95284 12.2063 2.6051 12.2063 1.77384 11.3751ZM5.61858 3.01746C5.41112 3.22493 5.41112 3.5613 5.61858 3.76876C5.82605 3.97623 6.16242 3.97623 6.36988 3.76876L8.25739 1.88126C9.08865 1.05 10.4364 1.05 11.2677 1.88126C12.0989 2.71252 12.0989 4.06026 11.2677 4.89152L9.38015 6.77903C9.17268 6.98649 9.17268 7.32286 9.38015 7.53033C9.58761 7.73779 9.92398 7.73779 10.1314 7.53033L12.019 5.64282C13.2651 4.39663 13.2651 2.37615 12.019 1.12996C10.7728 -0.116235 8.75228 -0.116237 7.50609 1.12996L5.61858 3.01746ZM9.38915 4.51667C9.59661 4.3092 9.59661 3.97284 9.38915 3.76537C9.18168 3.5579 8.84531 3.5579 8.63785 3.76537L3.62917 8.77404C3.42171 8.98151 3.42171 9.31788 3.62917 9.52534C3.83664 9.73281 4.17301 9.73281 4.38048 9.52534L9.38915 4.51667Z",fill:"#175199"}))}function he(e){return e.isFailurePlugin?E.a.createElement(re,null):E.a.createElement(ve,null)}var fe=function(e){var t=e.data,a=t.description,n=t.data,r=t.parseUA,c=e.onClick,o=e.onSetRef,i=X.c(n);return E.a.createElement("p",null,E.a.createElement("p",{className:"ecommerce-ad-link",onClick:c,ref:o,"data-ad-type":"ecommerce-ad-card"},E.a.createElement(he,{isFailurePlugin:i}),a),E.a.createElement(se,{align:"left",data:n,parseUA:r}))},Ce="ecommerce-ad-floatNode";function Ee(e){var t=e.imgSrc,a=e.description,n=e.onClick,r=e.onSetRef,c=e.isExpand;return E.a.createElement("div",{className:$()(Ce,{"Float-node-fadeIn":!c}),onClick:n,ref:r},E.a.createElement(oe.a,{className:"".concat(Ce,"-img"),src:t}),E.a.createElement("span",{className:"".concat(Ce,"-desc")},a))}function ge(){return E.a.createElement("svg",{width:"6",height:"9",viewBox:"0 0 6 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},E.a.createElement("path",{d:"M3.31467 4.5L0.745606 7.0685C0.418131 7.39598 0.418131 7.92692 0.745607 8.25439C1.07308 8.58187 1.60402 8.58187 1.9315 8.25439L5.09295 5.09295C5.25028 4.93572 5.33867 4.72242 5.33867 4.5C5.33867 4.27758 5.25028 4.06428 5.09295 3.90705L1.9315 0.745606C1.60402 0.418131 1.07308 0.418131 0.745607 0.745606C0.418131 1.07308 0.418131 1.60402 0.745606 1.9315L3.31467 4.5Z",fill:"#FF7955"}))}var ke="ecommerce-ad-commodity",ye="ecommerce-ad-commodity-box",be=function(e){var t=e.data,a=t.picUrl,n=t.showPrice,r=t.description,c=t.data,o=t.channelSource,i=t.price2Decimal,s=t.webExperiment,l=t.parseUA,d=e.onClick,u=e.onSetRef,m=(s||{}).shangyebiaoshi;return E.a.createElement("div",{className:$()("ecommerce-ad-box",ye)},E.a.createElement("div",{className:"ecommerce-ad-commodity",onClick:d,ref:u,"data-ad-type":"ecommerce-ad-card"},E.a.createElement("div",{className:"".concat(ke,"-img"),style:{backgroundImage:"url(".concat(a,")")}},m?E.a.createElement("div",{className:"".concat(ke,"-sign")},E.a.createElement("div",{className:"".concat(ke,"-sign-text")},m)):null),E.a.createElement("div",{className:"".concat(ke,"-main")},E.a.createElement("div",{className:"".concat(ke,"-main-content")},E.a.createElement("div",{className:"".concat(ke,"-main-content-des")},E.a.createElement("span",null,r)),E.a.createElement("div",{className:"".concat(ke,"-main-content-source")},o||"")),E.a.createElement("div",{className:"".concat(ye,"-main-second")},E.a.createElement("div",{className:"".concat(ye,"-main-second-price")},n&&"¥".concat(i)),E.a.createElement(ce,{signData:X.b(c)},E.a.createElement("div",{className:"".concat(ye,"-main-second-right")},"去购买",E.a.createElement("div",{className:"".concat(ye,"-icon")},E.a.createElement(ge,{className:"rightArrow"}))))))),E.a.createElement(se,{data:c,parseUA:l}))};function we(e){return E.a.createElement("svg",r()({width:"24",height:"24",viewBox:"0 0 24 24"},e),E.a.createElement("path",{d:"M16.1917 20C14.4179 19.9167 12.0796 18.25 9.90253 15.5L9.09622 14.5C6.91918 11.6667 5.79035 9 6.03224 7.25C6.27413 6 8.04802 5 9.01559 5C9.49937 5 9.66064 5.25 9.74127 5.41667C10.3057 6.5 11.0314 8.33333 11.0314 8.91667V9.08333C10.8701 9.41667 10.6282 9.58333 10.3863 9.66667C9.98316 9.91667 9.8219 10 9.8219 10.4167C9.8219 10.5 9.90253 11 11.3539 12.9167L11.9989 13.6667C13.4503 15.4167 13.8534 15.6667 14.0147 15.6667C14.3372 15.75 14.4985 15.5833 14.7404 15.25C14.9017 15 15.1435 14.75 15.4661 14.75H15.6273C16.2724 14.9167 17.885 16 18.7719 16.75C18.9332 16.8333 19.0945 17.0833 18.9332 17.75C18.6107 18.5833 17.3206 20 16.1917 20Z",fill:"#0084FF"}))}var Ne="ecommerce-ad-TelephoneCard";var Te=Object.freeze({NO_VERIFY:"NONE",ALL_VERIFY:"ALL",CHECK_AUTO:"WRITE"}),Oe=function(e){function t(e){var a;s()(this,t),(a=m()(this,v()(t).call(this,e))).handleChecked=function(){a.setState((function(e){return{checked:!e.checked}}))},a.handleSendCaptcha=function(){var e=a.props.data.originData.onSendVerify,t=a.state,n=t.phone;t.submitSuccess||(n?11===n.length?e?a.verifyPromise=e({phone:n}).then((function(){a.setState({message:"",captchaCountdown:60},(function(){var e=setInterval((function(){a.setState({captchaCountdown:a.state.captchaCountdown-1},(function(){a.state.captchaCountdown<=0&&(clearInterval(e),a.verifyPromise=null,a.setState({captchaCountdown:0}))}))}),1e3)}))})).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.message,n=void 0===t?"请求错误,稍后再试":t;a.verifyPromise=null,a.setState({message:n})})):a.setState({message:"无法发送短信,刷新页面稍后再试"}):a.setState({message:"请输入正确的手机号"}):a.setState({message:"手机号不能为空"}))},a.handleChange=function(e){return function(t){var n,r,c=(null==t||null===(n=t.target)||void 0===n||null===(r=n.value)||void 0===r?void 0:r.trim())||"";["phone","captcha"].includes(e)&&(c=c.replace(/[^\d]/g,"")),c=c.substring(0,11),a.setState(k()({},e,c))}},a.handleSubmit=function(){var e=a.props,t=e.data.originData,n=e.dataModel,r=a.state,c=r.phone,i=r.name,s=r.captcha,l=r.submitSuccess;if(11===c.length){var d=t.onSubmit;a.submitPromise||l||(d?a.submitPromise=d({name:i,phone:c,verifyCode:s}).then((function(){var e,r;a.setState({submitSuccess:!0,message:""}),a.submitPromise=null,Object(y.v)({conversion:null!==(e=null==t||null===(r=t.data)||void 0===r?void 0:r.conversion)&&void 0!==e?e:[]},o()({},Object(_.getTrackMacroOptions)(),null==n?void 0:n._getMacroOptions(),{appendParams:"et=submit_success"})).conversion.forEach((function(e){return Object(y.A)(e)}))})).catch((function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log("e:",t),a.setState({message:null!==(e=null==t?void 0:t.message)&&void 0!==e?e:"提交失败"}),a.submitPromise=null})):a.setState({message:"无法提交,刷新页面稍后再试"}))}else a.setState({message:"请输入正确的手机号"})};var n=a.props.data.originData.phone,r=void 0===n?"":n;return r=r.substr(-11),a.state={submitSuccess:!1,message:"",checked:!0,captchaCountdown:0,phone:r},a}return f()(t,e),d()(t,[{key:"render",value:function(){var e,t,a=this.props,n=a.data,r=n.description,c=n.parseUA,o=a.onSetRef,i=this.state,s=i.checked,l=i.captchaCountdown,d=i.phone,u=void 0===d?"":d,m=i.name,p=void 0===m?"":m,v=i.captcha,h=i.message,f=i.submitSuccess,C=s&&p&&u&&(!this.showVerify||v);return E.a.createElement("div",{className:"ecommerce-ad-box"},E.a.createElement("div",{className:"ecommerce-ad-form",ref:o,"data-ad-type":"ecommerce-ad-card"},E.a.createElement("div",{className:"".concat("ecommerce-ad-form","-title")},r),E.a.createElement("input",{className:"".concat("ecommerce-ad-form","-input"),type:"text",placeholder:"请输入姓名",onChange:this.handleChange("name"),disabled:f}),E.a.createElement("input",{className:"".concat("ecommerce-ad-form","-input"),type:"text",placeholder:"请输入手机号",onChange:this.handleChange("phone"),value:u,disabled:f}),this.showVerify&&E.a.createElement("div",{className:"".concat("ecommerce-ad-form","-verify")},E.a.createElement("input",{className:"".concat("ecommerce-ad-form","-input"),type:"text",placeholder:"请输入验证码",onChange:this.handleChange("captcha"),disabled:f}),E.a.createElement("span",{className:$()("".concat("ecommerce-ad-form","-submit"),(e={},k()(e,"".concat("ecommerce-ad-form","-submit-active"),!l),k()(e,"".concat("ecommerce-ad-form","-submit-disabled"),Boolean(l)),e)),onClick:this.handleSendCaptcha},l?"".concat(l," 秒"):"发送验证码")),E.a.createElement("div",{className:"".concat("ecommerce-ad-form","-protocol"),onClick:this.handleChecked},E.a.createElement("input",{type:"checkbox",checked:s,readOnly:!0}),"点击提交即视为同意将您的信息分享给商家，商家将尽快与您联系"),Boolean(h.length)&&E.a.createElement("div",{className:"".concat("ecommerce-ad-form","-message")},h),E.a.createElement("div",{className:$()("".concat("ecommerce-ad-form","-submit"),(t={},k()(t,"".concat("ecommerce-ad-form","-submit-active"),C),k()(t,"".concat("ecommerce-ad-form","-submit-disabled"),!C||f),t)),onClick:this.handleSubmit},f?"提交成功":"提交信息")),E.a.createElement(se,{parseUA:c}))}},{key:"showVerify",get:function(){var e,t=this.props.data.originData,a=this.state.phone,n=t.data.verifyType;return n===Te.ALL_VERIFY||n===Te.CHECK_AUTO&&(null==t||null===(e=t.phone)||void 0===e?void 0:e.substr(-11))!==a}}]),t}(C.Component),_e=a(663),xe=a.n(_e),Se=a(2),Ie=a.n(Se),Le=(a(741),a(73)),Ae=a.n(Le),Ue=a(75),De=a.n(Ue),Re=a(154);function Me(e){return"[object Number]"===Object.prototype.toString.call(e)}var Pe="CLICK",je="VIEW",ze="VIEWX",Be="IMPRESSION",Fe={AD:"AD",PLUGIN:"PLUGIN"},He=a(8);var Ve=function(e){for(var t=Array.from(document.querySelectorAll("[data-ad-type='ecommerce-ad-card'],a[data-draft-type='link-card'],a[data-draft-type='ad-link-card']")).filter((function(e){return"link-card"!==e.getAttribute("data-draft-type")||!!function(e){return e.includes("BIZ=ECOMMERCE")?e:e.includes(encodeURIComponent("BIZ=ECOMMERCE"))?decodeURIComponent(Ae.a.parse(e.slice(e.indexOf("?")+1)).target||""):""}(e.href).includes("BIZ=ECOMMERCE")})),a=0;a<t.length;a++)if(t[a]==e)return a+1;return-1},Ze=E.a.createContext({});var We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.clickTrackFunc,a=void 0===t?function(e){return Object(Re.a)(e)}:t,n=e.trackFunc,r=void 0===n?function(e){return Promise.all(e.map((function(e){return Object(y.y)(e)})))}:n;return function(e,t){var n=t.actionType;return e=e.filter(Boolean),n===Pe?a(e,t):r(e,t)}},Ye=function(e){function t(){var e,a;s()(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=m()(this,(e=v()(t)).call.apply(e,[this].concat(r)))).__setTrackRef=function(e){a.node=e},a.onTrackClick=function(e){a.sendClickTrack(e)},a.observers=[],a.touchStartTime=Date.now(),a.state={providerValue:{setTrackRef:a.__setTrackRef,onTrackClick:a.onTrackClick}},a.sendTrackArray=function(e,t){if(Array.isArray(e)&&0!==e.length){var n=t.actionType,r=a.props,c=r.sendTracks,o=r.onSendTracksBefore,i=r.onSendTracksAfter,s=e;if(s=o(s,t),!Array.isArray(s))throw new TypeError("必须返回打点请求的数组");i(c(s,{actionType:n}),t)}},a.replacePosition=function(e){if(a.props.isReplacePosition){var t;if(!a.position)a.position=(null===(t=a.props)||void 0===t?void 0:t.cardIndex)||Ve(a.node),a.props.setPosition(a.position);return Object(y.o)(e,{position:a.position})}return e},a.getClickData=function(e){if(!(e&&a.node&&Me(e.clientX)&&Me(e.clientY)))return"";var t=Object(Re.b)(e,a.node),n=Object(Re.c)(a.touchStartTime);return Ae.a.stringify(o()({},t,n))},a.getClickUrls=function(e,t){if(!a.props.sendClickData)return a.replacePosition(e);var n=a.getClickData(t);return(a.replacePosition(e)||[]).map((function(e){return"".concat(e,"&").concat(n)}))},a.sendClickTrack=function(e){var t,n;(a.props.zaClick&&a.props.zaClick.id&&Object(Re.g)("trackEvent",a.node,{id:a.props.zaClick.id,action:"Click"}),a.props.zaEnvBlock)&&(null===(t=a.zaRef)||void 0===t||null===(n=t.current)||void 0===n||n.trackEvent({eventType:"Click",action:"OpenUrl",elementLocation:{type:"Card"}}));a.sendTrackArray(a.getClickUrls(a.__trackUrls.clicks,e),{actionType:Pe,event:e})},a.calculateMacroOptions=function(e){var t=Object(y.k)(e),n=t.os,r=t.platform,c=Object(y.l)(e),i=(navigator&&Object(y.h)(navigator.userAgent)).version;return a.__trackUrlMacroOption=o()({os:n,ua:navigator.userAgent,platform:r,isHybrid:c?"1":"0",version:i},a.props.getMacroOptions())},a.replaceUrlMacro=function(){var e=a.props,t=e.views,n=e.impressions,r=e.clicks,c=e.viewXs,o=e.parseUA;a.__trackUrls=Object(y.v)({views:t,impressions:n,clicks:r,viewXs:c},a.calculateMacroOptions(o))},a.zaRef=E.a.createRef(),a}return f()(t,e),d()(t,[{key:"addListener",value:function(){var e=this;this.node&&!this.observers.length&&(this.sendTrackArray(this.__trackUrls.impressions,{actionType:Be}),this.props.sendClickData&&this.node.addEventListener("touchstart",(function(){e.touchStartTime=Date.now()})),this.makeObservers([{threshold:[0],callback:function(){e.props.zaView&&e.props.zaView.id&&e.node&&Object(Re.g)("cardShow",e.node,{id:e.props.zaView.id}),e.sendTrackArray(e.replacePosition(e.__trackUrls.views),{actionType:je})}},{threshold:[.3],callback:function(){e.sendTrackArray(e.replacePosition(e.__trackUrls.viewXs),{actionType:ze})}}]))}},{key:"makeObservers",value:function(e){var t=this;if(this.node)if(Array.isArray(e))e.forEach((function(e){t.makeObservers(e)}));else{var a=e.callback,n=function(e,t){var a=t.threshold;return new window.IntersectionObserver(e,{threshold:a})}((function(e){D()(e,1)[0].isIntersecting&&(a(),n.disconnect())}),{threshold:e.threshold});n.observe(this.node),this.observers.push(n)}}},{key:"componentDidMount",value:function(){this.replaceUrlMacro(),this.addListener()}},{key:"componentDidUpdate",value:function(){this.addListener()}},{key:"componentWillUnmount",value:function(){var e=this;this.observers.forEach((function(t){t.unobserve(e.node)})),this.observers=[]}},{key:"render",value:function(){var e,t=this,a=this.props,n=a.children,r=a.id;return E.a.Children.only(n),E.a.createElement(He.b,{content:{type:"Ad",id:"".concat(r)},block:"advertPluginCard",extra:{attachedInfoBytes:""}},E.a.createElement(He.e,{ref:this.zaRef}),E.a.createElement(He.f,{zaType:"Card"}),E.a.createElement(Ze.Provider,{value:this.state.providerValue},(e=n.type,Boolean(e)&&"string"==typeof e?E.a.cloneElement(n,{ref:function(e){!function(e,t){e&&("function"==typeof e?e(t):e.current=t)}(n.ref,e),t.node=e},onClick:function(e){t.sendClickTrack(e),"function"==typeof n.props.onClick&&n.props.onClick(e)}}):n)))}}]),t}(E.a.Component);Ye.propTypes={type:Ie.a.oneOf(Object.keys(Fe)),views:Ie.a.array,viewXs:Ie.a.array,impressions:Ie.a.array,clicks:Ie.a.array,zaClick:Ie.a.shape({id:Ie.a.number}),zaView:Ie.a.shape({id:Ie.a.number}),getMacroOptions:Ie.a.func,onSendTracksBefore:Ie.a.func,onSendTracksAfter:Ie.a.func,sendTracks:Ie.a.func.isRequired},Ye.defaultProps={views:[],viewXs:[],impressions:[],clicks:[],getMacroOptions:function(){return{}},onSendTracksBefore:function(e){return e},onSendTracksAfter:function(){},type:Fe.PLUGIN,sendTracks:We()},[{name:"PluginTrack",type:Fe.PLUGIN,sendTracks:We({clickTrackFunc:function(e){return Object(Re.a)({trackMethod:Re.f,tracks:e})},trackFunc:function(e){return Promise.all(e.map((function(e){return Object(Re.f)(e)})))}})},{name:"ADTrack",type:Fe.AD}].forEach((function(e){var t=e.name,a=e.type,n=e.sendTracks;Ye[t]=function(e){var t=e.children,c=xe()(e,["children"]);return E.a.createElement(Ye,r()({type:a,sendTracks:n},c),t)}}));var Ge=Ye,Xe=a(18);function Je(e){return E.a.createElement("svg",r()({width:"32",height:"28",viewBox:"0 0 32 28"},e),E.a.createElement("g",{fill:"#0084FF",fillRule:"evenodd",transform:"translate(1.464 .212)"},E.a.createElement("path",{fillRule:"nonzero",d:"M26.7860999,22.6432186 C26.7860999,23.4221053 26.1860408,24.0379555 25.465587,24.0379555 L3.60661269,24.0379555 C2.88615896,24.0379555 2.28609987,23.4221053 2.28609987,22.6432186 C2.28609987,21.8147915 1.61452699,21.1432186 0.786099865,21.1432186 C-0.0423272597,21.1432186 -0.713900135,21.8147915 -0.713900135,22.6432186 C-0.713900135,25.0617699 1.21161398,27.0379555 3.60661269,27.0379555 L25.465587,27.0379555 C27.8605858,27.0379555 29.7860999,25.0617699 29.7860999,22.6432186 C29.7860999,21.8147915 29.114527,21.1432186 28.2860999,21.1432186 C27.4576727,21.1432186 26.7860999,21.8147915 26.7860999,22.6432186 Z"}),E.a.createElement("path",{d:"M6.98076923,7.75 L22.7965587,7.75 C23.6249858,7.75 24.2965587,8.42157288 24.2965587,9.25 L24.2965587,10 C24.2965587,10.8284271 23.6249858,11.5 22.7965587,11.5 L6.98076923,11.5 C6.15234211,11.5 5.48076923,10.8284271 5.48076923,10 L5.48076923,9.25 C5.48076923,8.42157288 6.15234211,7.75 6.98076923,7.75 Z",transform:"rotate(90 14.889 9.625)"}),E.a.createElement("path",{d:"M14.1740505,12.9298687 L21.8895438,12.7652365 C22.7177824,12.7475637 23.4035291,13.4046571 23.4212019,14.2328957 C23.4215138,14.247512 23.421612,14.2621321 23.4214964,14.2767514 L23.4173849,14.7969038 C23.4109719,15.6082292 22.7605975,16.2673977 21.9494313,16.2847062 L14.233938,16.4493384 C13.4056994,16.4670112 12.7199527,15.8099178 12.7022799,14.9816792 C12.701968,14.9670629 12.7018698,14.9524427 12.7019854,14.9378235 L12.7060968,14.4176711 C12.7125099,13.6063457 13.3628843,12.9471772 14.1740505,12.9298687 Z",transform:"rotate(135 18.062 14.607)"}),E.a.createElement("path",{d:"M7.82789662,12.9298687 L15.5433899,12.7652365 C16.3716285,12.7475637 17.0573752,13.4046571 17.0750481,14.2328957 C17.07536,14.247512 17.0754581,14.2621321 17.0753426,14.2767514 L17.0712311,14.7969038 C17.0648181,15.6082292 16.4144436,16.2673977 15.6032775,16.2847062 L7.88778416,16.4493384 C7.05954556,16.4670112 6.37379885,15.8099178 6.35612601,14.9816792 C6.35581413,14.9670629 6.35571595,14.9524427 6.35583151,14.9378235 L6.35994299,14.4176711 C6.36635601,13.6063457 7.01673045,12.9471772 7.82789662,12.9298687 Z",transform:"scale(1 -1) rotate(-45 -23.55 0)"})))}var qe,Ke=a(879),Qe="ecommerce-ad-download-style",$e="ecommerce-ad-download-warning";function et(e,t){e.stopPropagation(),e.preventDefault(),G.execute({url:t,cardType:"baseUrl"})}var tt={card:pe,text:fe,ecard:be,standard:de,download:function(e){var t=e.data,a=t.picUrl,n=t.description,r=t.productNameNew,c=t.data,o=t.pluginSourceFrom,i=t.appInfo,s=t.parseUA,l=e.onClick,d=e.onSetRef,u="string"==typeof i?JSON.parse(i):i,m=Object(Xe.camelizeKeys)(u)||{},p=m.name,v=m.appVersion,h=m.developer,f=m.appPermissionsUrl,C=m.appPrivacyUrl,g=function(e){var t=e.iosScore,a=void 0===t?0:t,n=e.androidScore,r=void 0===n?0:n;return"android"===Object(y.k)().os?r:a}(c),k=q.CANVAS===o?[function(){},l]:[l,function(){}],b=D()(k,2),w=b[0],N=b[1],T=p&&v&&h&&f&&C,O=E.a.createElement("span",{className:"".concat($e,"-right")},"|");return E.a.createElement("div",{className:"ecommerce-ad-box"},E.a.createElement("div",{className:Qe,onClick:w,ref:d,"data-ad-type":"ecommerce-ad-card"},E.a.createElement("div",{className:"".concat(Qe,"-img"),style:{backgroundImage:"url(".concat(a,")")}}),E.a.createElement("div",{className:"".concat(Qe,"-main")},E.a.createElement("div",{className:"".concat(Qe,"-main-content")},E.a.createElement("div",{className:"".concat(Qe,"-main-content-des")},E.a.createElement("span",null,r),E.a.createElement("span",null,n)),E.a.createElement("div",{className:"".concat(Qe,g>0?"-main-content-bottom":"-main-content-bottom-noScore")},g>0&&E.a.createElement(Ke.a,{score:g,showScore:!0}),E.a.createElement(ce,{signData:X.b(c)},E.a.createElement("div",{className:"".concat(Qe,"-icon-blue"),onClick:N},E.a.createElement(Je,{width:"15px",height:"15px"}),E.a.createElement("span",null,"下载"))))))),T&&"android"===Object(y.k)().os?E.a.createElement("div",{className:$e},E.a.createElement("div",{className:"".concat($e,"-appDes")},E.a.createElement("span",null,"应用名称: ",p),O,E.a.createElement("span",null,"版本号: ",v),O,E.a.createElement("span",null,"开发者: ",h),O,E.a.createElement("a",{onClick:function(e){return et(e,C)},className:"".concat($e,"-right")},"隐私政策"),O,E.a.createElement("a",{onClick:function(e){return et(e,f)}},"应用权限"))):"",E.a.createElement(se,{data:c,parseUA:s}))},telephone:function(e){var t=e.data,a=t.picUrl,n=t.description,r=t.data,c=t.parseUA,o=e.onClick,i=e.onSetRef,s=r.brandName,l=void 0===s?"":s;return E.a.createElement("div",{className:"ecommerce-ad-box"},E.a.createElement("div",{className:Ne,onClick:o,ref:i,"data-ad-type":"ecommerce-ad-card"},E.a.createElement("div",{className:"".concat(Ne,"-img"),style:{backgroundImage:"url(".concat(a,")")}}),E.a.createElement("div",{className:"".concat(Ne,"-main")},E.a.createElement("div",{className:"".concat(Ne,"-main-content")},E.a.createElement("div",{className:"".concat(Ne,"-main-content-title")},l),E.a.createElement("div",{className:"".concat(Ne,"-main-content-des")},n)),E.a.createElement(ce,{showInvalidSign:X.b(r)},E.a.createElement("div",{className:"".concat(Ne,"-icon")},E.a.createElement(we,null))))),E.a.createElement(se,{data:r,parseUA:c}))},form:Oe},at=Object.keys(tt).reduce((function(e,t){return e[t]=t,e}),{});function nt(e){var t=e.data,a=t.picUrl,n=t.interactionLaunch,r=t.originData,c=e.onClick,o=e.onSetRef,i=r.isExpand;return E.a.createElement(Ee,{isExpand:i,imgSrc:a,description:n,onClick:c,onSetRef:o})}var rt=Object.freeze({IN_TEXT:"0",BOTTOM:"1",FLOAT:"2"}),ct=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.forwardRef,n=void 0!==a&&a;function c(t){return E.a.createElement(Ze.Consumer,null,(function(a){return E.a.createElement(e,r()({ref:t.forwardRef?t.forwardRef:null},a,t))}))}return De()(c,e),n&&E.a.forwardRef((function(e,t){return E.a.createElement(c,r()({},e,{forwardedRef:t}))})),c}(qe=function(e){function t(){var e,a;s()(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=m()(this,(e=v()(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){a.props.onTrackClick(e),a.props.onClick(e)},a}return f()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=t.pluginStyle,n=t.originData,c=e.setTrackRef,o=n.displayMode,i=tt[a]||de,s=o===rt.BOTTOM;return o===rt.FLOAT?E.a.createElement(nt,r()({},this.props,{onSetRef:c,onClick:this.handleClick})):E.a.createElement(i,r()({},this.props,{isBottomStyle:s,onSetRef:c,onClick:this.handleClick}))}}]),t}(E.a.Component))||qe,ot=a(316),it=a(714),st=function(e){function t(e){var a;s()(this,t),(a=m()(this,v()(t).call(this,e))).onClick=function(e){e.stopPropagation(),e.preventDefault(),a.dataModel.handleClick()};var n=a.context;return a.dataModel=new K(o()({},e,{zhiExtra:n})),a}return f()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.dataModel.preload(),this.dataModel.getContentSign();var e=this.context;e&&this.dataModel.setZhicontentInfo(e)}},{key:"shouldComponentUpdate",value:function(e){var t=this.context;return this.dataModel.setPropsData(o()({},e,{zhiExtra:t})),!0}},{key:"render",value:function(){var e=this.dataModel.getRenderData(),t=e.isHidden,a=this.context;return t?E.a.createElement("div",{className:"ecommerce-ad-null","data-ad-type":"ecommerce-ad-card"}):E.a.createElement(Ge.PluginTrack,r()({},this.dataModel.getTrackInfo(a),{sendClickData:!0,parseUA:e.parseUA,cardIndex:e.cardIndex}),E.a.createElement(ct,{data:e,dataModel:this.dataModel,onClick:this.onClick}))}}]),t}(C.Component);st.contextType=it.a;t.default=Object(ot.b)(st)}}]);
//# sourceMappingURL=column.shared_bf8e55f747b1310da866a56e0f5656c66d9272a4.c2860ebe27292a5c17b9.js.map