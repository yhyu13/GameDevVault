<!DOCTYPE html>
<!-- saved from url=(0038)https://zhuanlan.zhihu.com/p/135285010 -->
<html lang="zh" data-hairline="true" data-theme="light" data-rh="data-theme"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>后处理效率问题和Tile-Based GPU - 知乎</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="renderer" content="webkit"><meta name="force-rendering" content="webkit"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="google-site-verification" content="FTeR0c8arOPKh8c5DYh_9uu98_zJbaWw53J-Sch9MTg"><meta data-rh="true" name="keywords" content="图形处理器（GPU）,GPU 通用计算,计算机图形学"><meta data-rh="true" name="description" content="之前优化后处理时，发现自己预期应该快的方式反而慢了，这里总结一下这个问题以及Tile-based GPU的特性。 后处理效率问题这个后处理要实现的功能是针对场景中的某些部分应用这个效果，其他部分保持不变，在Unity中…"><meta data-rh="true" property="og:title" content="后处理效率问题和Tile-Based GPU"><meta data-rh="true" property="og:url" content="https://zhuanlan.zhihu.com/p/135285010"><meta data-rh="true" property="og:description" content="之前优化后处理时，发现自己预期应该快的方式反而慢了，这里总结一下这个问题以及Tile-based GPU的特性。 后处理效率问题这个后处理要实现的功能是针对场景中的某些部分应用这个效果，其他部分保持不变，在Unity中…"><meta data-rh="true" property="og:image" content=""><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="og:site_name" content="知乎专栏"><link data-rh="true" rel="apple-touch-icon" href="https://static.zhihu.com/heifetz/assets/apple-touch-icon-152.a53ae37b.png"><link data-rh="true" rel="apple-touch-icon" href="https://static.zhihu.com/heifetz/assets/apple-touch-icon-152.a53ae37b.png" sizes="152x152"><link data-rh="true" rel="apple-touch-icon" href="https://static.zhihu.com/heifetz/assets/apple-touch-icon-120.bbce8f18.png" sizes="120x120"><link data-rh="true" rel="apple-touch-icon" href="https://static.zhihu.com/heifetz/assets/apple-touch-icon-76.cbade8f9.png" sizes="76x76"><link data-rh="true" rel="apple-touch-icon" href="https://static.zhihu.com/heifetz/assets/apple-touch-icon-60.8f6c52aa.png" sizes="60x60"><link crossorigin="" rel="shortcut icon" type="image/x-icon" href="https://static.zhihu.com/heifetz/favicon.ico"><link crossorigin="" rel="search" type="application/opensearchdescription+xml" href="https://static.zhihu.com/heifetz/search.xml" title="知乎"><link rel="dns-prefetch" href="https://static.zhimg.com/"><link rel="dns-prefetch" href="https://pica.zhimg.com/"><link rel="dns-prefetch" href="https://pic1.zhimg.com/"><link rel="dns-prefetch" href="https://pic2.zhimg.com/"><link rel="dns-prefetch" href="https://pic3.zhimg.com/"><link rel="dns-prefetch" href="https://pic4.zhimg.com/"><link rel="dns-prefetch" href="https://static.zhihu.com/"><style data-emotion-css="1m4merm">.u-safeAreaInset-top{height:constant(safe-area-inset-top) !important;height:env(safe-area-inset-top) !important;}.u-safeAreaInset-bottom{height:constant(safe-area-inset-bottom) !important;height:env(safe-area-inset-bottom) !important;}</style><link href="./后处理效率问题和Tile-Based GPU - 知乎_files/column.app.216a26f4.9966b297f3b2b26a2746.css" crossorigin="" rel="stylesheet"><script nonce="">!function(){"use strict";!function(e,n){var r=[];function t(e){return function(){r.push([e,arguments])}}n.Raven={captureException:t("captureException"),captureMessage:t("captureMessage"),captureBreadcrumb:t("captureBreadcrumb")};var a,o,c,i,s,u="undefined"!=typeof DOMError;function d(e){var n=e instanceof Error||e instanceof ErrorEvent||u&&e instanceof DOMError||e instanceof DOMException;Raven.captureException(n?e:new Error(e.message||e.reason))}n.addEventListener("unhandledrejection",d),n.addEventListener("error",d,!0),a=e.src,o=e,c=function(){r.forEach(function(e){var n;(n=Raven)[e[0]].apply(n,e[1])}),n.removeEventListener("unhandledrejection",d),n.removeEventListener("error",d,!0)},i=document.head||document.getElementsByTagName("head")[0],(s=document.createElement("script")).crossOrigin=o.crossOrigin,s.dataset.sentryConfig=o["data-sentry-config"],s.onload=c,s.src=a,i.appendChild(s)}({"defer":true,"crossOrigin":"anonymous","src":"https://unpkg.zhimg.com/@cfe/sentry-script@1.3.1/dist/init.js","data-sentry-config":"{\"dsn\":\"https://2d8d764432cc4f6fb3bc78ab9528299d@crash2.zhihu.com/1224\",\"sampleRate\":0.1,\"release\":\"4607-c432ca8f\",\"ignoreErrorNames\":[\"NetworkError\",\"SecurityError\"],\"ignoreErrorsPreset\":\"ReactApp\",\"tags\":{\"app_name\":\"heifetz\"}}"},window)}();
</script><script crossorigin="anonymous" data-sentry-config="{&quot;dsn&quot;:&quot;https://2d8d764432cc4f6fb3bc78ab9528299d@crash2.zhihu.com/1224&quot;,&quot;sampleRate&quot;:0.1,&quot;release&quot;:&quot;4607-c432ca8f&quot;,&quot;ignoreErrorNames&quot;:[&quot;NetworkError&quot;,&quot;SecurityError&quot;],&quot;ignoreErrorsPreset&quot;:&quot;ReactApp&quot;,&quot;tags&quot;:{&quot;app_name&quot;:&quot;heifetz&quot;}}" src="./后处理效率问题和Tile-Based GPU - 知乎_files/init.js.download"></script><style data-emotion-css="1l12z7y">.css-1l12z7y{box-shadow:0px 16px 32px rgba(0,0,0,0.04);}</style><style data-emotion-css="1hlrcxk">.css-1hlrcxk{-webkit-transition-property:fill;transition-property:fill;-webkit-transition-duration:0.25s;transition-duration:0.25s;-webkit-transition-timing-function:ease-in;transition-timing-function:ease-in;}</style><style data-emotion-css="1cd9gw4">.css-1cd9gw4{margin-left:.3em;}</style><style data-emotion-css="1yuhvjn">.css-1yuhvjn{margin-top:16px;}</style><style data-emotion-css="3jt6os">.css-3jt6os .FileLinkCard{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:rgba(246,246,246,0.88);border-radius:12px;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:1em auto;max-width:100%;overflow:hidden;padding:12px;position:relative;width:390px;}.css-3jt6os .FileLinkCard-icon{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;height:30px;width:30px;}.css-3jt6os .FileLinkCard-info{margin-left:12px;}.css-3jt6os .FileLinkCard-name{color:#121212;font-size:15px;font-weight:500;line-height:21px;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;}.css-3jt6os .FileLinkCard-meta{color:#999999;font-size:12px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;line-height:14px;margin-top:5px;}.css-3jt6os .FileLinkCard-source{white-space:pre;}</style><style data-emotion-css="1wr1m8">.css-1wr1m8 .LinkCard.new{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:390px;min-height:84px;border-radius:8px;max-width:100%;overflow:hidden;margin:16px auto;padding:12px 12px 9px 12px;background-color:#F6F6F6;}.css-1wr1m8 .LinkCard.new,.css-1wr1m8 .LinkCard.new:hover{-webkit-text-decoration:none;text-decoration:none;border:none !important;color:inherit !important;}.css-1wr1m8 .LinkCard.new .LinkCard-contents{display:block;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;position:relative;}.css-1wr1m8 .LinkCard.new .LinkCard-contents .loading{height:14px;background:#EBEBEB;border-radius:7px;}.css-1wr1m8 .LinkCard.new .LinkCard-contents.withTitle{margin-bottom:3px;}.css-1wr1m8 .LinkCard.new .LinkCard-title{display:-webkit-box;font-size:15px;font-weight:500;line-height:1.4;margin-bottom:2px;color:#121212;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-1wr1m8 .LinkCard.new .LinkCard-title.two-line{line-height:20px;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;}.css-1wr1m8 .LinkCard.new .LinkCard-title.loading{margin-bottom:8px;width:80%;}.css-1wr1m8 .LinkCard.new .LinkCard-title.loading.withTitle{margin-bottom:6px;}.css-1wr1m8 .LinkCard.new .LinkCard-title.loadingTitle{margin-bottom:5px;}.css-1wr1m8 .LinkCard.new .LinkCard-excerpt{display:-webkit-box;text-overflow:ellipsis;font-size:13px;line-height:18px;color:#999999;margin-bottom:4px;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-1wr1m8 .LinkCard.new .LinkCard-excerpt .LinkCard-author{color:#444444;}.css-1wr1m8 .LinkCard.new .LinkCard-desc{display:-webkit-box;font-size:13px;height:18px;line-height:18px;color:#999999;word-break:break-all;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-1wr1m8 .LinkCard.new .LinkCard-desc .LinkCard-tag,.css-1wr1m8 .LinkCard.new .LinkCard-desc .tag{display:inline-block;font-size:11px;margin-left:8px;padding:0 4px;border-radius:3px;background:rgba(211,211,211,0.3);}.css-1wr1m8 .LinkCard.new .LinkCard-desc.loading{width:40%;}.css-1wr1m8 .LinkCard.new .LinkCard-desc svg{margin-right:2px;}.css-1wr1m8 .LinkCard.new .LinkCard-image{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;background-color:#EBEBEB;background-size:cover;background-position:center;position:relative;display:block;width:60px;height:60px;margin-left:20px;object-fit:cover;border-radius:inherit;overflow:hidden;}.css-1wr1m8 .LinkCard.new .LinkCard-image.LinkCard-image--default{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background-color:#EBEBEB;color:#D3D3D3;}.css-1wr1m8 .LinkCard.new .LinkCard-image.LinkCard-image--default svg{color:#999999;}.css-1wr1m8 .LinkCard.new .LinkCard-image img{width:100%;height:100%;object-fit:cover;}.css-1wr1m8 .LinkCard.new .LinkCard-image .LinkCard-image--video{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);width:24px;height:24px;border-radius:12px;background:rgba(255,255,255,0.9);pointer-events:none;}.css-1wr1m8 .LinkCard.new .LinkCard-image .LinkCard-image--video svg{color:#444444;}.css-1wr1m8 .LinkCard.new .LinkCard-richText .text{color:#444444;}.css-1wr1m8 .LinkCard.new .LinkCard-richText .bold{font-weight:600;}.css-1wr1m8 .LinkCard.new .LinkCard-richText .tag{margin-left:4px;}.css-1wr1m8 .LinkCard.old{position:relative;display:block;margin:1em auto;width:390px;box-sizing:border-box;border-radius:12px;max-width:100%;overflow:hidden;}.css-1wr1m8 .LinkCard.old,.css-1wr1m8 .LinkCard.old:hover{-webkit-text-decoration:none;text-decoration:none;border:none !important;color:inherit !important;}.css-1wr1m8 .LinkCard-ecommerceLoadingCard{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:12px;border-radius:inherit;height:80px;box-sizing:border-box;background:rgba(246,246,246,0.88);color:#D3D3D3;}.css-1wr1m8 .LinkCard-ecommerceLoadingCardAvatarWrapper{width:60px;height:60px;background:#EBEBEB;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;border-radius:6px;margin-right:10px;}.css-1wr1m8 .LinkCard-ecommerceLoadingCardNetwork{width:20px;height:20px;}.css-1wr1m8 .LinkCard-ecommerceLoadingCardLoadingbar{height:60px;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.css-1wr1m8 .LinkCard-ecommerceLoadingCardLoadingbar span{height:16px;display:inline-block;background:#EBEBEB;}.css-1wr1m8 .LinkCard-ecommerceLoadingCardLoadingbar span:nth-of-type(1){width:60px;margin-bottom:4px;}.css-1wr1m8 .LinkCard-ecommerceLoadingCardLoadingbar span:nth-of-type(2){width:127px;}</style><style data-emotion-css="hypxot">.css-hypxot .LinkCard.old{position:relative;display:block;margin:1em auto;width:390px;box-sizing:border-box;border-radius:12px;max-width:100%;overflow:hidden;}.css-hypxot .LinkCard.old,.css-hypxot .LinkCard.old:hover{-webkit-text-decoration:none;text-decoration:none;border:none !important;color:inherit !important;}.css-hypxot .LinkCard-ecommerceLoadingCard{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:12px;border-radius:inherit;height:80px;box-sizing:border-box;background:rgba(246,246,246,0.88);color:#D3D3D3;}.css-hypxot .LinkCard-ecommerceLoadingCardAvatarWrapper{width:60px;height:60px;background:#EBEBEB;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;border-radius:6px;margin-right:10px;}.css-hypxot .LinkCard-ecommerceLoadingCardNetwork{width:20px;height:20px;}.css-hypxot .LinkCard-ecommerceLoadingCardLoadingbar{height:60px;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.css-hypxot .LinkCard-ecommerceLoadingCardLoadingbar span{height:16px;display:inline-block;background:#EBEBEB;}.css-hypxot .LinkCard-ecommerceLoadingCardLoadingbar span:nth-of-type(1){width:60px;margin-bottom:4px;}.css-hypxot .LinkCard-ecommerceLoadingCardLoadingbar span:nth-of-type(2){width:127px;}.css-hypxot .LinkCard.new{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:390px;min-height:84px;border-radius:8px;max-width:100%;overflow:hidden;margin:16px auto;padding:12px 12px 9px 12px;background-color:#F6F6F6;}.css-hypxot .LinkCard.new,.css-hypxot .LinkCard.new:hover{-webkit-text-decoration:none;text-decoration:none;border:none !important;color:inherit !important;}.css-hypxot .LinkCard.new .LinkCard-contents{display:block;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;position:relative;}.css-hypxot .LinkCard.new .LinkCard-contents .loading{height:14px;background:#EBEBEB;border-radius:7px;}.css-hypxot .LinkCard.new .LinkCard-contents.withTitle{margin-bottom:3px;}.css-hypxot .LinkCard.new .LinkCard-title{display:-webkit-box;font-size:15px;font-weight:500;line-height:1.4;margin-bottom:2px;color:#121212;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-hypxot .LinkCard.new .LinkCard-title.two-line{line-height:20px;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;}.css-hypxot .LinkCard.new .LinkCard-title.loading{margin-bottom:8px;width:80%;}.css-hypxot .LinkCard.new .LinkCard-title.loading.withTitle{margin-bottom:6px;}.css-hypxot .LinkCard.new .LinkCard-title.loadingTitle{margin-bottom:5px;}.css-hypxot .LinkCard.new .LinkCard-excerpt{display:-webkit-box;text-overflow:ellipsis;font-size:13px;line-height:18px;color:#999999;margin-bottom:4px;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-hypxot .LinkCard.new .LinkCard-excerpt .LinkCard-author{color:#444444;}.css-hypxot .LinkCard.new .LinkCard-desc{display:-webkit-box;font-size:13px;height:18px;line-height:18px;color:#999999;word-break:break-all;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-hypxot .LinkCard.new .LinkCard-desc .LinkCard-tag,.css-hypxot .LinkCard.new .LinkCard-desc .tag{display:inline-block;font-size:11px;margin-left:8px;padding:0 4px;border-radius:3px;background:rgba(211,211,211,0.3);}.css-hypxot .LinkCard.new .LinkCard-desc.loading{width:40%;}.css-hypxot .LinkCard.new .LinkCard-desc svg{margin-right:2px;}.css-hypxot .LinkCard.new .LinkCard-image{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;background-color:#EBEBEB;background-size:cover;background-position:center;position:relative;display:block;width:60px;height:60px;margin-left:20px;object-fit:cover;border-radius:inherit;overflow:hidden;}.css-hypxot .LinkCard.new .LinkCard-image.LinkCard-image--default{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background-color:#EBEBEB;color:#D3D3D3;}.css-hypxot .LinkCard.new .LinkCard-image.LinkCard-image--default svg{color:#999999;}.css-hypxot .LinkCard.new .LinkCard-image img{width:100%;height:100%;object-fit:cover;}.css-hypxot .LinkCard.new .LinkCard-image .LinkCard-image--video{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);width:24px;height:24px;border-radius:12px;background:rgba(255,255,255,0.9);pointer-events:none;}.css-hypxot .LinkCard.new .LinkCard-image .LinkCard-image--video svg{color:#444444;}.css-hypxot .LinkCard.new .LinkCard-richText .text{color:#444444;}.css-hypxot .LinkCard.new .LinkCard-richText .bold{font-weight:600;}.css-hypxot .LinkCard.new .LinkCard-richText .tag{margin-left:4px;}.css-hypxot .FileLinkCard{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:rgba(246,246,246,0.88);border-radius:12px;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:1em auto;max-width:100%;overflow:hidden;padding:12px;position:relative;width:390px;}.css-hypxot .FileLinkCard-icon{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;height:30px;width:30px;}.css-hypxot .FileLinkCard-info{margin-left:12px;}.css-hypxot .FileLinkCard-name{color:#121212;font-size:15px;font-weight:500;line-height:21px;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;}.css-hypxot .FileLinkCard-meta{color:#999999;font-size:12px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;line-height:14px;margin-top:5px;}.css-hypxot .FileLinkCard-source{white-space:pre;}</style><style data-emotion-css="yvdm7v animation-1sh55c5">.css-yvdm7v{word-break:break-word;line-height:1.6;}.css-yvdm7v a.UserLink-link{color:#175199;}.css-yvdm7v a.UserLink-link:hover{border-bottom:1px solid #175199;}.css-yvdm7v lazy[data-lazy-status]{background-color:#F6F6F6;}.css-yvdm7v lazy[data-lazy-status="ok"]{background-color:transparent;-webkit-animation:animation-1sh55c5 0.5s ease-in;animation:animation-1sh55c5 0.5s ease-in;}.css-yvdm7v > [data-first-child]{margin-top:0;}.css-yvdm7v > :last-child{margin-bottom:0;}.css-yvdm7v h1,.css-yvdm7v h2{clear:left;margin-top:calc((1.4em * 2) / 1.2);margin-bottom:calc(1.4em / 1.2);font-size:1.2em;line-height:1.5;font-weight:600;}.css-yvdm7v h3,.css-yvdm7v h4,.css-yvdm7v h5,.css-yvdm7v h6{clear:left;margin-top:calc((1.4em * 1.5) / 1.1);margin-bottom:calc(1.4em / 1.1);font-size:1.1em;line-height:1.5;font-weight:600;}.css-yvdm7v u{-webkit-text-decoration:none;text-decoration:none;border-bottom:1px solid #444444;}.css-yvdm7v b{font-weight:600;}.css-yvdm7v sup{font-size:0.8em;}.css-yvdm7v sup[data-draft-type='reference']{color:#175199;}.css-yvdm7v a:focus{outline:none;-webkit-transition:box-shadow 0.3s;transition:box-shadow 0.3s;}html[data-focus-visible] .css-yvdm7v a:focus{box-shadow:0 0 0 2px #FFFFFF,0 0 0 4px rgba(5,109,232,0.3);}.css-yvdm7v a.ztext-link,.css-yvdm7v a.internal,.css-yvdm7v a.external{-webkit-text-decoration:none;text-decoration:none;cursor:pointer;border-bottom:1px solid #808080;}.css-yvdm7v a.ztext-link:hover,.css-yvdm7v a.internal:hover,.css-yvdm7v a.external:hover{color:#175199;border-bottom:1px solid #175199;}.css-yvdm7v a.ztext-link > .ellipsis::after,.css-yvdm7v a.internal > .ellipsis::after,.css-yvdm7v a.external > .ellipsis::after{content:'...';}.css-yvdm7v a.ztext-link > .invisible,.css-yvdm7v a.internal > .invisible,.css-yvdm7v a.external > .invisible{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;}.css-yvdm7v a.ztext-link u,.css-yvdm7v a.internal u,.css-yvdm7v a.external u{border:none;}.css-yvdm7v a.member_mention{color:#175199;}.css-yvdm7v a.member_mention:hover{border-bottom:1px solid #175199;}.css-yvdm7v p{margin:1.4em 0;}.css-yvdm7v p.ztext-empty-paragraph{margin:calc((2.8em- (1.4em * 2 + 1.6em)) / 2) 0;}.css-yvdm7v p.ztext-empty-paragraph + .ztext-empty-paragraph{margin:1.4em 0;}.css-yvdm7v hr{margin:4em auto;width:240px;max-width:100%;border:none;border-top:1px solid #D3D3D3;}.css-yvdm7v img[eeimg]{max-width:100%;vertical-align:middle;}.css-yvdm7v img[eeimg="1"]{margin:0 3px;max-width:calc(100% - 6px);display:inline-block;}.css-yvdm7v img[eeimg="2"]{margin:1.4em auto;display:block;}.css-yvdm7v blockquote{margin:1.4em 0;padding-left:1em;color:#646464;border-left:3px solid #D3D3D3;}.css-yvdm7v ol,.css-yvdm7v ul{margin:1.4em 0;padding:0;width:100%;}.css-yvdm7v ol ol,.css-yvdm7v ul ol,.css-yvdm7v ol ul,.css-yvdm7v ul ul{margin:0;}.css-yvdm7v ol li::before,.css-yvdm7v ul li::before{width:1em;}.css-yvdm7v ol > ol,.css-yvdm7v ul > ol,.css-yvdm7v ol > ul,.css-yvdm7v ul > ul{display:table-row;}.css-yvdm7v ol > ol::before,.css-yvdm7v ul > ol::before,.css-yvdm7v ol > ul::before,.css-yvdm7v ul > ul::before{display:table-cell;content:'';}.css-yvdm7v ul{display:table;}.css-yvdm7v ul>li{display:table-row;list-style:none;}.css-yvdm7v ul>li::before{display:table-cell;content:'•  ';white-space:pre;}.css-yvdm7v ol{display:table;counter-reset:ol;}.css-yvdm7v ol > li{display:table-row;list-style:none;}.css-yvdm7v ol > li::before{display:table-cell;text-align:right;counter-increment:ol;content:counter(ol) '. ';white-space:pre;}.css-yvdm7v ol ol{counter-reset:ol2;}.css-yvdm7v ol ol li::before{counter-increment:ol2;content:counter(ol2) '. ';}.css-yvdm7v ol ol ol{counter-reset:ol3;}.css-yvdm7v ol ol ol li::before{counter-increment:ol3;content:counter(ol3) '. ';}.css-yvdm7v ol ol ol ol{counter-reset:ol4;}.css-yvdm7v ol ol ol ol li::before{counter-increment:ol4;content:counter(ol4) '. ';}.css-yvdm7v figure{margin:1.4em 0;}.css-yvdm7v figure .content_image,.css-yvdm7v figure .origin_image{margin:0 auto;}.css-yvdm7v figure figcaption{margin-top:calc(0.6em / 0.9);padding:0 1em;font-size:0.9em;line-height:1.5;text-align:center;color:#999999;}.css-yvdm7v figure + figure{margin-top:calc(1.4em * 1.6);}.css-yvdm7v figure[data-size='small'],.css-yvdm7v figure:not([data-size]) > [data-size='small']{clear:both;}.css-yvdm7v figure[data-size='left'],.css-yvdm7v figure:not([data-size]) > [data-size='left']{float:left;margin:0 20px 20px 0;max-width:33%;}.css-yvdm7v figure[data-size='right'],.css-yvdm7v figure:not([data-size]) > [data-size='right']{float:right;margin:0 0 20px 20px;max-width:33%;}.css-yvdm7v figure[data-size='collapse']{margin-bottom:0;}.css-yvdm7v figure[data-size='collapse'] + figure{margin-top:0;}.css-yvdm7v .content_image,.css-yvdm7v .origin_image{display:block;max-width:100%;margin:1.4em auto;}.css-yvdm7v .content_image[data-size='small'],.css-yvdm7v .origin_image[data-size='small']{max-width:40%;}.css-yvdm7v .content_image.zh-lightbox-thumb,.css-yvdm7v .origin_image.zh-lightbox-thumb{cursor:-webkit-zoom-in;cursor:-moz-zoom-in;cursor:zoom-in;}.css-yvdm7v code{margin:0 2px;padding:3px 4px;border-radius:3px;font-size:0.9em;background-color:#F6F6F6;}.css-yvdm7v pre{margin:1.4em 0;padding:calc(0.8em / 0.9);font-size:0.9em;word-break:initial;word-wrap:initial;white-space:pre;overflow:auto;-webkit-overflow-scrolling:touch;background:#F6F6F6;border-radius:4px;}.css-yvdm7v pre code{margin:0;padding:0;font-size:inherit;border-radius:0;background-color:inherit;}.css-yvdm7v li pre{white-space:pre-wrap;}.css-yvdm7v table[data-draft-type='table']{border-collapse:collapse;font-size:15px;margin:1.4em auto;max-width:100%;table-layout:fixed;text-align:left;width:100%;}.css-yvdm7v table[data-draft-type='table'][data-size='small']{min-width:260px;width:40%;}.css-yvdm7v table[data-draft-type='table'][data-row-style='striped'] tr:nth-of-type(2n + 1){background:#F6F6F6;}.css-yvdm7v table[data-draft-type='table'] td,.css-yvdm7v table[data-draft-type='table'] th{border:1px solid #D3D3D3;line-height:24px;height:24px;padding:3px 12px;}.css-yvdm7v table[data-draft-type='table'] th{background:#EBEBEB;color:#121212;font-weight:500;}.css-yvdm7v .video-box,.css-yvdm7v .link-box{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin:1.4em 0;overflow:auto;white-space:normal;cursor:pointer;border:solid 1px #EBEBEB;border-radius:4px;}.css-yvdm7v .highlight{margin:1em 0;}.css-yvdm7v .highlight pre{margin:0;}.css-yvdm7v .highlight .hll{background-color:#FDFDFD;}.css-yvdm7v .highlight .c{font-style:italic;color:#999999;}.css-yvdm7v .highlight .err{color:#F1403C;}.css-yvdm7v .highlight .k{font-weight:600;}.css-yvdm7v .highlight .o{font-weight:600;}.css-yvdm7v .highlight .cm{font-style:italic;color:#999999;}.css-yvdm7v .highlight .cp{font-weight:600;color:#999999;}.css-yvdm7v .highlight .c1{font-style:italic;color:#999999;}.css-yvdm7v .highlight .cs{font-style:italic;font-weight:600;color:#999999;}.css-yvdm7v .highlight .gd{color:#FF3366;}.css-yvdm7v .highlight .ge{font-style:italic;}.css-yvdm7v .highlight .gr{color:#F1403C;}.css-yvdm7v .highlight .gh{color:#999999;}.css-yvdm7v .highlight .gi{color:#12b370;}.css-yvdm7v .highlight .go{color:#808080;}.css-yvdm7v .highlight .gp{color:#646464;}.css-yvdm7v .highlight .gs{font-weight:600;}.css-yvdm7v .highlight .gu{color:#999999;}.css-yvdm7v .highlight .gt{color:#F1403C;}.css-yvdm7v .highlight .kc{font-weight:600;}.css-yvdm7v .highlight .kd{font-weight:600;}.css-yvdm7v .highlight .kn{font-weight:600;}.css-yvdm7v .highlight .kp{font-weight:600;}.css-yvdm7v .highlight .kr{font-weight:600;}.css-yvdm7v .highlight .kt{font-weight:600;color:#175199;}.css-yvdm7v .highlight .m{color:#056DE8;}.css-yvdm7v .highlight .s{color:#F1403C;}.css-yvdm7v .highlight .na{color:#056DE8;}.css-yvdm7v .highlight .nb{color:#056DE8;}.css-yvdm7v .highlight .nc{font-weight:600;color:#175199;}.css-yvdm7v .highlight .no{color:#056DE8;}.css-yvdm7v .highlight .ni{color:#5555DD;}.css-yvdm7v .highlight .ne{font-weight:600;color:#F1403C;}.css-yvdm7v .highlight .nf{font-weight:600;color:#F1403C;}.css-yvdm7v .highlight .nn{color:#646464;}.css-yvdm7v .highlight .nt{color:#175199;}.css-yvdm7v .highlight .nv{color:#056DE8;}.css-yvdm7v .highlight .ow{font-weight:600;}.css-yvdm7v .highlight .w{color:#BFBFBF;}.css-yvdm7v .highlight .mf{color:#056DE8;}.css-yvdm7v .highlight .mh{color:#056DE8;}.css-yvdm7v .highlight .mi{color:#056DE8;}.css-yvdm7v .highlight .mo{color:#056DE8;}.css-yvdm7v .highlight .sb{color:#F1403C;}.css-yvdm7v .highlight .sc{color:#F1403C;}.css-yvdm7v .highlight .sd{color:#F1403C;}.css-yvdm7v .highlight .s2{color:#F1403C;}.css-yvdm7v .highlight .se{color:#F1403C;}.css-yvdm7v .highlight .sh{color:#F1403C;}.css-yvdm7v .highlight .si{color:#F1403C;}.css-yvdm7v .highlight .sx{color:#F1403C;}.css-yvdm7v .highlight .sr{color:#A5542F;}.css-yvdm7v .highlight .s1{color:#F1403C;}.css-yvdm7v .highlight .ss{color:#F1403C;}.css-yvdm7v .highlight .bp{color:#999999;}.css-yvdm7v .highlight .vc{color:#056DE8;}.css-yvdm7v .highlight .vg{color:#056DE8;}.css-yvdm7v .highlight .vi{color:#056DE8;}.css-yvdm7v .highlight .il{color:#056DE8;}.css-yvdm7v .highlight::-webkit-scrollbar{width:6px;height:6px;}.css-yvdm7v .highlight::-webkit-scrollbar-thumb:horizontal{background-color:rgba(18,18,18,0.5);border-radius:6px;}.css-yvdm7v .highlight::-webkit-scrollbar-thumb:horizontal:hover{background-color:rgba(18,18,18,0.6);}.css-yvdm7v .LinkCard.old{position:relative;display:block;margin:1em auto;width:390px;box-sizing:border-box;border-radius:12px;max-width:100%;overflow:hidden;}.css-yvdm7v .LinkCard.old,.css-yvdm7v .LinkCard.old:hover{-webkit-text-decoration:none;text-decoration:none;border:none !important;color:inherit !important;}.css-yvdm7v .LinkCard-ecommerceLoadingCard{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:12px;border-radius:inherit;height:80px;box-sizing:border-box;background:rgba(246,246,246,0.88);color:#D3D3D3;}.css-yvdm7v .LinkCard-ecommerceLoadingCardAvatarWrapper{width:60px;height:60px;background:#EBEBEB;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;border-radius:6px;margin-right:10px;}.css-yvdm7v .LinkCard-ecommerceLoadingCardNetwork{width:20px;height:20px;}.css-yvdm7v .LinkCard-ecommerceLoadingCardLoadingbar{height:60px;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.css-yvdm7v .LinkCard-ecommerceLoadingCardLoadingbar span{height:16px;display:inline-block;background:#EBEBEB;}.css-yvdm7v .LinkCard-ecommerceLoadingCardLoadingbar span:nth-of-type(1){width:60px;margin-bottom:4px;}.css-yvdm7v .LinkCard-ecommerceLoadingCardLoadingbar span:nth-of-type(2){width:127px;}.css-yvdm7v .LinkCard.new{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:390px;min-height:84px;border-radius:8px;max-width:100%;overflow:hidden;margin:16px auto;padding:12px 12px 9px 12px;background-color:#F6F6F6;}.css-yvdm7v .LinkCard.new,.css-yvdm7v .LinkCard.new:hover{-webkit-text-decoration:none;text-decoration:none;border:none !important;color:inherit !important;}.css-yvdm7v .LinkCard.new .LinkCard-contents{display:block;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;position:relative;}.css-yvdm7v .LinkCard.new .LinkCard-contents .loading{height:14px;background:#EBEBEB;border-radius:7px;}.css-yvdm7v .LinkCard.new .LinkCard-contents.withTitle{margin-bottom:3px;}.css-yvdm7v .LinkCard.new .LinkCard-title{display:-webkit-box;font-size:15px;font-weight:500;line-height:1.4;margin-bottom:2px;color:#121212;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-yvdm7v .LinkCard.new .LinkCard-title.two-line{line-height:20px;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;}.css-yvdm7v .LinkCard.new .LinkCard-title.loading{margin-bottom:8px;width:80%;}.css-yvdm7v .LinkCard.new .LinkCard-title.loading.withTitle{margin-bottom:6px;}.css-yvdm7v .LinkCard.new .LinkCard-title.loadingTitle{margin-bottom:5px;}.css-yvdm7v .LinkCard.new .LinkCard-excerpt{display:-webkit-box;text-overflow:ellipsis;font-size:13px;line-height:18px;color:#999999;margin-bottom:4px;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-yvdm7v .LinkCard.new .LinkCard-excerpt .LinkCard-author{color:#444444;}.css-yvdm7v .LinkCard.new .LinkCard-desc{display:-webkit-box;font-size:13px;height:18px;line-height:18px;color:#999999;word-break:break-all;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-yvdm7v .LinkCard.new .LinkCard-desc .LinkCard-tag,.css-yvdm7v .LinkCard.new .LinkCard-desc .tag{display:inline-block;font-size:11px;margin-left:8px;padding:0 4px;border-radius:3px;background:rgba(211,211,211,0.3);}.css-yvdm7v .LinkCard.new .LinkCard-desc.loading{width:40%;}.css-yvdm7v .LinkCard.new .LinkCard-desc svg{margin-right:2px;}.css-yvdm7v .LinkCard.new .LinkCard-image{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;background-color:#EBEBEB;background-size:cover;background-position:center;position:relative;display:block;width:60px;height:60px;margin-left:20px;object-fit:cover;border-radius:inherit;overflow:hidden;}.css-yvdm7v .LinkCard.new .LinkCard-image.LinkCard-image--default{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background-color:#EBEBEB;color:#D3D3D3;}.css-yvdm7v .LinkCard.new .LinkCard-image.LinkCard-image--default svg{color:#999999;}.css-yvdm7v .LinkCard.new .LinkCard-image img{width:100%;height:100%;object-fit:cover;}.css-yvdm7v .LinkCard.new .LinkCard-image .LinkCard-image--video{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);width:24px;height:24px;border-radius:12px;background:rgba(255,255,255,0.9);pointer-events:none;}.css-yvdm7v .LinkCard.new .LinkCard-image .LinkCard-image--video svg{color:#444444;}.css-yvdm7v .LinkCard.new .LinkCard-richText .text{color:#444444;}.css-yvdm7v .LinkCard.new .LinkCard-richText .bold{font-weight:600;}.css-yvdm7v .LinkCard.new .LinkCard-richText .tag{margin-left:4px;}.css-yvdm7v .FileLinkCard{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:rgba(246,246,246,0.88);border-radius:12px;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:1em auto;max-width:100%;overflow:hidden;padding:12px;position:relative;width:390px;}.css-yvdm7v .FileLinkCard-icon{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;height:30px;width:30px;}.css-yvdm7v .FileLinkCard-info{margin-left:12px;}.css-yvdm7v .FileLinkCard-name{color:#121212;font-size:15px;font-weight:500;line-height:21px;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;}.css-yvdm7v .FileLinkCard-meta{color:#999999;font-size:12px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;line-height:14px;margin-top:5px;}.css-yvdm7v .FileLinkCard-source{white-space:pre;}@-webkit-keyframes animation-1sh55c5{from{opacity:0;}to{opacity:1;}}@keyframes animation-1sh55c5{from{opacity:0;}to{opacity:1;}}</style><style data-emotion-css="1s3a4zw">.css-1s3a4zw{position:relative;display:inline-block;height:30px;padding:0 12px;font-size:14px;line-height:30px;color:#056DE8;vertical-align:top;border-radius:100px;background:rgba(5,109,232,0.1);}.css-1s3a4zw:hover{background-color:rgba(5,109,232,0.15);}</style><style data-emotion-css="u1frr4">.css-u1frr4{width:724px;}.css-u1frr4 .Modal-content{margin:22px 0 5px;}.css-u1frr4 .Creator-QuestionShared-title{padding-right:65px;}</style><script charset="utf-8" src="./后处理效率问题和Tile-Based GPU - 知乎_files/column.zswsdid.8a757e7f9aca174311cb.js.download" crossorigin="anonymous"></script><script charset="utf-8" src="./后处理效率问题和Tile-Based GPU - 知乎_files/column.shared_da7c8ae9ba4d3befc7c2f1c0b3e151cc8ee375ec.9a6152e17648a3547607.js.download" crossorigin="anonymous"></script><link rel="stylesheet" type="text/css" href="./后处理效率问题和Tile-Based GPU - 知乎_files/column.user-hover-card.216a26f4.2325354b564ca3c742a9.css" crossorigin="anonymous"><script charset="utf-8" src="./后处理效率问题和Tile-Based GPU - 知乎_files/column.user-hover-card.90bcd0d2d3cabdc56ec4.js.download" crossorigin="anonymous"></script><link rel="stylesheet" type="text/css" href="./后处理效率问题和Tile-Based GPU - 知乎_files/column.Labels.216a26f4.7d19d2afdc588e36471f.css" crossorigin="anonymous"><script charset="utf-8" src="./后处理效率问题和Tile-Based GPU - 知乎_files/column.Labels.e4bce7da13808002d306.js.download" crossorigin="anonymous"></script><link rel="stylesheet" type="text/css" href="./后处理效率问题和Tile-Based GPU - 知乎_files/column.GoodsRecommendGoodsCardList.216a26f4.fa4bea774ed719d42a42.css" crossorigin="anonymous"><script charset="utf-8" src="./后处理效率问题和Tile-Based GPU - 知乎_files/column.GoodsRecommendGoodsCardList.da5d2f04db0b059ea5bf.js.download" crossorigin="anonymous"></script><script charset="utf-8" src="./后处理效率问题和Tile-Based GPU - 知乎_files/column.report_modals.804d027bd658db515e73.js.download" crossorigin="anonymous"></script><link rel="stylesheet" type="text/css" href="./后处理效率问题和Tile-Based GPU - 知乎_files/column.modals.216a26f4.4cc94e5a02bc6d62ae13.css" crossorigin="anonymous"><script charset="utf-8" src="./后处理效率问题和Tile-Based GPU - 知乎_files/column.modals.6f528791ab4e41003f5b.js.download" crossorigin="anonymous"></script><script charset="utf-8" src="./后处理效率问题和Tile-Based GPU - 知乎_files/column.lib_cf230269.e405bd316f736abc16b4.js.download" crossorigin="anonymous"></script><script charset="utf-8" src="./后处理效率问题和Tile-Based GPU - 知乎_files/column.comments-v3.9db5c8229cf1c81896de.js.download" crossorigin="anonymous"></script><style data-emotion="css"></style><script charset="utf-8" src="./后处理效率问题和Tile-Based GPU - 知乎_files/column.81.e7fba72373a0d6bae521.js.download" crossorigin="anonymous"></script><script charset="utf-8" src="./后处理效率问题和Tile-Based GPU - 知乎_files/column.lib_9974496f.5b97ef76824871658209.js.download" crossorigin="anonymous"></script><script charset="utf-8" src="./后处理效率问题和Tile-Based GPU - 知乎_files/column.shared_03103dc5b8182a3433c5ef33bacb88093fd08a38.1bfaff73386805e953d6.js.download" crossorigin="anonymous"></script><script charset="utf-8" src="./后处理效率问题和Tile-Based GPU - 知乎_files/column.shared_889419e066c38251e2dcbb9a7c42dbfc379cadeb.1535c83914cff4975d7f.js.download" crossorigin="anonymous"></script><link rel="stylesheet" type="text/css" href="./后处理效率问题和Tile-Based GPU - 知乎_files/column.EditableV2.216a26f4.56bfcd6fcf02391f767f.css" crossorigin="anonymous"><script charset="utf-8" src="./后处理效率问题和Tile-Based GPU - 知乎_files/column.EditableV2.9f0e35d0c4103cc5b4ea.js.download" crossorigin="anonymous"></script></head><body class="WhiteBg-body PostIndex-body" data-rh="class"><div id="root"><div class="App"><div class="LoadingBar"></div><div><span style="position:absolute;top:-10000px;left:-10000px" role="log" aria-live="assertive"></span></div><main role="main" class="App-main"><div class="Post-content" data-zop-usertoken="{&quot;userToken&quot;:&quot;ao-ta-kang-007&quot;}" data-zop="{&quot;authorName&quot;:&quot;litmin&quot;,&quot;itemId&quot;:135285010,&quot;title&quot;:&quot;后处理效率问题和Tile-Based GPU&quot;,&quot;type&quot;:&quot;article&quot;}" data-za-detail-view-path-module="PostItem" data-za-extra-module="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Post&quot;,&quot;token&quot;:&quot;135285010&quot;}}}"><div class="ColumnPageHeader-Wrapper"><div><div class="Sticky ColumnPageHeader is-fixed css-1l12z7y" style="width: 1581.33px; top: 0px; left: 0px;"><div class="ColumnPageHeader-content"><a href="https://www.zhihu.com/" aria-label="知乎"><svg viewBox="0 0 64 30" fill="#056DE8" width="64" height="30" class="css-1hlrcxk"><path d="M29.05 4.582H16.733V25.94h3.018l.403 2.572 4.081-2.572h4.815V4.582zm-5.207 18.69l-2.396 1.509-.235-1.508h-1.724V7.233h6.78v16.04h-2.425zM14.46 14.191H9.982c0-.471.033-.954.039-1.458v-5.5h5.106V5.935a1.352 1.352 0 0 0-.404-.957 1.378 1.378 0 0 0-.968-.396H5.783c.028-.088.056-.177.084-.255.274-.82 1.153-3.326 1.153-3.326a4.262 4.262 0 0 0-2.413.698c-.57.4-.912.682-1.371 1.946-.532 1.453-.997 2.856-1.31 3.693C1.444 8.674.28 11.025.28 11.025a5.85 5.85 0 0 0 2.52-.61c1.119-.593 1.679-1.502 2.054-2.883l.09-.3h2.334v5.5c0 .5-.045.982-.073 1.46h-4.12c-.71 0-1.39.278-1.893.775a2.638 2.638 0 0 0-.783 1.874h6.527a17.717 17.717 0 0 1-.778 3.649 16.796 16.796 0 0 1-3.012 5.273A33.104 33.104 0 0 1 0 28.74s3.13 1.175 5.425-.954c1.388-1.292 2.631-3.814 3.23-5.727a28.09 28.09 0 0 0 1.12-5.229h5.967v-1.37a1.254 1.254 0 0 0-.373-.899 1.279 1.279 0 0 0-.909-.37z"></path><path d="M11.27 19.675l-2.312 1.491 5.038 7.458a6.905 6.905 0 0 0 .672-2.218 3.15 3.15 0 0 0-.28-2.168l-3.118-4.563zM51.449 15.195V5.842c4.181-.205 7.988-.405 9.438-.483l.851-.05c.387-.399.885-2.395.689-3.021-.073-.25-.213-.666-.638-.555a33.279 33.279 0 0 1-4.277.727c-2.766.321-3.97.404-7.804.682-6.718.487-12.709.72-12.709.72a2.518 2.518 0 0 0 .788 1.834 2.567 2.567 0 0 0 1.883.706c2.278-.095 5.598-.25 8.996-.41v9.203h-12.78c0 .703.281 1.377.783 1.874a2.69 2.69 0 0 0 1.892.777h10.105v7.075c0 .887-.464 1.192-1.231 1.214h-3.92a4.15 4.15 0 0 0 .837 1.544 4.2 4.2 0 0 0 1.403 1.067 6.215 6.215 0 0 0 2.71.277c1.36-.066 2.967-.826 2.967-3.57v-7.607h11.28c.342 0 .67-.135.91-.374.242-.239.378-.563.378-.902v-1.375H51.449z"></path><path d="M42.614 8.873a2.304 2.304 0 0 0-1.508-.926 2.334 2.334 0 0 0-1.727.405l-.376.272 4.255 5.85 2.24-1.62-2.884-3.98zM57.35 8.68l-3.125 4.097 2.24 1.663 4.517-5.927-.375-.277a2.32 2.32 0 0 0-1.722-.452 2.327 2.327 0 0 0-1.536.896z"></path></svg></a><i class="ColumnPageHeader-Line"></i><div class="ColumnPageHeader-Title"><div class="ColumnPageHeader-TitleName"><span class="ColumnPageHeader-TitleMeta">首发于</span><a class="ColumnLink ColumnPageHeader-TitleColumn" href="https://www.zhihu.com/column/c_1159801832779427840">Computer Graphics</a></div></div><div class="ColumnPageHeader-Button"><div class="Popover"><button title="更多" id="Popover1-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover1-content" type="button" class="Button ColumnPageHeader-MenuToggler Button--plain"><svg width="24" height="24" viewBox="0 0 24 24" data-new-api="Dots24" data-old-api="Dots" class="Zi Zi--Dots" fill="currentColor"><path d="M5.34 12a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0zm8.325 0a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0zm8.325 0a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0z"></path></svg></button></div><button type="button" class="Button ColumnPageHeader-WriteButton Button--blue"><svg width="24" height="24" viewBox="0 0 24 24" data-new-api="PencilPaper24" data-old-api="EditSurround" class="Zi Zi--EditSurround" fill="currentColor"><path d="M3.55 5.97a2.415 2.415 0 012.415-2.416h7.56a.75.75 0 010 1.5h-7.56a.915.915 0 00-.915.915v12.072c0 .505.41.915.915.915h12.074c.506 0 .915-.41.915-.915v-7.557a.75.75 0 011.5 0v7.557a2.415 2.415 0 01-2.415 2.415H5.965A2.415 2.415 0 013.55 18.04V5.969z" fill-rule="evenodd" clip-rule="evenodd"></path><path d="M20.239 3.77a.75.75 0 010 1.06l-8.206 8.206a.75.75 0 01-1.06-1.06l8.205-8.206a.75.75 0 011.06 0z" fill-rule="evenodd" clip-rule="evenodd"></path></svg>写文章</button></div></div><div class="ColumnPageHeader-profile"><div class="Popover AppHeader-menu"><button id="Popover9-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover9-content" type="button" class="Button AppHeader-profileEntry Button--plain"><img class="Avatar AppHeader-profileAvatar" width="30" height="30" src="./后处理效率问题和Tile-Based GPU - 知乎_files/v2-ef69d369588e9764f9252225e6dc29ce_is.jpg" srcset="https://picx.zhimg.com/v2-ef69d369588e9764f9252225e6dc29ce_im.jpg?source=32738c0c 2x" alt="点击打开奥塔康007的主页"></button></div><div class="Popover AppHeaderProfileMenu-creatorHintPopover"><div class="AppHeaderProfileMenu-creatorHintToggler" id="Popover10-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover10-content"></div></div></div></div><div class="Sticky--holder" style="position: relative; inset: 0px; display: block; float: none; margin: 0px; height: 52px;"></div></div></div><article class="Post-Main Post-NormalMain" tabindex="-1"><header class="Post-Header"><h1 class="Post-Title">后处理效率问题和Tile-Based GPU</h1><div class="Post-Author"><div class="AuthorInfo" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><div class="AuthorInfo"><meta itemprop="name" content="litmin"><meta itemprop="image" content="https://pic3.zhimg.com/v2-55b1b652e26ee47698ff08310b794dec_l.jpg?source=172ae18b"><meta itemprop="url" content="https://www.zhihu.com/people/litmin-53"><meta itemprop="zhihu:followerCount"><span class="UserLink AuthorInfo-avatarWrapper"><div class="Popover"><div id="Popover14-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover14-content"><a href="https://www.zhihu.com/people/litmin-53" target="_blank" class="UserLink-link" data-za-detail-view-element_name="User"><img class="Avatar Avatar--round AuthorInfo-avatar" width="38" height="38" src="./后处理效率问题和Tile-Based GPU - 知乎_files/v2-55b1b652e26ee47698ff08310b794dec_xs.jpg" srcset="https://pic3.zhimg.com/v2-55b1b652e26ee47698ff08310b794dec_l.jpg?source=172ae18b 2x" alt="litmin"></a></div></div></span><div class="AuthorInfo-content"><div class="AuthorInfo-head"><span class="UserLink AuthorInfo-name"><div class="Popover"><div id="Popover15-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover15-content"><a href="https://www.zhihu.com/people/litmin-53" target="_blank" class="UserLink-link" data-za-detail-view-element_name="User">litmin</a></div></div></span></div><div class="AuthorInfo-detail"><div class="AuthorInfo-badge"></div></div></div></div></div><button type="button" class="Button FollowButton Button--primary Button--blue"><span style="display:inline-flex;align-items:center">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="PlusFill24" data-old-api="Plus" class="Zi Zi--Plus FollowButton-icon" fill="currentColor"><path d="M13.25 3.25a1.25 1.25 0 10-2.5 0v7.5h-7.5a1.25 1.25 0 100 2.5h7.5v7.5a1.25 1.25 0 102.5 0v-7.5h7.5a1.25 1.25 0 000-2.5h-7.5v-7.5z" fill-rule="evenodd" clip-rule="evenodd"></path></svg></span>关注他</button></div><div class="LabelContainer-wrapper"></div><div role="button" tabindex="0"><span class="Voters"><button type="button" class="Button Button--plain">103 人<!-- -->赞同了该文章</button></span></div></header><div class="Post-RichTextContainer"><div class="css-1yuhvjn"><div class="RichText ztext Post-RichText css-yvdm7v" options="[object Object]"><p data-first-child="" data-pid="nSz2OKK7">之前优化后处理时，发现自己预期应该快的方式反而慢了，这里总结一下这个问题以及Tile-based GPU的特性。</p><h2><b>后处理效率问题</b></h2><p data-pid="oTlUALXD">这个后处理要实现的功能是针对场景中的某些部分应用这个效果，其他部分保持不变，在Unity中实现，手机上测试。</p><p data-pid="FTPnCMJl"><b>优化前的流程是：</b></p><ol><li data-pid="AuQkeiqJ">场景渲染到<b>RT1</b>中，同时需要后处理的部分使用Stencil标记出来。</li><li data-pid="RDRQeLrP">保持<b>RT</b>不变，把Stencil信息渲染到<b>RT1</b>的Alpha通道，因为Alpha通道在之后没有其他作用。</li><li data-pid="tpjkK6x1">切换至<b>RT3</b>，将<b>RT1</b>的颜色经过<b>后处理步骤1</b>输出。</li><li data-pid="5NerNmI7">切换至<b>RT2</b>，采样<b>RT1</b>的Alpha通道来区分这个区域是否需要后处理：</li><ol><li data-pid="UlTfjPW1">该像素需要后处理：<b>RT3</b>的RGB作为输入，经过<b>后处理步骤2</b>计算输出颜色</li><li data-pid="KlRhtf4Q">该像素不需要后处理：直接输出<b>RT1</b>的RGB</li></ol><li data-pid="LGT3zyxm">切换至<b>BackBuffer</b>，把<b>RT2</b>的结果Blit到BackBuffer</li></ol><p data-pid="ylDGWb15"><b>优化后的流程是：</b></p><ol><li data-pid="z8zDuPIl">场景渲染到<b>RT1</b>中，同时需要后处理的部分使用Stencil标记出来。</li><li data-pid="1YIbEwHk">切换至<b>RT3</b>，将<b>RT1</b>的颜色经过<b>后处理步骤1</b>输出。</li><li data-pid="5aDs2zbl">Color Buffer切换至<b>RT2</b>，Depth Buffer切换至<b>RT1</b>，直接使用<b>RT1</b>的Stencil信息：</li><ol><li data-pid="0B_G0RIs">Stencil Test通过：<b>RT3</b>的RGB作为输入，输出经过<b>后处理步骤2</b>计算的颜色</li><li data-pid="jcdaERdZ">Stencil Test失败：直接输出<b>RT1</b>的RGB</li></ol><li data-pid="zd-2Of_z">切换至<b>BackBuffer</b>，把<b>RT2</b>的结果Blit到BackBuffer。</li></ol><p data-pid="ULDyfGsf">画个图可能更容易看明白)：</p><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-38a7fa7c46a15c96c00f28af888c0548_b.jpg" data-caption="" data-size="normal" data-rawwidth="2094" data-rawheight="2058" class="origin_image zh-lightbox-thumb" width="2094" data-original="https://pic1.zhimg.com/v2-38a7fa7c46a15c96c00f28af888c0548_r.jpg"/></noscript><img src="./后处理效率问题和Tile-Based GPU - 知乎_files/v2-38a7fa7c46a15c96c00f28af888c0548_1440w.jpg" data-caption="" data-size="normal" data-rawwidth="2094" data-rawheight="2058" class="origin_image zh-lightbox-thumb lazy" width="2094" data-original="https://pic1.zhimg.com/v2-38a7fa7c46a15c96c00f28af888c0548_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-38a7fa7c46a15c96c00f28af888c0548_b.jpg" data-lazy-status="ok"></figure><p data-pid="1sn4YOeJ">想要优化的部分就是把Stencil信息渲染到Alpha通道这一步，优化前的做法多了这一步而且在第四步中还出现了分支，优化后减少了这一步，而且测试后可以确认Early-Z是生效的，这样Stencil Test通不过还减少了片元着色器的计算，怎么说都要比优化前快呀。问题就出在了带宽上，下面来了解一下Tile-based GPU的特性。</p><h2><b>Tile-based GPU</b></h2><p data-pid="zg9wXaVR">以前的渲染方式叫做<b>IMR</b>（Immediate Mode Rendering），IMR的优势是每个primitive直接提交渲染，pipeline没有中断，渲染速度快，劣势就在于带宽压力和功耗较大，原因如下：，比如每个像素需要从Depth/Stencil缓存读取值进行比较，然后把新值写回Depth/Stencil，同时把颜色写入颜色缓存，这里就传输了12byte(color = 4byte, d/s = 4byte, d/s读写，Color只写（不考虑混合），一共就是4+4+4=12byte)。如果加上overdraw、颜色混合、多通道算法、多采样抗锯齿，一个像素传输100byte是一件轻轻松松的事情。</p><p data-pid="mpn5wzDu">对于PC、主机平台，由于显卡有独立的显存，GPU读写的速度比较快，这样的带宽还可以接受，但是移动平台上GPU是跟CPU共享内存，速度要慢很多，所以大多数移动GPU使用了<b>TBR</b>（Tile-based Rendering）。</p><p data-pid="ADk73sqE">TBR把FrameBuffer从主内存移到了一块超高速的on-chip存储器上，这个on-chip存储器和计算发生的芯片无限接近，计算芯片就能以远低于常规消耗的电能来读写。通常on-chip存储器很小，如果要做的很大就需要很多硅片，所以on-chip存储器在有的GPU小到只能容纳16x16像素，我们把这个on-chip存储器叫做Tile Buffer根据on-chip存储器的大小，TBR会把FrameBuffer分成一个个Tile，把整个渲染管线大概分成两步。</p><p data-pid="XAZPGxHw"><b>第一步决定每个Tile被哪些三角形影响。</b></p><p data-pid="Y3JBRvIT">当三角形提交渲染后，它不会被立刻光栅化，而是通过顶点位置来决定哪个Tile会被这个三角形影响，从而将这个三角形保存进<b>内存中的这个Tile的数据结构</b>中，同时每个三角形还需要将当时的渲染状态打包，包括片元着色器、常量寄存器、深度测试等，我们可以把这些收集的数据成为Frame Data（ ARM文档把这些数据叫做多边形列表polygon lists，而Imagination Technologies文档把他们称为参数缓存parameter buffer ）。</p><p data-pid="njjDo-LF">这一步需要进行顶点着色器的处理，因为它会影响三角形的位置。</p><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-715b939e6644ae756dcf4ffd22d0199f_b.gif" data-size="normal" data-rawwidth="512" data-rawheight="480" data-thumbnail="https://pic4.zhimg.com/v2-715b939e6644ae756dcf4ffd22d0199f_b.jpg" class="origin_image zh-lightbox-thumb" width="512" data-original="https://pic4.zhimg.com/v2-715b939e6644ae756dcf4ffd22d0199f_r.jpg"/></noscript><div class="RichText-gifPlaceholder"><div class="GifPlayer css-1jjs8o8" data-size="normal" data-za-detail-view-path-module="GifItem"><img class="ztext-gif" role="presentation" src="./后处理效率问题和Tile-Based GPU - 知乎_files/v2-715b939e6644ae756dcf4ffd22d0199f_b.jpg" data-thumbnail="https://pic4.zhimg.com/v2-715b939e6644ae756dcf4ffd22d0199f_b.jpg" data-size="normal" alt="动图封面" style="display: block;"><div class="GifPlayer-icon css-d39tw7"><svg width="60" height="60" viewBox="0 0 60 60"><g fill="none" fill-rule="evenodd"><ellipse fill="#000" opacity="0.45" cx="30" cy="30" rx="30" ry="30"></ellipse><ellipse stroke="#FFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-dasharray="4,1,4" cx="30" cy="30" rx="26" ry="26"></ellipse><svg x="16" y="18.5"><path d="M12.842 12.981V11.4H7.64v1.653h3.27v.272c-.018 1.881-1.442 3.147-3.516 3.147-2.382 0-3.876-1.846-3.876-4.834 0-2.936 1.485-4.79 3.832-4.79 1.732 0 2.936.835 3.428 2.364h1.977c-.43-2.566-2.522-4.201-5.405-4.201-3.55 0-5.845 2.601-5.845 6.644 0 4.096 2.268 6.654 5.863 6.654 3.322 0 5.475-2.083 5.475-5.327zM17.518 18V5.317H15.55V18h1.97zm5.142 0v-5.256h5.449v-1.74h-5.45V7.11h5.95V5.317h-7.918V18h1.969z" fill="#fff"></path></svg></g></svg></div></div></div><figcaption>上图中的下半部分展示了每个三角形的提交，上半部分展示了每个Tile相关的三角形</figcaption></figure><p data-pid="KL_xBhRN"><b>第二步光栅化每个Tile。</b></p><p data-pid="Ym6WHpS4">根据内存中每个Tile记录的数据渲染每个Tile。渲染某个Tile时，颜色首先写入Tile Buffer，深度模板测试、颜色混合也是发生在Tile Buffer，当渲染完这个Tile时再把颜色从Tile Buffer写入内存中的FrameBuffer。</p><figure data-size="normal"><noscript><img src="https://pic3.zhimg.com/v2-98a8e94d11e9ff846b9540459e0c7a36_b.gif" data-size="normal" data-rawwidth="512" data-rawheight="259" data-thumbnail="https://pic3.zhimg.com/v2-98a8e94d11e9ff846b9540459e0c7a36_b.jpg" class="origin_image zh-lightbox-thumb" width="512" data-original="https://pic3.zhimg.com/v2-98a8e94d11e9ff846b9540459e0c7a36_r.jpg"/></noscript><div class="RichText-gifPlaceholder"><div class="GifPlayer css-1jjs8o8" data-size="normal" data-za-detail-view-path-module="GifItem"><img class="ztext-gif" role="presentation" src="./后处理效率问题和Tile-Based GPU - 知乎_files/v2-98a8e94d11e9ff846b9540459e0c7a36_b.jpg" data-thumbnail="https://pic3.zhimg.com/v2-98a8e94d11e9ff846b9540459e0c7a36_b.jpg" data-size="normal" alt="动图封面" style="display: block;"><div class="GifPlayer-icon css-d39tw7"><svg width="60" height="60" viewBox="0 0 60 60"><g fill="none" fill-rule="evenodd"><ellipse fill="#000" opacity="0.45" cx="30" cy="30" rx="30" ry="30"></ellipse><ellipse stroke="#FFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-dasharray="4,1,4" cx="30" cy="30" rx="26" ry="26"></ellipse><svg x="16" y="18.5"><path d="M12.842 12.981V11.4H7.64v1.653h3.27v.272c-.018 1.881-1.442 3.147-3.516 3.147-2.382 0-3.876-1.846-3.876-4.834 0-2.936 1.485-4.79 3.832-4.79 1.732 0 2.936.835 3.428 2.364h1.977c-.43-2.566-2.522-4.201-5.405-4.201-3.55 0-5.845 2.601-5.845 6.644 0 4.096 2.268 6.654 5.863 6.654 3.322 0 5.475-2.083 5.475-5.327zM17.518 18V5.317H15.55V18h1.97zm5.142 0v-5.256h5.449v-1.74h-5.45V7.11h5.95V5.317h-7.918V18h1.969z" fill="#fff"></path></svg></g></svg></div></div></div><figcaption>渲染每一个Tile，左边是颜色缓冲，右边是深度缓冲</figcaption></figure><p class="ztext-empty-paragraph"><br></p><p data-pid="3KLtszti">整个渲染管线如下：</p><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-2eee62dbc6851b67eee82738c5741bbf_b.jpg" data-caption="" data-size="normal" data-rawwidth="517" data-rawheight="754" class="origin_image zh-lightbox-thumb" width="517" data-original="https://pic4.zhimg.com/v2-2eee62dbc6851b67eee82738c5741bbf_r.jpg"/></noscript><img src="./后处理效率问题和Tile-Based GPU - 知乎_files/v2-2eee62dbc6851b67eee82738c5741bbf_1440w.jpg" data-caption="" data-size="normal" data-rawwidth="517" data-rawheight="754" class="origin_image zh-lightbox-thumb lazy" width="517" data-original="https://pic4.zhimg.com/v2-2eee62dbc6851b67eee82738c5741bbf_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-2eee62dbc6851b67eee82738c5741bbf_b.jpg" data-lazy-status="ok"></figure><p data-pid="h05Uituq">带宽的减少大大提高了光栅化的速度，但是因为所有的几何处理完成以后才能开始光栅化，所以TBR跟IMR相比是有延迟的。在一些TBR硬件中，这两个阶段是Pipelined。因此任何限制并行性的操作都会降低效率，比如一个顶点着色器依赖于上一帧的输出，还有一个纹理每帧都在修改但是不是双缓冲的。</p><p data-pid="f0PrSjss">还要注意的是如果几何数据非常复杂，就会使写入内存的Frame Data过度膨胀，反而导致比IMR更慢。</p><p data-pid="oZ3STUoG"><b>尽可能Clear</b></p><p data-pid="YIM50jD4">在IMR中，一个glClear调用会把Clear值写入FrameBuffer，这个代价是较高的，因此以前会用各种技巧避免这个操作，比如当知道接下来绘制会完全覆盖FrameBuffer，就不调用Clear颜色缓冲。</p><p data-pid="H3oKRgTk">但是在TBR中，当切换FrameBuffer时要尽可能对每个Attachment调用Clear，这明确告诉驱动我们不需要之前的状态，就能避免从memory读取数据。同时还要避免把深度写入内存，因为深度只在渲染的时候使用。</p><h2><b>后处理问题分析</b></h2><p data-pid="-R76nZKh">了解了Tile-based GPU的特性，我遇到的后处理问题就能迎刃而解。优化之前的第二步是把Stencil信息渲染到<b>RT1</b>的Alpha通道，在此之前的FrameBuffer也是<b>RT1</b>的Color Buffer和Depth Buffer，没有发生FrameBuffer的切换。优化之后第三步切换至<b>RT1</b>，因为要使用<b>RT1</b>之前的Stencil信息，并且在之前颜色的基础上叠加后处理部分，所以使用如下方式切换至RT1：</p><div class="highlight"><pre><code class="language-csharp"><span class="n">cmd</span><span class="p">.</span><span class="n">SetRenderTarget</span><span class="p">(</span><span class="n">rt</span><span class="p">,</span> <span class="n">RenderBufferLoadAction</span><span class="p">.</span><span class="n">Load</span><span class="p">,</span>  <span class="n">RenderBufferStoreAction</span><span class="p">.</span><span class="n">Store</span><span class="p">);</span>    <span class="c1">// cmd是Unity中的CommandBuffer
</span></code></pre></div><p data-pid="-pzmRVEH">这会导致渲染时从memory中把<b>RT1</b>的数据读取到Tile Buffer，增加大量的带宽，自然效率也会变慢很多。</p><p data-pid="ny8oY4yl">Unity中的RenderBufferLoadAction的注释也说明了这一点：</p><div class="highlight"><pre><code class="language-text">//
// 摘要:
//     This enum describes what should be done on the render target when it is activated
//     (loaded).
public enum RenderBufferLoadAction
{
    //
    // 摘要:
    //     When this RenderBuffer is activated, preserve the existing contents of it. This
    //     setting is expensive on tile-based GPUs and should be avoided whenever possible.
    Load = 0,
    //
    // 摘要:
    //     Upon activating the render buffer, clear its contents. Currently only works together
    //     with the RenderPass API.
    Clear = 1,
    //
    // 摘要:
    //     When this RenderBuffer is activated, the GPU is instructed not to care about
    //     the existing contents of that RenderBuffer. On tile-based GPUs this means that
    //     the RenderBuffer contents do not need to be loaded into the tile memory, providing
    //     a performance boost.
    DontCare = 2
}</code></pre></div><h2><b>Future</b></h2><p data-pid="LYNNLImH">类似后处理这种多个Pass的渲染（前面的Pass先写入内存，后面的Pass使用前面Pass的结果进行渲染），由于带宽原因都很难在移动平台使用，一个典型例子就是延迟渲染。</p><p data-pid="BfeTT20M">不过我发现OpenGL引入了两个扩展：<b>FrameBuffer Fetch</b>和<b>Pixel Local Storage</b>，<b>Framebuffer</b> <b>fetch</b>是一个片元着色器的扩展,它可以让你读取这个片元以前的颜色，<b>Pixel Local Storage</b>可以把数据保留在On-chip存储上，利用这两个扩展可以解决多Pass的带宽问题，但是不是API标准支持的，现有设备没有普遍支持。</p><p data-pid="56i0gGqC">现代图形API中，<b>Vulkan</b>的<b>SubPass</b>和<b>Direct3D </b>12的<b>Render Pass</b>的概念也可以解决多Pass渲染的带宽问题，并且IMR也可以从中受益，而且是标准API支持的。随着支持现代图形API设备的普及，类似流程的渲染将不存在带宽问题。:)</p><h2><b>Reference</b></h2><div class="RichText-LinkCardContainer"><a target="_blank" href="https://link.zhihu.com/?target=https%3A//www.cnblogs.com/gameknife/p/3515714.html" data-draft-node="block" data-draft-type="link-card" data-text="OpenGL Insights 阅读有感 - Tile Based架构下的性能调校 翻译" class="LinkCard new css-1wr1m8" data-image="https://pic2.zhimg.com/v2-36c360508f6ee07bfa10f9ab9e4d27bd_180x120.jpg" data-image-width="717" data-image-height="586" data-za-detail-view-id="172"><span class="LinkCard-contents"><span class="LinkCard-title two-line">OpenGL Insights 阅读有感 - Tile Based架构下的性能调校 翻译</span><span class="LinkCard-desc"><span style="display: inline-flex; align-items: center;">​<svg width="14" height="14" viewBox="0 0 24 24" data-new-api="Link24" data-old-api="InsertLink" class="Zi Zi--InsertLink" fill="currentColor"><path d="M5.327 18.883a3.005 3.005 0 010-4.25l2.608-2.607a.75.75 0 10-1.06-1.06l-2.608 2.607a4.505 4.505 0 006.37 6.37l2.608-2.607a.75.75 0 00-1.06-1.06l-2.608 2.607a3.005 3.005 0 01-4.25 0zm5.428-11.799a.75.75 0 001.06 1.06L14.48 5.48a3.005 3.005 0 014.25 4.25l-2.665 2.665a.75.75 0 001.061 1.06l2.665-2.664a4.505 4.505 0 00-6.371-6.372l-2.665 2.665zm5.323 2.117a.75.75 0 10-1.06-1.06l-7.072 7.07a.75.75 0 001.061 1.06l7.071-7.07z" fill-rule="evenodd" clip-rule="evenodd"></path></svg></span>www.cnblogs.com/gameknife/p/3515714.html</span></span><span class="LinkCard-image" style="height: 60px;"><img src="./后处理效率问题和Tile-Based GPU - 知乎_files/v2-36c360508f6ee07bfa10f9ab9e4d27bd_180x120.jpg" alt=""></span></a></div><div class="RichText-LinkCardContainer"><a target="_blank" href="https://link.zhihu.com/?target=https%3A//developer.samsung.com/galaxy-gamedev/resources/articles/gpu-framebuffer.html" data-draft-node="block" data-draft-type="link-card" data-text="GameDev - Build |  Samsung Developers" class="LinkCard new css-1wr1m8" data-image="https://pic2.zhimg.com/v2-fa498928f3572183017037401909ba19_180x120.jpg" data-image-width="1280" data-image-height="630" data-za-detail-view-id="172"><span class="LinkCard-contents"><span class="LinkCard-title two-line">GameDev - Build |  Samsung Developers</span><span class="LinkCard-desc"><span style="display: inline-flex; align-items: center;">​<svg width="14" height="14" viewBox="0 0 24 24" data-new-api="Link24" data-old-api="InsertLink" class="Zi Zi--InsertLink" fill="currentColor"><path d="M5.327 18.883a3.005 3.005 0 010-4.25l2.608-2.607a.75.75 0 10-1.06-1.06l-2.608 2.607a4.505 4.505 0 006.37 6.37l2.608-2.607a.75.75 0 00-1.06-1.06l-2.608 2.607a3.005 3.005 0 01-4.25 0zm5.428-11.799a.75.75 0 001.06 1.06L14.48 5.48a3.005 3.005 0 014.25 4.25l-2.665 2.665a.75.75 0 001.061 1.06l2.665-2.664a4.505 4.505 0 00-6.371-6.372l-2.665 2.665zm5.323 2.117a.75.75 0 10-1.06-1.06l-7.072 7.07a.75.75 0 001.061 1.06l7.071-7.07z" fill-rule="evenodd" clip-rule="evenodd"></path></svg></span>developer.samsung.com/galaxy-gamedev/resources/articles/gpu-framebuffer.html</span></span><span class="LinkCard-image" style="height: 60px;"><img src="./后处理效率问题和Tile-Based GPU - 知乎_files/v2-fa498928f3572183017037401909ba19_180x120.jpg" alt=""></span></a></div><p></p></div></div></div><div role="button" tabindex="0" class="ContentItem-time">编辑于 2020-06-11 13:50</div><div class="Post-topicsAndReviewer"><div class="TopicList Post-Topics"><div class="Tag Topic css-1s3a4zw" data-za-detail-view-path-module="TopicItem" data-za-extra-module="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Topic&quot;,&quot;token&quot;:&quot;19570894&quot;}}}"><span class="Tag-content"><a class="TopicLink" href="https://www.zhihu.com/topic/19570894" target="_blank"><div class="Popover"><div id="Popover2-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover2-content">图形处理器（GPU）</div></div></a></span></div><div class="Tag Topic css-1s3a4zw" data-za-detail-view-path-module="TopicItem" data-za-extra-module="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Topic&quot;,&quot;token&quot;:&quot;19570902&quot;}}}"><span class="Tag-content"><a class="TopicLink" href="https://www.zhihu.com/topic/19570902" target="_blank"><div class="Popover"><div id="Popover3-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover3-content">GPU 通用计算</div></div></a></span></div><div class="Tag Topic css-1s3a4zw" data-za-detail-view-path-module="TopicItem" data-za-extra-module="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Topic&quot;,&quot;token&quot;:&quot;19613730&quot;}}}"><span class="Tag-content"><a class="TopicLink" href="https://www.zhihu.com/topic/19613730" target="_blank"><div class="Popover"><div id="Popover4-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover4-content">计算机图形学</div></div></a></span></div></div></div><div><div class="Sticky RichContent-actions is-fixed is-bottom" style="width: 690px; bottom: 0px; left: 445.667px;"><div class="ContentItem-actions" data-za-detail-view-path-module="BottomBar" data-za-extra-module="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Post&quot;,&quot;id&quot;:&quot;135285010&quot;}}}"><span><button aria-label="赞同 103 " aria-live="polite" type="button" class="Button VoteButton VoteButton--up"><span style="display:inline-flex;align-items:center">​<svg width="10" height="10" viewBox="0 0 24 24" data-new-api="AgreeFill24" data-old-api="TriangleUp" class="Zi Zi--TriangleUp VoteButton-TriangleUp" fill="currentColor"><path d="M13.792 3.681c-.781-1.406-2.803-1.406-3.584 0l-7.79 14.023c-.76 1.367.228 3.046 1.791 3.046h15.582c1.563 0 2.55-1.68 1.791-3.046l-7.79-14.023z" fill-rule="evenodd" clip-rule="evenodd"></path></svg></span>赞同 103</button><button aria-label="反对" aria-live="polite" type="button" class="Button VoteButton VoteButton--down"><span style="display:inline-flex;align-items:center">​<svg width="10" height="10" viewBox="0 0 24 24" data-new-api="OpposeFill24" data-old-api="TriangleDown" class="Zi Zi--TriangleDown" fill="currentColor"><path d="M13.792 20.319c-.781 1.406-2.803 1.406-3.584 0L2.418 6.296c-.76-1.367.228-3.046 1.791-3.046h15.582c1.563 0 2.55 1.68 1.791 3.046l-7.79 14.023z" fill-rule="evenodd" clip-rule="evenodd"></path></svg></span></button></span><button type="button" class="Button BottomActions-CommentBtn Button--plain Button--withIcon Button--withLabel"><span style="display:inline-flex;align-items:center">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="ChatBubbleFill24" data-old-api="Comment" class="Zi Zi--Comment Button-zi" fill="currentColor"><path d="M12 2.75a9.25 9.25 0 104.737 17.197l2.643.817a1 1 0 001.25-1.25l-.8-2.588A9.25 9.25 0 0012 2.75z" fill-rule="evenodd" clip-rule="evenodd"></path></svg></span>22 条评论</button><div class="Popover ShareMenu"><div class="ShareMenu-toggler" id="Popover5-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover5-content"><button type="button" class="Button Button--plain Button--withIcon Button--withLabel"><span style="display:inline-flex;align-items:center">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="PaperplaneFill24" data-old-api="Share" class="Zi Zi--Share Button-zi" fill="currentColor"><path d="M19.47 1.914a.8.8 0 011.204.778l-1.872 16.386a.9.9 0 01-1.204.743l-4.615-1.692a.7.7 0 00-.831.28l-1.927 3.02c-.43.674-1.474.369-1.474-.43v-3.865a.8.8 0 01.179-.504l5.808-7.148a.595.595 0 00-.897-.781l-5.93 6.354a1.1 1.1 0 01-1.258.252L2.57 13.46a.8.8 0 01-.08-1.415l16.98-10.13z"></path></svg></span>分享</button></div></div><button aria-live="polite" type="button" class="Button ContentItem-action Button--plain Button--withIcon Button--withLabel"><span style="display:inline-flex;align-items:center">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="HeartFill24" data-old-api="Heart" class="Zi Zi--Heart Button-zi" fill="currentColor"><path d="M12.004 4.934c1.015-.944 2.484-1.618 3.98-1.618 3.48 0 6.53 3.265 6.15 7.614-.11 1.254-.686 2.55-1.458 3.753-.778 1.215-1.79 2.392-2.845 3.419-1.054 1.028-2.168 1.923-3.161 2.566a9.96 9.96 0 01-1.41.777c-.418.182-.862.32-1.268.32s-.848-.137-1.267-.317a9.918 9.918 0 01-1.407-.771c-.992-.64-2.103-1.53-3.156-2.555-1.052-1.024-2.062-2.2-2.84-3.417-.77-1.208-1.346-2.51-1.456-3.775-.38-4.349 2.67-7.614 6.15-7.614 1.484 0 2.983.673 3.988 1.618z" fill-rule="evenodd" clip-rule="evenodd"></path></svg></span>喜欢</button><button type="button" class="Button Button--plain Button--withIcon Button--withLabel"><span style="display:inline-flex;align-items:center">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="StarFill24" data-old-api="Star" class="Zi Zi--Star Button-zi" fill="currentColor"><path d="M10.484 3.307c.673-1.168 2.358-1.168 3.032 0l2.377 4.122a.25.25 0 00.165.12l4.655.987c1.319.28 1.84 1.882.937 2.884l-3.186 3.535a.25.25 0 00-.063.193l.5 4.733c.142 1.34-1.222 2.33-2.453 1.782l-4.346-1.938a.25.25 0 00-.204 0l-4.346 1.938c-1.231.549-2.595-.442-2.453-1.782l.5-4.733a.25.25 0 00-.064-.193L2.35 11.42c-.903-1.002-.382-2.604.937-2.884l4.655-.987a.25.25 0 00.164-.12l2.378-4.122z"></path></svg></span>收藏</button><button type="button" class="Button ContentItem-action Button--plain Button--withIcon Button--withLabel"><span style="display:inline-flex;align-items:center">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="TrayFullFill24" data-old-api="Deliver" class="Zi Zi--Deliver Button-zi" fill="currentColor"><g fill-rule="evenodd" clip-rule="evenodd"><path d="M7.821 12a.75.75 0 01.75-.75h6.857a.75.75 0 010 1.5H8.571a.75.75 0 01-.75-.75zm1.144-4a.75.75 0 01.75-.75h4.571a.75.75 0 010 1.5H9.715a.75.75 0 01-.75-.75z"></path><path d="M7.527 3.15a2.35 2.35 0 00-2.309 1.91L3.165 15.84a.85.85 0 00-.015.16v2.5a2.35 2.35 0 002.35 2.35h13a2.35 2.35 0 002.35-2.35V16a.848.848 0 00-.015-.16L18.78 5.06a2.35 2.35 0 00-2.308-1.91H7.527zm0 1.7a.65.65 0 00-.639.528l-1.88 9.872h13.984l-1.88-9.872a.65.65 0 00-.64-.528H7.528z"></path></g></svg></span>申请转载</button><div class="Post-ActionMenuButton"><div class="Popover"><div id="Popover6-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover6-content"><button type="button" class="Button Button--plain Button--withIcon Button--iconOnly"><span style="display:inline-flex;align-items:center">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="Dots24" data-old-api="Dots" class="Zi Zi--Dots Button-zi" fill="currentColor"><path d="M5.34 12a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0zm8.325 0a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0zm8.325 0a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0z"></path></svg></span></button></div></div></div></div><div class="Post-SideActions" data-za-detail-view-path-module="LeftTabBar" data-za-extra-module="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Post&quot;,&quot;id&quot;:&quot;135285010&quot;}}}" style="opacity: 1;"><button class="like"><div class="Post-SideActions-icon"><svg width="16" height="16" viewBox="0 0 24 24" data-new-api="AgreeFill24" data-old-api="TriangleUp" class="Zi Zi--TriangleUp Post-SideActions-upIcon" fill="currentColor"><path d="M13.792 3.681c-.781-1.406-2.803-1.406-3.584 0l-7.79 14.023c-.76 1.367.228 3.046 1.791 3.046h15.582c1.563 0 2.55-1.68 1.791-3.046l-7.79-14.023z" fill-rule="evenodd" clip-rule="evenodd"></path></svg></div><div class="likeCount"><div class="likeCount-inner" data-previous="已赞同 104">赞同 103</div></div></button><div class="Popover ShareMenu"><div class="ShareMenu-toggler" id="Popover13-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover13-content"><img class="ShareMenu-fakeQRCode" src="./后处理效率问题和Tile-Based GPU - 知乎_files/qrcode" alt="微信二维码"><button><div class="Post-SideActions-icon"><span style="display: inline-flex; align-items: center;">​<svg width="20" height="20" viewBox="0 0 24 24" data-new-api="PaperplaneFill24" data-old-api="Share" class="Zi Zi--Share" fill="currentColor"><path d="M19.47 1.914a.8.8 0 011.204.778l-1.872 16.386a.9.9 0 01-1.204.743l-4.615-1.692a.7.7 0 00-.831.28l-1.927 3.02c-.43.674-1.474.369-1.474-.43v-3.865a.8.8 0 01.179-.504l5.808-7.148a.595.595 0 00-.897-.781l-5.93 6.354a1.1 1.1 0 01-1.258.252L2.57 13.46a.8.8 0 01-.08-1.415l16.98-10.13z"></path></svg></span></div>分享</button></div></div></div></div><div class="Sticky--holder" style="position: static; inset: auto auto 0px 0px; display: block; float: none; margin: 0px 0px 10px; height: 54px;"></div></div></article><div class="Post-Sub Post-NormalSub"><div style="overflow: unset;" data-za-detail-view-path-module="CommentList" data-za-extra-module="{}"><div class="Comments-container css-plbgu"><div class="css-79elbk"><div><div class="css-1fo89v5"><img class="Avatar css-1oi6kgx" src="./后处理效率问题和Tile-Based GPU - 知乎_files/v2-ef69d369588e9764f9252225e6dc29ce_l.jpg" srcset="https://picx.zhimg.com/v2-ef69d369588e9764f9252225e6dc29ce_l.jpg?source=32738c0c 2x"><div class="css-x0pxoz"><div class="css-i6bazn"><div class="css-0"><div class="InputLike css-ip4bff Editable"><div class="Dropzone Editable-content RichText RichText--editable RichText--clearBoth ztext" style="min-height: 38px;"><div class="DraftEditor-root"><div class="public-DraftEditorPlaceholder-root"><div class="public-DraftEditorPlaceholder-inner" id="placeholder-fcctj" style="white-space: pre-wrap;">写评论 | TC130 等 3 个人关注了作者</div></div><div class="DraftEditor-editorContainer"><div aria-describedby="placeholder-fcctj" class="notranslate public-DraftEditor-content" contenteditable="true" spellcheck="true" tabindex="0" style="outline: none; user-select: text; white-space: pre-wrap; overflow-wrap: break-word;" role="textbox"><div data-contents="true"><div class="Editable-unstyled" data-block="true" data-editor="fcctj" data-offset-key="7424k-0-0"><div data-offset-key="7424k-0-0" class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr"><span data-offset-key="7424k-0-0"><br data-text="true"></span></div></div></div></div></div></div></div><div></div><input multiple="" type="file" accept="image/webp,image/jpg,image/jpeg,image/png,image/gif" style="display: none;"></div></div></div></div></div></div><div class="css-z07uxh"><div class="css-we6n55"><div class="css-vpssrj"><div class="css-1k10w8f">22 条评论</div></div><div class="css-59erns"></div><div class="css-1hnxfhy"><div class="css-gjiv4z">默认</div><div class="css-1v9si9f">时间</div></div></div><div class="css-840pn3"><div class="css-1frn93x"><div class="css-vurnku"><div><div class="css-194v73m"><div class="css-1jll2aj"><div class="Popover"><div id="Popover18-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover18-content"><a href="https://www.zhihu.com/people/eff2f9680bba552602f34f00692e3881" target="_blank" class="css-1d3mfcn"><img class="Avatar css-1qchsfe" src="./后处理效率问题和Tile-Based GPU - 知乎_files/v2-abed1a8c04700ba7d72b45195223e0ff_l.jpg" srcset="https://pica.zhimg.com/v2-abed1a8c04700ba7d72b45195223e0ff_l.jpg?source=06d4cd63 2x" alt="究极人工智能瞎琢磨" loading="lazy"></a></div></div></div><div class="css-14nvvry"><div class="css-1besdh8"><div class="css-dza3t2"><div class="css-1tww9qq"><div class="Popover"><div id="Popover19-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover19-content"><a href="https://www.zhihu.com/people/eff2f9680bba552602f34f00692e3881" target="_blank" class="css-o7lu8j">究极人工智能瞎琢磨</a></div></div></div></div><svg width="16" height="16" viewBox="0 0 24 24" data-new-api="Dots24" data-old-api="Dots24" class="ZDI ZDI--Dots24 css-1jofpfq" fill="currentColor"><path d="M5.34 12a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0zm8.325 0a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0zm8.325 0a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0z"></path></svg></div><div class="CommentContent css-1ygdre8">请问，tile 的大小是 gpu 自己设置的还是可以自定义设置啊</div><div class="css-dbby2p"><div class="css-82fsyv"><div class="css-12cl38p">2021-09-28</div></div><div class="css-18opwoy"><button type="button" class="Button  css-1o56bgb"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="ChatBubbleFill24" data-old-api="ChatBubbleFill24" class="ZDI ZDI--ChatBubbleFill24 css-15ro776" fill="currentColor"><path d="M12 2.75a9.25 9.25 0 104.737 17.197l2.643.817a1 1 0 001.25-1.25l-.8-2.588A9.25 9.25 0 0012 2.75z" fill-rule="evenodd" clip-rule="evenodd"></path></svg></span>回复</button><button type="button" class="Button css-h1yvwn" style="transform: none;"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="ThumbFill24" data-old-api="ThumbFill24" class="ZDI ZDI--ThumbFill24 css-15ro776" fill="currentColor"><path d="M8.5 4.078c0-1.834 1.986-2.979 3.573-2.06a4.826 4.826 0 012.379 4.71l-.114 1.022h3.581c2.53 0 4.334 2.454 3.58 4.868l-1.823 5.833a3.784 3.784 0 01-3.848 2.64c-2.372-.147-6.042-.341-8.828-.341H4.5A1.75 1.75 0 012.75 19V9.5c0-.967.784-1.75 1.75-1.75h.637a3.418 3.418 0 003.19-2.191c.115-.296.173-.611.173-.928v-.553z"></path></svg></span>赞</button></div></div></div></div><div><div class="css-8j5fyx"><div class="css-1jll2aj"><div class="Popover"><div id="Popover20-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover20-content"><a href="https://www.zhihu.com/people/43c732233e159de27760c47f70c536c0" target="_blank" class="css-1d3mfcn"><img class="Avatar css-1qchsfe" src="./后处理效率问题和Tile-Based GPU - 知乎_files/v2-55b1b652e26ee47698ff08310b794dec_l.jpg" srcset="https://pica.zhimg.com/v2-55b1b652e26ee47698ff08310b794dec_l.jpg?source=06d4cd63 2x" alt="litmin" loading="lazy"></a></div></div></div><div class="css-14nvvry"><div class="css-1besdh8"><div class="css-dza3t2"><div class="css-1tww9qq"><div class="Popover"><div id="Popover21-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover21-content"><a href="https://www.zhihu.com/people/43c732233e159de27760c47f70c536c0" target="_blank" class="css-o7lu8j">litmin</a></div></div><span class="css-h9ndtl" href="">作者</span></div></div><svg width="16" height="16" viewBox="0 0 24 24" data-new-api="Dots24" data-old-api="Dots24" class="ZDI ZDI--Dots24 css-1jofpfq" fill="currentColor"><path d="M5.34 12a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0zm8.325 0a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0zm8.325 0a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0z"></path></svg></div><div class="CommentContent css-1ygdre8">GPU内部定好的，而且会根据输出的大小做调整</div><div class="css-dbby2p"><div class="css-82fsyv"><div class="css-12cl38p">2021-09-28</div></div><div class="css-18opwoy"><button type="button" class="Button  css-1o56bgb"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="ChatBubbleFill24" data-old-api="ChatBubbleFill24" class="ZDI ZDI--ChatBubbleFill24 css-15ro776" fill="currentColor"><path d="M12 2.75a9.25 9.25 0 104.737 17.197l2.643.817a1 1 0 001.25-1.25l-.8-2.588A9.25 9.25 0 0012 2.75z" fill-rule="evenodd" clip-rule="evenodd"></path></svg></span>回复</button><button type="button" class="Button css-h1yvwn" style="transform: none;"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="ThumbFill24" data-old-api="ThumbFill24" class="ZDI ZDI--ThumbFill24 css-15ro776" fill="currentColor"><path d="M8.5 4.078c0-1.834 1.986-2.979 3.573-2.06a4.826 4.826 0 012.379 4.71l-.114 1.022h3.581c2.53 0 4.334 2.454 3.58 4.868l-1.823 5.833a3.784 3.784 0 01-3.848 2.64c-2.372-.147-6.042-.341-8.828-.341H4.5A1.75 1.75 0 012.75 19V9.5c0-.967.784-1.75 1.75-1.75h.637a3.418 3.418 0 003.19-2.191c.115-.296.173-.611.173-.928v-.553z"></path></svg></span>赞</button></div></div></div></div></div></div><div><div class="css-194v73m"><div class="css-1jll2aj"><div class="Popover"><div id="Popover22-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover22-content"><a href="https://www.zhihu.com/people/128637094fc68a9fab3049d4fee777f2" target="_blank" class="css-1d3mfcn"><img class="Avatar css-1qchsfe" src="./后处理效率问题和Tile-Based GPU - 知乎_files/d2bfcae35_l.jpg" srcset="https://pic1.zhimg.com/d2bfcae35_l.jpg?source=06d4cd63 2x" alt="李世勋" loading="lazy"></a></div></div></div><div class="css-14nvvry"><div class="css-1besdh8"><div class="css-dza3t2"><div class="css-1tww9qq"><div class="Popover"><div id="Popover23-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover23-content"><a href="https://www.zhihu.com/people/128637094fc68a9fab3049d4fee777f2" target="_blank" class="css-o7lu8j">李世勋</a></div></div></div></div><svg width="16" height="16" viewBox="0 0 24 24" data-new-api="Dots24" data-old-api="Dots24" class="ZDI ZDI--Dots24 css-1jofpfq" fill="currentColor"><path d="M5.34 12a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0zm8.325 0a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0zm8.325 0a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0z"></path></svg></div><div class="CommentContent css-1ygdre8">大佬想问下如何测试确定EarlyZ 能进行stencil test呀. 一直以为Xcode 的GPU debuger 可以直观看HSR 与 EarlyZ 效果,最近测试发现GPU Debug 是无法呈现HSR效果.  是通过多个附加stencil test的后处理与多个不附加stencil test的后处理对比测试么?</div><div class="css-dbby2p"><div class="css-82fsyv"><div class="css-12cl38p">2021-08-03</div></div><div class="css-18opwoy"><button type="button" class="Button  css-1o56bgb"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="ChatBubbleFill24" data-old-api="ChatBubbleFill24" class="ZDI ZDI--ChatBubbleFill24 css-15ro776" fill="currentColor"><path d="M12 2.75a9.25 9.25 0 104.737 17.197l2.643.817a1 1 0 001.25-1.25l-.8-2.588A9.25 9.25 0 0012 2.75z" fill-rule="evenodd" clip-rule="evenodd"></path></svg></span>回复</button><button type="button" class="Button css-h1yvwn" style="transform: none;"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="ThumbFill24" data-old-api="ThumbFill24" class="ZDI ZDI--ThumbFill24 css-15ro776" fill="currentColor"><path d="M8.5 4.078c0-1.834 1.986-2.979 3.573-2.06a4.826 4.826 0 012.379 4.71l-.114 1.022h3.581c2.53 0 4.334 2.454 3.58 4.868l-1.823 5.833a3.784 3.784 0 01-3.848 2.64c-2.372-.147-6.042-.341-8.828-.341H4.5A1.75 1.75 0 012.75 19V9.5c0-.967.784-1.75 1.75-1.75h.637a3.418 3.418 0 003.19-2.191c.115-.296.173-.611.173-.928v-.553z"></path></svg></span>赞</button></div></div></div></div><div><div class="css-8j5fyx"><div class="css-1jll2aj"><div class="Popover"><div id="Popover24-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover24-content"><a href="https://www.zhihu.com/people/128637094fc68a9fab3049d4fee777f2" target="_blank" class="css-1d3mfcn"><img class="Avatar css-1qchsfe" src="./后处理效率问题和Tile-Based GPU - 知乎_files/d2bfcae35_l(1).jpg" srcset="https://pica.zhimg.com/d2bfcae35_l.jpg?source=06d4cd63 2x" alt="李世勋" loading="lazy"></a></div></div></div><div class="css-14nvvry"><div class="css-1besdh8"><div class="css-dza3t2"><div class="css-1tww9qq"><div class="Popover"><div id="Popover25-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover25-content"><a href="https://www.zhihu.com/people/128637094fc68a9fab3049d4fee777f2" target="_blank" class="css-o7lu8j">李世勋</a></div></div></div><svg width="12" height="12" viewBox="0 0 16 16" data-new-api="ArrowRightAlt16" data-old-api="ArrowRightAlt16" class="ZDI ZDI--ArrowRightAlt16 css-5hz1ob" fill="currentColor"><path d="M10.727 7.48a.63.63 0 010 1.039l-4.299 2.88c-.399.268-.926-.028-.926-.519V5.12c0-.491.527-.787.926-.52l4.299 2.881z"></path></svg><div class="css-1tww9qq"><div class="Popover"><div id="Popover26-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover26-content"><a href="https://www.zhihu.com/people/43c732233e159de27760c47f70c536c0" target="_blank" class="css-o7lu8j">litmin</a></div></div></div></div><svg width="16" height="16" viewBox="0 0 24 24" data-new-api="Dots24" data-old-api="Dots24" class="ZDI ZDI--Dots24 css-1jofpfq" fill="currentColor"><path d="M5.34 12a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0zm8.325 0a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0zm8.325 0a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0z"></path></svg></div><div class="CommentContent css-1ygdre8">嗯,准备试一试类似2的测试,这样IOS Android都能对比下. 感谢~</div><div class="css-dbby2p"><div class="css-82fsyv"><div class="css-12cl38p">2021-08-03</div></div><div class="css-18opwoy"><button type="button" class="Button  css-1o56bgb"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="ChatBubbleFill24" data-old-api="ChatBubbleFill24" class="ZDI ZDI--ChatBubbleFill24 css-15ro776" fill="currentColor"><path d="M12 2.75a9.25 9.25 0 104.737 17.197l2.643.817a1 1 0 001.25-1.25l-.8-2.588A9.25 9.25 0 0012 2.75z" fill-rule="evenodd" clip-rule="evenodd"></path></svg></span>回复</button><button type="button" class="Button css-h1yvwn" style="transform: none;"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="ThumbFill24" data-old-api="ThumbFill24" class="ZDI ZDI--ThumbFill24 css-15ro776" fill="currentColor"><path d="M8.5 4.078c0-1.834 1.986-2.979 3.573-2.06a4.826 4.826 0 012.379 4.71l-.114 1.022h3.581c2.53 0 4.334 2.454 3.58 4.868l-1.823 5.833a3.784 3.784 0 01-3.848 2.64c-2.372-.147-6.042-.341-8.828-.341H4.5A1.75 1.75 0 012.75 19V9.5c0-.967.784-1.75 1.75-1.75h.637a3.418 3.418 0 003.19-2.191c.115-.296.173-.611.173-.928v-.553z"></path></svg></span>赞</button></div></div></div></div></div><div><div class="css-8j5fyx"><div class="css-1jll2aj"><div class="Popover"><div id="Popover27-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover27-content"><a href="https://www.zhihu.com/people/43c732233e159de27760c47f70c536c0" target="_blank" class="css-1d3mfcn"><img class="Avatar css-1qchsfe" src="./后处理效率问题和Tile-Based GPU - 知乎_files/v2-55b1b652e26ee47698ff08310b794dec_l(1).jpg" srcset="https://picx.zhimg.com/v2-55b1b652e26ee47698ff08310b794dec_l.jpg?source=06d4cd63 2x" alt="litmin" loading="lazy"></a></div></div></div><div class="css-14nvvry"><div class="css-1besdh8"><div class="css-dza3t2"><div class="css-1tww9qq"><div class="Popover"><div id="Popover28-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover28-content"><a href="https://www.zhihu.com/people/43c732233e159de27760c47f70c536c0" target="_blank" class="css-o7lu8j">litmin</a></div></div><span class="css-h9ndtl" href="">作者</span></div></div><svg width="16" height="16" viewBox="0 0 24 24" data-new-api="Dots24" data-old-api="Dots24" class="ZDI ZDI--Dots24 css-1jofpfq" fill="currentColor"><path d="M5.34 12a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0zm8.325 0a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0zm8.325 0a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0z"></path></svg></div><div class="CommentContent css-1ygdre8">1，使用一些GPU厂商提供的工具，比如Arm Mali Mobile Studio，可以看Early ZS killed quad percentage这个值，而且人家都叫Early ZS了，肯定会进行stencil test<br>2，写一个很复杂的FS，看看开启Stencil Test会不会提高性能</div><div class="css-dbby2p"><div class="css-82fsyv"><div class="css-12cl38p">2021-08-03</div></div><div class="css-18opwoy"><button type="button" class="Button  css-1o56bgb"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="ChatBubbleFill24" data-old-api="ChatBubbleFill24" class="ZDI ZDI--ChatBubbleFill24 css-15ro776" fill="currentColor"><path d="M12 2.75a9.25 9.25 0 104.737 17.197l2.643.817a1 1 0 001.25-1.25l-.8-2.588A9.25 9.25 0 0012 2.75z" fill-rule="evenodd" clip-rule="evenodd"></path></svg></span>回复</button><button type="button" class="Button css-h1yvwn" style="transform: none;"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="ThumbFill24" data-old-api="ThumbFill24" class="ZDI ZDI--ThumbFill24 css-15ro776" fill="currentColor"><path d="M8.5 4.078c0-1.834 1.986-2.979 3.573-2.06a4.826 4.826 0 012.379 4.71l-.114 1.022h3.581c2.53 0 4.334 2.454 3.58 4.868l-1.823 5.833a3.784 3.784 0 01-3.848 2.64c-2.372-.147-6.042-.341-8.828-.341H4.5A1.75 1.75 0 012.75 19V9.5c0-.967.784-1.75 1.75-1.75h.637a3.418 3.418 0 003.19-2.191c.115-.296.173-.611.173-.928v-.553z"></path></svg></span>赞</button></div></div></div></div></div></div><div><div class="css-194v73m"><div class="css-1jll2aj"><div class="Popover"><div id="Popover29-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover29-content"><a href="https://www.zhihu.com/people/128637094fc68a9fab3049d4fee777f2" target="_blank" class="css-1d3mfcn"><img class="Avatar css-1qchsfe" src="./后处理效率问题和Tile-Based GPU - 知乎_files/d2bfcae35_l(2).jpg" srcset="https://pic3.zhimg.com/d2bfcae35_l.jpg?source=06d4cd63 2x" alt="李世勋" loading="lazy"></a></div></div></div><div class="css-14nvvry"><div class="css-1besdh8"><div class="css-dza3t2"><div class="css-1tww9qq"><div class="Popover"><div id="Popover30-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover30-content"><a href="https://www.zhihu.com/people/128637094fc68a9fab3049d4fee777f2" target="_blank" class="css-o7lu8j">李世勋</a></div></div></div></div><svg width="16" height="16" viewBox="0 0 24 24" data-new-api="Dots24" data-old-api="Dots24" class="ZDI ZDI--Dots24 css-1jofpfq" fill="currentColor"><path d="M5.34 12a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0zm8.325 0a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0zm8.325 0a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0z"></path></svg></div><div class="CommentContent css-1ygdre8">之前看微软的文档<a href="http://link.zhihu.com/?target=https%3A//docs.microsoft.com/en-us/windows/win32/direct3d11/overviews-direct3d-11-graphics-pipeline" class=" wrap external" target="_blank" rel="nofollow noreferrer">Graphics Pipeline - Win32 apps</a> 提到模板测试是在片段着色器之后的OutputMerger Stage阶段进行的即stencil不会影响后处理片段着色器计算量 . 移动平台的EarlyZ 可以提前处理真的蛮好. 好奇文中提到优化前第二步关于把Stencil写入到RT1透明通道的做法, 因为说到这一步没有切换FrameBuffer. 好奇这样是怎么做的 就是Blit(RT1,RT1)?. <br>如果不切换Framebuffer 同时还能修改其内容,(记得不能这么做,所以也没实验过.<img src="./后处理效率问题和Tile-Based GPU - 知乎_files/v2-ca0015e8ed8462cfce839fba518df585.png" class="sticker">),可以维持一张RT的话,对于只是对RT单独计算的后处理不但可以省临时RT还能省StoreAction,跟LoadAction.操作.  不太理解求大佬解答<img src="./后处理效率问题和Tile-Based GPU - 知乎_files/v2-b62e608e405aeb33cd52830218f561ea.png" class="sticker"></div><div class="css-dbby2p"><div class="css-82fsyv"><div class="css-12cl38p">2021-06-03</div></div><div class="css-18opwoy"><button type="button" class="Button  css-1o56bgb"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="ChatBubbleFill24" data-old-api="ChatBubbleFill24" class="ZDI ZDI--ChatBubbleFill24 css-15ro776" fill="currentColor"><path d="M12 2.75a9.25 9.25 0 104.737 17.197l2.643.817a1 1 0 001.25-1.25l-.8-2.588A9.25 9.25 0 0012 2.75z" fill-rule="evenodd" clip-rule="evenodd"></path></svg></span>回复</button><button type="button" class="Button css-h1yvwn" style="transform: none;"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="ThumbFill24" data-old-api="ThumbFill24" class="ZDI ZDI--ThumbFill24 css-15ro776" fill="currentColor"><path d="M8.5 4.078c0-1.834 1.986-2.979 3.573-2.06a4.826 4.826 0 012.379 4.71l-.114 1.022h3.581c2.53 0 4.334 2.454 3.58 4.868l-1.823 5.833a3.784 3.784 0 01-3.848 2.64c-2.372-.147-6.042-.341-8.828-.341H4.5A1.75 1.75 0 012.75 19V9.5c0-.967.784-1.75 1.75-1.75h.637a3.418 3.418 0 003.19-2.191c.115-.296.173-.611.173-.928v-.553z"></path></svg></span>赞</button></div></div></div></div><div><div class="css-8j5fyx"><div class="css-1jll2aj"><div class="Popover"><div id="Popover31-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover31-content"><a href="https://www.zhihu.com/people/43c732233e159de27760c47f70c536c0" target="_blank" class="css-1d3mfcn"><img class="Avatar css-1qchsfe" src="./后处理效率问题和Tile-Based GPU - 知乎_files/v2-55b1b652e26ee47698ff08310b794dec_l.jpg" srcset="https://pica.zhimg.com/v2-55b1b652e26ee47698ff08310b794dec_l.jpg?source=06d4cd63 2x" alt="litmin" loading="lazy"></a></div></div></div><div class="css-14nvvry"><div class="css-1besdh8"><div class="css-dza3t2"><div class="css-1tww9qq"><div class="Popover"><div id="Popover32-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover32-content"><a href="https://www.zhihu.com/people/43c732233e159de27760c47f70c536c0" target="_blank" class="css-o7lu8j">litmin</a></div></div><span class="css-h9ndtl" href="">作者</span></div><svg width="12" height="12" viewBox="0 0 16 16" data-new-api="ArrowRightAlt16" data-old-api="ArrowRightAlt16" class="ZDI ZDI--ArrowRightAlt16 css-5hz1ob" fill="currentColor"><path d="M10.727 7.48a.63.63 0 010 1.039l-4.299 2.88c-.399.268-.926-.028-.926-.519V5.12c0-.491.527-.787.926-.52l4.299 2.881z"></path></svg><div class="css-1tww9qq"><div class="Popover"><div id="Popover33-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover33-content"><a href="https://www.zhihu.com/people/128637094fc68a9fab3049d4fee777f2" target="_blank" class="css-o7lu8j">李世勋</a></div></div></div></div><svg width="16" height="16" viewBox="0 0 24 24" data-new-api="Dots24" data-old-api="Dots24" class="ZDI ZDI--Dots24 css-1jofpfq" fill="currentColor"><path d="M5.34 12a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0zm8.325 0a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0zm8.325 0a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0z"></path></svg></div><div class="CommentContent css-1ygdre8">1，因为这一步只是把Stencil的信息转换到了Alpha上，所以不需要采样RT<br>2，就是通过cmd.DrawMesh画的一个大三角形，用ColorMask就可以只写入Alpha<br>3.你理解的是对的<img src="./后处理效率问题和Tile-Based GPU - 知乎_files/v2-3ac403672728e5e91f5b2d3c095e415a.png" class="sticker"></div><div class="css-dbby2p"><div class="css-82fsyv"><div class="css-12cl38p">2021-06-04</div></div><div class="css-18opwoy"><button type="button" class="Button  css-1o56bgb"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="ChatBubbleFill24" data-old-api="ChatBubbleFill24" class="ZDI ZDI--ChatBubbleFill24 css-15ro776" fill="currentColor"><path d="M12 2.75a9.25 9.25 0 104.737 17.197l2.643.817a1 1 0 001.25-1.25l-.8-2.588A9.25 9.25 0 0012 2.75z" fill-rule="evenodd" clip-rule="evenodd"></path></svg></span>回复</button><button type="button" class="Button css-h1yvwn" style="transform: none;"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="ThumbFill24" data-old-api="ThumbFill24" class="ZDI ZDI--ThumbFill24 css-15ro776" fill="currentColor"><path d="M8.5 4.078c0-1.834 1.986-2.979 3.573-2.06a4.826 4.826 0 012.379 4.71l-.114 1.022h3.581c2.53 0 4.334 2.454 3.58 4.868l-1.823 5.833a3.784 3.784 0 01-3.848 2.64c-2.372-.147-6.042-.341-8.828-.341H4.5A1.75 1.75 0 012.75 19V9.5c0-.967.784-1.75 1.75-1.75h.637a3.418 3.418 0 003.19-2.191c.115-.296.173-.611.173-.928v-.553z"></path></svg></span>1</button></div></div></div></div></div><div><div class="css-8j5fyx"><div class="css-1jll2aj"><div class="Popover"><div id="Popover34-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover34-content"><a href="https://www.zhihu.com/people/128637094fc68a9fab3049d4fee777f2" target="_blank" class="css-1d3mfcn"><img class="Avatar css-1qchsfe" src="./后处理效率问题和Tile-Based GPU - 知乎_files/d2bfcae35_l.jpg" srcset="https://pic1.zhimg.com/d2bfcae35_l.jpg?source=06d4cd63 2x" alt="李世勋" loading="lazy"></a></div></div></div><div class="css-14nvvry"><div class="css-1besdh8"><div class="css-dza3t2"><div class="css-1tww9qq"><div class="Popover"><div id="Popover35-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover35-content"><a href="https://www.zhihu.com/people/128637094fc68a9fab3049d4fee777f2" target="_blank" class="css-o7lu8j">李世勋</a></div></div></div><svg width="12" height="12" viewBox="0 0 16 16" data-new-api="ArrowRightAlt16" data-old-api="ArrowRightAlt16" class="ZDI ZDI--ArrowRightAlt16 css-5hz1ob" fill="currentColor"><path d="M10.727 7.48a.63.63 0 010 1.039l-4.299 2.88c-.399.268-.926-.028-.926-.519V5.12c0-.491.527-.787.926-.52l4.299 2.881z"></path></svg><div class="css-1tww9qq"><div class="Popover"><div id="Popover36-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover36-content"><a href="https://www.zhihu.com/people/43c732233e159de27760c47f70c536c0" target="_blank" class="css-o7lu8j">litmin</a></div></div></div></div><svg width="16" height="16" viewBox="0 0 24 24" data-new-api="Dots24" data-old-api="Dots24" class="ZDI ZDI--Dots24 css-1jofpfq" fill="currentColor"><path d="M5.34 12a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0zm8.325 0a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0zm8.325 0a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0z"></path></svg></div><div class="CommentContent css-1ygdre8">感谢解惑~</div><div class="css-dbby2p"><div class="css-82fsyv"><div class="css-12cl38p">2021-06-04</div></div><div class="css-18opwoy"><button type="button" class="Button  css-1o56bgb"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="ChatBubbleFill24" data-old-api="ChatBubbleFill24" class="ZDI ZDI--ChatBubbleFill24 css-15ro776" fill="currentColor"><path d="M12 2.75a9.25 9.25 0 104.737 17.197l2.643.817a1 1 0 001.25-1.25l-.8-2.588A9.25 9.25 0 0012 2.75z" fill-rule="evenodd" clip-rule="evenodd"></path></svg></span>回复</button><button type="button" class="Button css-h1yvwn" style="transform: none;"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="ThumbFill24" data-old-api="ThumbFill24" class="ZDI ZDI--ThumbFill24 css-15ro776" fill="currentColor"><path d="M8.5 4.078c0-1.834 1.986-2.979 3.573-2.06a4.826 4.826 0 012.379 4.71l-.114 1.022h3.581c2.53 0 4.334 2.454 3.58 4.868l-1.823 5.833a3.784 3.784 0 01-3.848 2.64c-2.372-.147-6.042-.341-8.828-.341H4.5A1.75 1.75 0 012.75 19V9.5c0-.967.784-1.75 1.75-1.75h.637a3.418 3.418 0 003.19-2.191c.115-.296.173-.611.173-.928v-.553z"></path></svg></span>赞</button></div></div></div></div></div><button type="button" class="Button css-1p04wnp">展开其他 3 条回复<span style="display: inline-flex; align-items: center;">​<svg width="24" height="24" viewBox="0 0 24 24" data-new-api="ArrowRightSmall24" data-old-api="ArrowRightSmall24" class="ZDI ZDI--ArrowRightSmall24" fill="currentColor"><path d="M13.248 12l-4.025 3.78a.684.684 0 000 1.01.796.796 0 001.075 0l4.42-4.15a.867.867 0 000-1.28l-4.42-4.15a.796.796 0 00-1.075 0 .684.684 0 000 1.01L13.248 12z" fill-rule="evenodd" clip-rule="evenodd"></path></svg></span></button></div><div><div class="css-194v73m"><div class="css-1jll2aj"><div class="Popover"><div id="Popover37-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover37-content"><a href="https://www.zhihu.com/people/da6c4171749dfdcfcf1185763a5a4124" target="_blank" class="css-1d3mfcn"><img class="Avatar css-1qchsfe" src="./后处理效率问题和Tile-Based GPU - 知乎_files/a2f17e19fa3069309e5d6660b1c48271_l.jpg" srcset="https://picx.zhimg.com/a2f17e19fa3069309e5d6660b1c48271_l.jpg?source=06d4cd63 2x" alt="丛越" loading="lazy"></a></div></div></div><div class="css-14nvvry"><div class="css-1besdh8"><div class="css-dza3t2"><div class="css-1tww9qq"><div class="Popover"><div id="Popover38-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover38-content"><a href="https://www.zhihu.com/people/da6c4171749dfdcfcf1185763a5a4124" target="_blank" class="css-o7lu8j">丛越</a></div></div></div></div><svg width="16" height="16" viewBox="0 0 24 24" data-new-api="Dots24" data-old-api="Dots24" class="ZDI ZDI--Dots24 css-1jofpfq" fill="currentColor"><path d="M5.34 12a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0zm8.325 0a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0zm8.325 0a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0z"></path></svg></div><div class="CommentContent css-1ygdre8"><p>在 Vulkan 中除了 SubPass，还需要 Input Attachment 配合使用才能达到利用 TBR Soc 上 Tile Cache 的好处，如果和 Memory Lazily Allocation + Transient Attachment 配合使用的话，可以做到 Memoryless RT，性能更好。不过虽然现代 API 有了这个能力，可惜的是 UNITY 没有在上层的接口中暴露出 Subpass 和 Input Attachment 机制，如果要用的话，只能魔改了。</p></div><div class="css-dbby2p"><div class="css-82fsyv"><div class="css-12cl38p">2020-10-15</div></div><div class="css-18opwoy"><button type="button" class="Button  css-1o56bgb"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="ChatBubbleFill24" data-old-api="ChatBubbleFill24" class="ZDI ZDI--ChatBubbleFill24 css-15ro776" fill="currentColor"><path d="M12 2.75a9.25 9.25 0 104.737 17.197l2.643.817a1 1 0 001.25-1.25l-.8-2.588A9.25 9.25 0 0012 2.75z" fill-rule="evenodd" clip-rule="evenodd"></path></svg></span>回复</button><button type="button" class="Button css-h1yvwn" style="transform: none;"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="ThumbFill24" data-old-api="ThumbFill24" class="ZDI ZDI--ThumbFill24 css-15ro776" fill="currentColor"><path d="M8.5 4.078c0-1.834 1.986-2.979 3.573-2.06a4.826 4.826 0 012.379 4.71l-.114 1.022h3.581c2.53 0 4.334 2.454 3.58 4.868l-1.823 5.833a3.784 3.784 0 01-3.848 2.64c-2.372-.147-6.042-.341-8.828-.341H4.5A1.75 1.75 0 012.75 19V9.5c0-.967.784-1.75 1.75-1.75h.637a3.418 3.418 0 003.19-2.191c.115-.296.173-.611.173-.928v-.553z"></path></svg></span>赞</button></div></div></div></div><div><div class="css-8j5fyx"><div class="css-1jll2aj"><div class="Popover"><div id="Popover39-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover39-content"><a href="https://www.zhihu.com/people/43c732233e159de27760c47f70c536c0" target="_blank" class="css-1d3mfcn"><img class="Avatar css-1qchsfe" src="./后处理效率问题和Tile-Based GPU - 知乎_files/v2-55b1b652e26ee47698ff08310b794dec_l(1).jpg" srcset="https://picx.zhimg.com/v2-55b1b652e26ee47698ff08310b794dec_l.jpg?source=06d4cd63 2x" alt="litmin" loading="lazy"></a></div></div></div><div class="css-14nvvry"><div class="css-1besdh8"><div class="css-dza3t2"><div class="css-1tww9qq"><div class="Popover"><div id="Popover40-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover40-content"><a href="https://www.zhihu.com/people/43c732233e159de27760c47f70c536c0" target="_blank" class="css-o7lu8j">litmin</a></div></div><span class="css-h9ndtl" href="">作者</span></div></div><svg width="16" height="16" viewBox="0 0 24 24" data-new-api="Dots24" data-old-api="Dots24" class="ZDI ZDI--Dots24 css-1jofpfq" fill="currentColor"><path d="M5.34 12a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0zm8.325 0a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0zm8.325 0a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0z"></path></svg></div><div class="CommentContent css-1ygdre8"><p>谢谢大佬指点，使用的细节还没有了解，目前还看艰难的学DX12:(</p></div><div class="css-dbby2p"><div class="css-82fsyv"><div class="css-12cl38p">2020-10-15</div></div><div class="css-18opwoy"><button type="button" class="Button  css-1o56bgb"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="ChatBubbleFill24" data-old-api="ChatBubbleFill24" class="ZDI ZDI--ChatBubbleFill24 css-15ro776" fill="currentColor"><path d="M12 2.75a9.25 9.25 0 104.737 17.197l2.643.817a1 1 0 001.25-1.25l-.8-2.588A9.25 9.25 0 0012 2.75z" fill-rule="evenodd" clip-rule="evenodd"></path></svg></span>回复</button><button type="button" class="Button css-h1yvwn" style="transform: none;"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="ThumbFill24" data-old-api="ThumbFill24" class="ZDI ZDI--ThumbFill24 css-15ro776" fill="currentColor"><path d="M8.5 4.078c0-1.834 1.986-2.979 3.573-2.06a4.826 4.826 0 012.379 4.71l-.114 1.022h3.581c2.53 0 4.334 2.454 3.58 4.868l-1.823 5.833a3.784 3.784 0 01-3.848 2.64c-2.372-.147-6.042-.341-8.828-.341H4.5A1.75 1.75 0 012.75 19V9.5c0-.967.784-1.75 1.75-1.75h.637a3.418 3.418 0 003.19-2.191c.115-.296.173-.611.173-.928v-.553z"></path></svg></span>赞</button></div></div></div></div></div></div><div><div class="css-194v73m"><div class="css-1jll2aj"><div class="Popover"><div id="Popover41-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover41-content"><a href="https://www.zhihu.com/people/e932c63c0e8d3f7a8b1290d972a9eb0e" target="_blank" class="css-1d3mfcn"><img class="Avatar css-1qchsfe" src="./后处理效率问题和Tile-Based GPU - 知乎_files/v2-dedb36b3a70ac1297b7ae320a1538647_l.jpg" srcset="https://pica.zhimg.com/v2-dedb36b3a70ac1297b7ae320a1538647_l.jpg?source=06d4cd63 2x" alt="头像是狐狸吗" loading="lazy"></a></div></div></div><div class="css-14nvvry"><div class="css-1besdh8"><div class="css-dza3t2"><div class="css-1tww9qq"><div class="Popover"><div id="Popover42-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover42-content"><a href="https://www.zhihu.com/people/e932c63c0e8d3f7a8b1290d972a9eb0e" target="_blank" class="css-o7lu8j">头像是狐狸吗</a></div></div></div></div><svg width="16" height="16" viewBox="0 0 24 24" data-new-api="Dots24" data-old-api="Dots24" class="ZDI ZDI--Dots24 css-1jofpfq" fill="currentColor"><path d="M5.34 12a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0zm8.325 0a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0zm8.325 0a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0z"></path></svg></div><div class="CommentContent css-1ygdre8">为什么我感觉...好像就是应该第二个快呢...</div><div class="css-dbby2p"><div class="css-82fsyv"><div class="css-12cl38p">2020-06-11</div></div><div class="css-18opwoy"><button type="button" class="Button  css-1o56bgb"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="ChatBubbleFill24" data-old-api="ChatBubbleFill24" class="ZDI ZDI--ChatBubbleFill24 css-15ro776" fill="currentColor"><path d="M12 2.75a9.25 9.25 0 104.737 17.197l2.643.817a1 1 0 001.25-1.25l-.8-2.588A9.25 9.25 0 0012 2.75z" fill-rule="evenodd" clip-rule="evenodd"></path></svg></span>回复</button><button type="button" class="Button css-h1yvwn" style="transform: none;"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="ThumbFill24" data-old-api="ThumbFill24" class="ZDI ZDI--ThumbFill24 css-15ro776" fill="currentColor"><path d="M8.5 4.078c0-1.834 1.986-2.979 3.573-2.06a4.826 4.826 0 012.379 4.71l-.114 1.022h3.581c2.53 0 4.334 2.454 3.58 4.868l-1.823 5.833a3.784 3.784 0 01-3.848 2.64c-2.372-.147-6.042-.341-8.828-.341H4.5A1.75 1.75 0 012.75 19V9.5c0-.967.784-1.75 1.75-1.75h.637a3.418 3.418 0 003.19-2.191c.115-.296.173-.611.173-.928v-.553z"></path></svg></span>赞</button></div></div></div></div><div><div class="css-8j5fyx"><div class="css-1jll2aj"><div class="Popover"><div id="Popover43-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover43-content"><a href="https://www.zhihu.com/people/43c732233e159de27760c47f70c536c0" target="_blank" class="css-1d3mfcn"><img class="Avatar css-1qchsfe" src="./后处理效率问题和Tile-Based GPU - 知乎_files/v2-55b1b652e26ee47698ff08310b794dec_l.jpg" srcset="https://pica.zhimg.com/v2-55b1b652e26ee47698ff08310b794dec_l.jpg?source=06d4cd63 2x" alt="litmin" loading="lazy"></a></div></div></div><div class="css-14nvvry"><div class="css-1besdh8"><div class="css-dza3t2"><div class="css-1tww9qq"><div class="Popover"><div id="Popover44-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover44-content"><a href="https://www.zhihu.com/people/43c732233e159de27760c47f70c536c0" target="_blank" class="css-o7lu8j">litmin</a></div></div><span class="css-h9ndtl" href="">作者</span></div></div><svg width="16" height="16" viewBox="0 0 24 24" data-new-api="Dots24" data-old-api="Dots24" class="ZDI ZDI--Dots24 css-1jofpfq" fill="currentColor"><path d="M5.34 12a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0zm8.325 0a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0zm8.325 0a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0z"></path></svg></div><div class="CommentContent css-1ygdre8">改好了，又加了个图看着更清晰，看看还有没有问题<img src="./后处理效率问题和Tile-Based GPU - 知乎_files/v2-7f09d05d34f03eab99e820014c393070.png" class="sticker"></div><div class="css-dbby2p"><div class="css-82fsyv"><div class="css-12cl38p">2020-06-11</div></div><div class="css-18opwoy"><button type="button" class="Button  css-1o56bgb"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="ChatBubbleFill24" data-old-api="ChatBubbleFill24" class="ZDI ZDI--ChatBubbleFill24 css-15ro776" fill="currentColor"><path d="M12 2.75a9.25 9.25 0 104.737 17.197l2.643.817a1 1 0 001.25-1.25l-.8-2.588A9.25 9.25 0 0012 2.75z" fill-rule="evenodd" clip-rule="evenodd"></path></svg></span>回复</button><button type="button" class="Button css-h1yvwn" style="transform: none;"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="ThumbFill24" data-old-api="ThumbFill24" class="ZDI ZDI--ThumbFill24 css-15ro776" fill="currentColor"><path d="M8.5 4.078c0-1.834 1.986-2.979 3.573-2.06a4.826 4.826 0 012.379 4.71l-.114 1.022h3.581c2.53 0 4.334 2.454 3.58 4.868l-1.823 5.833a3.784 3.784 0 01-3.848 2.64c-2.372-.147-6.042-.341-8.828-.341H4.5A1.75 1.75 0 012.75 19V9.5c0-.967.784-1.75 1.75-1.75h.637a3.418 3.418 0 003.19-2.191c.115-.296.173-.611.173-.928v-.553z"></path></svg></span>赞</button></div></div></div></div></div><div><div class="css-8j5fyx"><div class="css-1jll2aj"><div class="Popover"><div id="Popover45-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover45-content"><a href="https://www.zhihu.com/people/43c732233e159de27760c47f70c536c0" target="_blank" class="css-1d3mfcn"><img class="Avatar css-1qchsfe" src="./后处理效率问题和Tile-Based GPU - 知乎_files/v2-55b1b652e26ee47698ff08310b794dec_l.jpg" srcset="https://pica.zhimg.com/v2-55b1b652e26ee47698ff08310b794dec_l.jpg?source=06d4cd63 2x" alt="litmin" loading="lazy"></a></div></div></div><div class="css-14nvvry"><div class="css-1besdh8"><div class="css-dza3t2"><div class="css-1tww9qq"><div class="Popover"><div id="Popover46-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover46-content"><a href="https://www.zhihu.com/people/43c732233e159de27760c47f70c536c0" target="_blank" class="css-o7lu8j">litmin</a></div></div><span class="css-h9ndtl" href="">作者</span></div></div><svg width="16" height="16" viewBox="0 0 24 24" data-new-api="Dots24" data-old-api="Dots24" class="ZDI ZDI--Dots24 css-1jofpfq" fill="currentColor"><path d="M5.34 12a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0zm8.325 0a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0zm8.325 0a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0z"></path></svg></div><div class="CommentContent css-1ygdre8">想不起来优化前后的过程了，昨天改的时候疏忽了，马上再改一下<img src="./后处理效率问题和Tile-Based GPU - 知乎_files/v2-b62e608e405aeb33cd52830218f561ea.png" class="sticker"></div><div class="css-dbby2p"><div class="css-82fsyv"><div class="css-12cl38p">2020-06-11</div></div><div class="css-18opwoy"><button type="button" class="Button  css-1o56bgb"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="ChatBubbleFill24" data-old-api="ChatBubbleFill24" class="ZDI ZDI--ChatBubbleFill24 css-15ro776" fill="currentColor"><path d="M12 2.75a9.25 9.25 0 104.737 17.197l2.643.817a1 1 0 001.25-1.25l-.8-2.588A9.25 9.25 0 0012 2.75z" fill-rule="evenodd" clip-rule="evenodd"></path></svg></span>回复</button><button type="button" class="Button css-h1yvwn" style="transform: none;"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="ThumbFill24" data-old-api="ThumbFill24" class="ZDI ZDI--ThumbFill24 css-15ro776" fill="currentColor"><path d="M8.5 4.078c0-1.834 1.986-2.979 3.573-2.06a4.826 4.826 0 012.379 4.71l-.114 1.022h3.581c2.53 0 4.334 2.454 3.58 4.868l-1.823 5.833a3.784 3.784 0 01-3.848 2.64c-2.372-.147-6.042-.341-8.828-.341H4.5A1.75 1.75 0 012.75 19V9.5c0-.967.784-1.75 1.75-1.75h.637a3.418 3.418 0 003.19-2.191c.115-.296.173-.611.173-.928v-.553z"></path></svg></span>赞</button></div></div></div></div></div></div><div><div class="css-194v73m"><div class="css-1jll2aj"><div class="Popover"><div id="Popover47-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover47-content"><a href="https://www.zhihu.com/people/ceff05619b2a2206960d57b0ad2791af" target="_blank" class="css-1d3mfcn"><img class="Avatar css-1qchsfe" src="./后处理效率问题和Tile-Based GPU - 知乎_files/v2-578535b731d14d93a031e43b1ff3be50_l.jpg" srcset="https://pic4.zhimg.com/v2-578535b731d14d93a031e43b1ff3be50_l.jpg?source=06d4cd63 2x" alt="YiQiuuu" loading="lazy"></a></div></div></div><div class="css-14nvvry"><div class="css-1besdh8"><div class="css-dza3t2"><div class="css-1tww9qq"><div class="Popover"><div id="Popover48-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover48-content"><a href="https://www.zhihu.com/people/ceff05619b2a2206960d57b0ad2791af" target="_blank" class="css-o7lu8j">YiQiuuu</a></div></div><span class="css-18biwo">​<svg viewBox="0 0 24 24" class="css-13tpca3" width="18" height="18"><svg viewBox="0 0 24 24" x="-3" y="-3" fill="#FFFFFF" width="30" height="30"><path d="M3.56231227,13.8535307 C2.40051305,12.768677 2.41398885,11.0669203 3.59484487,9.99979213 L3.59222085,9.99654885 C4.26730143,9.45036719 4.79446755,8.21005186 4.7184197,7.34453784 L4.72305873,7.34412719 C4.66942824,5.75539997 5.8824188,4.56066914 7.47188965,4.64242381 L7.47229112,4.6386236 C8.33515314,4.72977993 9.58467253,4.22534048 10.1426329,3.55925173 L10.1462611,3.56228565 C11.2316055,2.40008701 12.9353108,2.41394456 14.0015072,3.59634088 L14.0047263,3.59374004 C14.5498229,4.26841874 15.7896857,4.79521622 16.6545744,4.71844347 L16.6549836,4.72304294 C18.245027,4.66894057 19.4396947,5.88213996 19.3575031,7.47241135 L19.3623099,7.47292747 C19.2704388,8.3358681 19.7742711,9.58421483 20.4407199,10.1424506 L20.437686,10.1460789 C21.5997217,11.2312209 21.5860695,12.9345218 20.4042441,14.0007396 L20.4072865,14.0045125 C19.7325967,14.5495925 19.2055209,15.7896954 19.2815865,16.6561959 L19.2770449,16.6565978 C19.3315454,18.2453037 18.1173775,19.4393568 16.5274188,19.3571512 L16.5269029,19.3619539 C15.6647098,19.270083 14.415408,19.7741709 13.8573671,20.4403558 L13.8537409,20.4373235 C12.76842,21.5995708 11.0650432,21.5864553 9.99899434,20.4039226 L9.99527367,20.406923 C9.45025436,19.7323399 8.21017638,19.2051872 7.34461983,19.2812352 L7.344304,19.2776405 C5.75448683,19.3312904 4.55977145,18.1170085 4.64254978,16.527117 L4.63769921,16.5265942 C4.72957031,15.6644394 4.22547659,14.4151814 3.55928015,13.8571569 L3.56231227,13.8535307 Z"></path></svg><path d="M2.63951518,13.3895441 C3.70763333,14.2842292 4.44777637,16.1226061 4.30075305,17.5023312 L4.32211542,17.3063047 C4.17509209,18.6910561 5.17786655,19.7063729 6.5613937,19.5844846 L6.364106,19.6008202 C7.75140298,19.4789319 9.57474349,20.2554985 10.4468305,21.3349009 L10.3224262,21.1803415 C11.1982831,22.2647703 12.6257916,22.2723098 13.5167278,21.2079863 L13.3898102,21.3600325 C14.2845162,20.2919393 16.1229361,19.5518136 17.5026934,19.6988334 L17.3054057,19.6774716 C18.6914461,19.8244915 19.7067866,18.8217404 19.5836389,17.4395022 L19.6012314,17.6367853 C19.4793403,16.2482641 20.255925,14.4249662 21.3353526,13.5528995 L21.1807897,13.677301 C22.2639871,12.8014646 22.2727834,11.3739894 21.2084351,10.483074 L21.3604848,10.6099886 C20.2923667,9.71530351 19.5522236,7.87818322 19.6992469,6.49720154 L19.6778846,6.69448464 C19.8249079,5.30847665 18.8221335,4.2944164 17.4386063,4.41630468 L17.635894,4.39871256 C16.248597,4.52185742 14.4252565,3.74529084 13.5531695,2.66588842 L13.6775738,2.81919121 C12.8017169,1.73601905 11.3742084,1.72722299 10.4832722,2.79154644 L10.6101898,2.63950024 C9.71548377,3.70759343 7.87706394,4.44771919 6.49730661,4.30195588 L6.69459432,4.32206116 C5.30855394,4.17504128 4.29447,5.17904888 4.41636114,6.56128713 L4.3987686,6.36400404 C4.52065973,7.75126861 3.74407501,9.57456653 2.66464737,10.4478898 L2.81921035,10.3222318 C1.73601288,11.1993248 1.72721662,12.6255433 2.79156494,13.5164587 L2.63951518,13.3895441 Z" fill="#0066FF"></path><svg width="12" height="12" viewBox="0 0 24 24" data-new-api="CheckFill24" data-old-api="Check" fill="#fff" x="6" y="6" class="Zi Zi--Check"><path d="M21.864 5.347a1.25 1.25 0 01.04 1.767L10.976 18.537a1.35 1.35 0 01-1.965-.014L2.584 11.6a1.25 1.25 0 011.832-1.702l5.598 6.029L20.096 5.386a1.25 1.25 0 011.767-.04z" fill-rule="evenodd" clip-rule="evenodd"></path></svg></svg></span></div></div><svg width="16" height="16" viewBox="0 0 24 24" data-new-api="Dots24" data-old-api="Dots24" class="ZDI ZDI--Dots24 css-1jofpfq" fill="currentColor"><path d="M5.34 12a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0zm8.325 0a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0zm8.325 0a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0z"></path></svg></div><div class="CommentContent css-1ygdre8"><p>欸 ？优化后得流程带来了多少性能提升呢？感觉多了一次RT的切换（对于CPU来讲就是又提交一堆渲染状态什么的）这部分的消耗会被抵消掉？</p></div><div class="css-dbby2p"><div class="css-82fsyv"><div class="css-12cl38p">2020-06-10</div></div><div class="css-18opwoy"><button type="button" class="Button  css-1o56bgb"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="ChatBubbleFill24" data-old-api="ChatBubbleFill24" class="ZDI ZDI--ChatBubbleFill24 css-15ro776" fill="currentColor"><path d="M12 2.75a9.25 9.25 0 104.737 17.197l2.643.817a1 1 0 001.25-1.25l-.8-2.588A9.25 9.25 0 0012 2.75z" fill-rule="evenodd" clip-rule="evenodd"></path></svg></span>回复</button><button type="button" class="Button css-h1yvwn" style="transform: none;"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="ThumbFill24" data-old-api="ThumbFill24" class="ZDI ZDI--ThumbFill24 css-15ro776" fill="currentColor"><path d="M8.5 4.078c0-1.834 1.986-2.979 3.573-2.06a4.826 4.826 0 012.379 4.71l-.114 1.022h3.581c2.53 0 4.334 2.454 3.58 4.868l-1.823 5.833a3.784 3.784 0 01-3.848 2.64c-2.372-.147-6.042-.341-8.828-.341H4.5A1.75 1.75 0 012.75 19V9.5c0-.967.784-1.75 1.75-1.75h.637a3.418 3.418 0 003.19-2.191c.115-.296.173-.611.173-.928v-.553z"></path></svg></span>赞</button></div></div></div></div><div><div class="css-8j5fyx"><div class="css-1jll2aj"><div class="Popover"><div id="Popover49-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover49-content"><a href="https://www.zhihu.com/people/ceff05619b2a2206960d57b0ad2791af" target="_blank" class="css-1d3mfcn"><img class="Avatar css-1qchsfe" src="./后处理效率问题和Tile-Based GPU - 知乎_files/v2-578535b731d14d93a031e43b1ff3be50_l(1).jpg" srcset="https://picx.zhimg.com/v2-578535b731d14d93a031e43b1ff3be50_l.jpg?source=06d4cd63 2x" alt="YiQiuuu" loading="lazy"></a></div></div></div><div class="css-14nvvry"><div class="css-1besdh8"><div class="css-dza3t2"><div class="css-1tww9qq"><div class="Popover"><div id="Popover50-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover50-content"><a href="https://www.zhihu.com/people/ceff05619b2a2206960d57b0ad2791af" target="_blank" class="css-o7lu8j">YiQiuuu</a></div></div><span class="css-18biwo">​<svg viewBox="0 0 24 24" class="css-13tpca3" width="18" height="18"><svg viewBox="0 0 24 24" x="-3" y="-3" fill="#FFFFFF" width="30" height="30"><path d="M3.56231227,13.8535307 C2.40051305,12.768677 2.41398885,11.0669203 3.59484487,9.99979213 L3.59222085,9.99654885 C4.26730143,9.45036719 4.79446755,8.21005186 4.7184197,7.34453784 L4.72305873,7.34412719 C4.66942824,5.75539997 5.8824188,4.56066914 7.47188965,4.64242381 L7.47229112,4.6386236 C8.33515314,4.72977993 9.58467253,4.22534048 10.1426329,3.55925173 L10.1462611,3.56228565 C11.2316055,2.40008701 12.9353108,2.41394456 14.0015072,3.59634088 L14.0047263,3.59374004 C14.5498229,4.26841874 15.7896857,4.79521622 16.6545744,4.71844347 L16.6549836,4.72304294 C18.245027,4.66894057 19.4396947,5.88213996 19.3575031,7.47241135 L19.3623099,7.47292747 C19.2704388,8.3358681 19.7742711,9.58421483 20.4407199,10.1424506 L20.437686,10.1460789 C21.5997217,11.2312209 21.5860695,12.9345218 20.4042441,14.0007396 L20.4072865,14.0045125 C19.7325967,14.5495925 19.2055209,15.7896954 19.2815865,16.6561959 L19.2770449,16.6565978 C19.3315454,18.2453037 18.1173775,19.4393568 16.5274188,19.3571512 L16.5269029,19.3619539 C15.6647098,19.270083 14.415408,19.7741709 13.8573671,20.4403558 L13.8537409,20.4373235 C12.76842,21.5995708 11.0650432,21.5864553 9.99899434,20.4039226 L9.99527367,20.406923 C9.45025436,19.7323399 8.21017638,19.2051872 7.34461983,19.2812352 L7.344304,19.2776405 C5.75448683,19.3312904 4.55977145,18.1170085 4.64254978,16.527117 L4.63769921,16.5265942 C4.72957031,15.6644394 4.22547659,14.4151814 3.55928015,13.8571569 L3.56231227,13.8535307 Z"></path></svg><path d="M2.63951518,13.3895441 C3.70763333,14.2842292 4.44777637,16.1226061 4.30075305,17.5023312 L4.32211542,17.3063047 C4.17509209,18.6910561 5.17786655,19.7063729 6.5613937,19.5844846 L6.364106,19.6008202 C7.75140298,19.4789319 9.57474349,20.2554985 10.4468305,21.3349009 L10.3224262,21.1803415 C11.1982831,22.2647703 12.6257916,22.2723098 13.5167278,21.2079863 L13.3898102,21.3600325 C14.2845162,20.2919393 16.1229361,19.5518136 17.5026934,19.6988334 L17.3054057,19.6774716 C18.6914461,19.8244915 19.7067866,18.8217404 19.5836389,17.4395022 L19.6012314,17.6367853 C19.4793403,16.2482641 20.255925,14.4249662 21.3353526,13.5528995 L21.1807897,13.677301 C22.2639871,12.8014646 22.2727834,11.3739894 21.2084351,10.483074 L21.3604848,10.6099886 C20.2923667,9.71530351 19.5522236,7.87818322 19.6992469,6.49720154 L19.6778846,6.69448464 C19.8249079,5.30847665 18.8221335,4.2944164 17.4386063,4.41630468 L17.635894,4.39871256 C16.248597,4.52185742 14.4252565,3.74529084 13.5531695,2.66588842 L13.6775738,2.81919121 C12.8017169,1.73601905 11.3742084,1.72722299 10.4832722,2.79154644 L10.6101898,2.63950024 C9.71548377,3.70759343 7.87706394,4.44771919 6.49730661,4.30195588 L6.69459432,4.32206116 C5.30855394,4.17504128 4.29447,5.17904888 4.41636114,6.56128713 L4.3987686,6.36400404 C4.52065973,7.75126861 3.74407501,9.57456653 2.66464737,10.4478898 L2.81921035,10.3222318 C1.73601288,11.1993248 1.72721662,12.6255433 2.79156494,13.5164587 L2.63951518,13.3895441 Z" fill="#0066FF"></path><svg width="12" height="12" viewBox="0 0 24 24" data-new-api="CheckFill24" data-old-api="Check" fill="#fff" x="6" y="6" class="Zi Zi--Check"><path d="M21.864 5.347a1.25 1.25 0 01.04 1.767L10.976 18.537a1.35 1.35 0 01-1.965-.014L2.584 11.6a1.25 1.25 0 011.832-1.702l5.598 6.029L20.096 5.386a1.25 1.25 0 011.767-.04z" fill-rule="evenodd" clip-rule="evenodd"></path></svg></svg></span></div><svg width="12" height="12" viewBox="0 0 16 16" data-new-api="ArrowRightAlt16" data-old-api="ArrowRightAlt16" class="ZDI ZDI--ArrowRightAlt16 css-5hz1ob" fill="currentColor"><path d="M10.727 7.48a.63.63 0 010 1.039l-4.299 2.88c-.399.268-.926-.028-.926-.519V5.12c0-.491.527-.787.926-.52l4.299 2.881z"></path></svg><div class="css-1tww9qq"><div class="Popover"><div id="Popover51-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover51-content"><a href="https://www.zhihu.com/people/43c732233e159de27760c47f70c536c0" target="_blank" class="css-o7lu8j">litmin</a></div></div></div></div><svg width="16" height="16" viewBox="0 0 24 24" data-new-api="Dots24" data-old-api="Dots24" class="ZDI ZDI--Dots24 css-1jofpfq" fill="currentColor"><path d="M5.34 12a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0zm8.325 0a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0zm8.325 0a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0z"></path></svg></div><div class="CommentContent css-1ygdre8"><p>因为我遇到了差不多的优化问题 (飙泪笑)</p></div><div class="css-dbby2p"><div class="css-82fsyv"><div class="css-12cl38p">2020-06-10</div></div><div class="css-18opwoy"><button type="button" class="Button  css-1o56bgb"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="ChatBubbleFill24" data-old-api="ChatBubbleFill24" class="ZDI ZDI--ChatBubbleFill24 css-15ro776" fill="currentColor"><path d="M12 2.75a9.25 9.25 0 104.737 17.197l2.643.817a1 1 0 001.25-1.25l-.8-2.588A9.25 9.25 0 0012 2.75z" fill-rule="evenodd" clip-rule="evenodd"></path></svg></span>回复</button><button type="button" class="Button css-h1yvwn" style="transform: none;"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="ThumbFill24" data-old-api="ThumbFill24" class="ZDI ZDI--ThumbFill24 css-15ro776" fill="currentColor"><path d="M8.5 4.078c0-1.834 1.986-2.979 3.573-2.06a4.826 4.826 0 012.379 4.71l-.114 1.022h3.581c2.53 0 4.334 2.454 3.58 4.868l-1.823 5.833a3.784 3.784 0 01-3.848 2.64c-2.372-.147-6.042-.341-8.828-.341H4.5A1.75 1.75 0 012.75 19V9.5c0-.967.784-1.75 1.75-1.75h.637a3.418 3.418 0 003.19-2.191c.115-.296.173-.611.173-.928v-.553z"></path></svg></span>1</button></div></div></div></div></div><div><div class="css-8j5fyx"><div class="css-1jll2aj"><div class="Popover"><div id="Popover52-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover52-content"><a href="https://www.zhihu.com/people/ceff05619b2a2206960d57b0ad2791af" target="_blank" class="css-1d3mfcn"><img class="Avatar css-1qchsfe" src="./后处理效率问题和Tile-Based GPU - 知乎_files/v2-578535b731d14d93a031e43b1ff3be50_l(1).jpg" srcset="https://picx.zhimg.com/v2-578535b731d14d93a031e43b1ff3be50_l.jpg?source=06d4cd63 2x" alt="YiQiuuu" loading="lazy"></a></div></div></div><div class="css-14nvvry"><div class="css-1besdh8"><div class="css-dza3t2"><div class="css-1tww9qq"><div class="Popover"><div id="Popover53-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover53-content"><a href="https://www.zhihu.com/people/ceff05619b2a2206960d57b0ad2791af" target="_blank" class="css-o7lu8j">YiQiuuu</a></div></div><span class="css-18biwo">​<svg viewBox="0 0 24 24" class="css-13tpca3" width="18" height="18"><svg viewBox="0 0 24 24" x="-3" y="-3" fill="#FFFFFF" width="30" height="30"><path d="M3.56231227,13.8535307 C2.40051305,12.768677 2.41398885,11.0669203 3.59484487,9.99979213 L3.59222085,9.99654885 C4.26730143,9.45036719 4.79446755,8.21005186 4.7184197,7.34453784 L4.72305873,7.34412719 C4.66942824,5.75539997 5.8824188,4.56066914 7.47188965,4.64242381 L7.47229112,4.6386236 C8.33515314,4.72977993 9.58467253,4.22534048 10.1426329,3.55925173 L10.1462611,3.56228565 C11.2316055,2.40008701 12.9353108,2.41394456 14.0015072,3.59634088 L14.0047263,3.59374004 C14.5498229,4.26841874 15.7896857,4.79521622 16.6545744,4.71844347 L16.6549836,4.72304294 C18.245027,4.66894057 19.4396947,5.88213996 19.3575031,7.47241135 L19.3623099,7.47292747 C19.2704388,8.3358681 19.7742711,9.58421483 20.4407199,10.1424506 L20.437686,10.1460789 C21.5997217,11.2312209 21.5860695,12.9345218 20.4042441,14.0007396 L20.4072865,14.0045125 C19.7325967,14.5495925 19.2055209,15.7896954 19.2815865,16.6561959 L19.2770449,16.6565978 C19.3315454,18.2453037 18.1173775,19.4393568 16.5274188,19.3571512 L16.5269029,19.3619539 C15.6647098,19.270083 14.415408,19.7741709 13.8573671,20.4403558 L13.8537409,20.4373235 C12.76842,21.5995708 11.0650432,21.5864553 9.99899434,20.4039226 L9.99527367,20.406923 C9.45025436,19.7323399 8.21017638,19.2051872 7.34461983,19.2812352 L7.344304,19.2776405 C5.75448683,19.3312904 4.55977145,18.1170085 4.64254978,16.527117 L4.63769921,16.5265942 C4.72957031,15.6644394 4.22547659,14.4151814 3.55928015,13.8571569 L3.56231227,13.8535307 Z"></path></svg><path d="M2.63951518,13.3895441 C3.70763333,14.2842292 4.44777637,16.1226061 4.30075305,17.5023312 L4.32211542,17.3063047 C4.17509209,18.6910561 5.17786655,19.7063729 6.5613937,19.5844846 L6.364106,19.6008202 C7.75140298,19.4789319 9.57474349,20.2554985 10.4468305,21.3349009 L10.3224262,21.1803415 C11.1982831,22.2647703 12.6257916,22.2723098 13.5167278,21.2079863 L13.3898102,21.3600325 C14.2845162,20.2919393 16.1229361,19.5518136 17.5026934,19.6988334 L17.3054057,19.6774716 C18.6914461,19.8244915 19.7067866,18.8217404 19.5836389,17.4395022 L19.6012314,17.6367853 C19.4793403,16.2482641 20.255925,14.4249662 21.3353526,13.5528995 L21.1807897,13.677301 C22.2639871,12.8014646 22.2727834,11.3739894 21.2084351,10.483074 L21.3604848,10.6099886 C20.2923667,9.71530351 19.5522236,7.87818322 19.6992469,6.49720154 L19.6778846,6.69448464 C19.8249079,5.30847665 18.8221335,4.2944164 17.4386063,4.41630468 L17.635894,4.39871256 C16.248597,4.52185742 14.4252565,3.74529084 13.5531695,2.66588842 L13.6775738,2.81919121 C12.8017169,1.73601905 11.3742084,1.72722299 10.4832722,2.79154644 L10.6101898,2.63950024 C9.71548377,3.70759343 7.87706394,4.44771919 6.49730661,4.30195588 L6.69459432,4.32206116 C5.30855394,4.17504128 4.29447,5.17904888 4.41636114,6.56128713 L4.3987686,6.36400404 C4.52065973,7.75126861 3.74407501,9.57456653 2.66464737,10.4478898 L2.81921035,10.3222318 C1.73601288,11.1993248 1.72721662,12.6255433 2.79156494,13.5164587 L2.63951518,13.3895441 Z" fill="#0066FF"></path><svg width="12" height="12" viewBox="0 0 24 24" data-new-api="CheckFill24" data-old-api="Check" fill="#fff" x="6" y="6" class="Zi Zi--Check"><path d="M21.864 5.347a1.25 1.25 0 01.04 1.767L10.976 18.537a1.35 1.35 0 01-1.965-.014L2.584 11.6a1.25 1.25 0 011.832-1.702l5.598 6.029L20.096 5.386a1.25 1.25 0 011.767-.04z" fill-rule="evenodd" clip-rule="evenodd"></path></svg></svg></span></div><svg width="12" height="12" viewBox="0 0 16 16" data-new-api="ArrowRightAlt16" data-old-api="ArrowRightAlt16" class="ZDI ZDI--ArrowRightAlt16 css-5hz1ob" fill="currentColor"><path d="M10.727 7.48a.63.63 0 010 1.039l-4.299 2.88c-.399.268-.926-.028-.926-.519V5.12c0-.491.527-.787.926-.52l4.299 2.881z"></path></svg><div class="css-1tww9qq"><div class="Popover"><div id="Popover54-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover54-content"><a href="https://www.zhihu.com/people/43c732233e159de27760c47f70c536c0" target="_blank" class="css-o7lu8j">litmin</a></div></div></div></div><svg width="16" height="16" viewBox="0 0 24 24" data-new-api="Dots24" data-old-api="Dots24" class="ZDI ZDI--Dots24 css-1jofpfq" fill="currentColor"><path d="M5.34 12a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0zm8.325 0a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0zm8.325 0a1.665 1.665 0 11-3.33 0 1.665 1.665 0 013.33 0z"></path></svg></div><div class="CommentContent css-1ygdre8"><p>get</p></div><div class="css-dbby2p"><div class="css-82fsyv"><div class="css-12cl38p">2020-06-11</div></div><div class="css-18opwoy"><button type="button" class="Button  css-1o56bgb"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="ChatBubbleFill24" data-old-api="ChatBubbleFill24" class="ZDI ZDI--ChatBubbleFill24 css-15ro776" fill="currentColor"><path d="M12 2.75a9.25 9.25 0 104.737 17.197l2.643.817a1 1 0 001.25-1.25l-.8-2.588A9.25 9.25 0 0012 2.75z" fill-rule="evenodd" clip-rule="evenodd"></path></svg></span>回复</button><button type="button" class="Button css-h1yvwn" style="transform: none;"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" data-new-api="ThumbFill24" data-old-api="ThumbFill24" class="ZDI ZDI--ThumbFill24 css-15ro776" fill="currentColor"><path d="M8.5 4.078c0-1.834 1.986-2.979 3.573-2.06a4.826 4.826 0 012.379 4.71l-.114 1.022h3.581c2.53 0 4.334 2.454 3.58 4.868l-1.823 5.833a3.784 3.784 0 01-3.848 2.64c-2.372-.147-6.042-.341-8.828-.341H4.5A1.75 1.75 0 012.75 19V9.5c0-.967.784-1.75 1.75-1.75h.637a3.418 3.418 0 003.19-2.191c.115-.296.173-.611.173-.928v-.553z"></path></svg></span>赞</button></div></div></div></div></div><button type="button" class="Button css-1p04wnp">展开其他 3 条回复<span style="display: inline-flex; align-items: center;">​<svg width="24" height="24" viewBox="0 0 24 24" data-new-api="ArrowRightSmall24" data-old-api="ArrowRightSmall24" class="ZDI ZDI--ArrowRightSmall24" fill="currentColor"><path d="M13.248 12l-4.025 3.78a.684.684 0 000 1.01.796.796 0 001.075 0l4.42-4.15a.867.867 0 000-1.28l-4.42-4.15a.796.796 0 00-1.075 0 .684.684 0 000 1.01L13.248 12z" fill-rule="evenodd" clip-rule="evenodd"></path></svg></span></button></div><div></div></div></div></div></div><div class="css-l8iyjs"></div><div class="css-805ti0" style="position: relative; box-shadow: 0px 0px;"><div><div class="css-59erns"><img class="Avatar css-1oi6kgx" src="./后处理效率问题和Tile-Based GPU - 知乎_files/v2-ef69d369588e9764f9252225e6dc29ce_l.jpg" srcset="https://picx.zhimg.com/v2-ef69d369588e9764f9252225e6dc29ce_l.jpg?source=32738c0c 2x"><div class="css-x0pxoz"><div class="css-i6bazn"><div class="css-1ryozpy"><div class="InputLike css-ip4bff Editable"><div class="Dropzone Editable-content RichText RichText--editable RichText--clearBoth ztext" style="min-height: 38px;"><div class="DraftEditor-root"><div class="public-DraftEditorPlaceholder-root"><div class="public-DraftEditorPlaceholder-inner" id="placeholder-18he5" style="white-space: pre-wrap;">写评论 | TC130 等 3 个人关注了作者</div></div><div class="DraftEditor-editorContainer"><div aria-describedby="placeholder-18he5" class="notranslate public-DraftEditor-content" contenteditable="true" role="textbox" spellcheck="true" tabindex="0" style="outline: none; user-select: text; white-space: pre-wrap; overflow-wrap: break-word;"><div data-contents="true"><div class="Editable-unstyled" data-block="true" data-editor="18he5" data-offset-key="83ek0-0-0"><div data-offset-key="83ek0-0-0" class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr"><span data-offset-key="83ek0-0-0"><br data-text="true"></span></div></div></div></div></div></div></div><div></div><input multiple="" type="file" accept="image/webp,image/jpg,image/jpeg,image/png,image/gif" style="display: none;"></div></div></div></div></div></div></div><div></div></div></div></div><div class="PostIndex-Contributions" data-za-detail-view-path-module="ColumnList" data-za-detail-view-path-module_name="文章被以下专栏收录" data-za-extra-module="{}"><h3 class="BlockTitle">文章被以下专栏收录</h3><ul><div class="ContentItem Column-ColumnItem"><div class="ContentItem-main"><div class="ContentItem-image"><a class="ColumnLink" href="https://www.zhihu.com/column/c_1159801832779427840"><div class="Popover"><div id="Popover7-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover7-content"><img class="Avatar Avatar--medium Avatar--round" width="40" height="40" src="./后处理效率问题和Tile-Based GPU - 知乎_files/v2-211fd86085177bbb9654c4b44ca965a9_xs.jpg" srcset="https://pic2.zhimg.com/v2-211fd86085177bbb9654c4b44ca965a9_l.jpg?source=172ae18b 2x" alt="Computer Graphics"></div></div></a></div><div class="ContentItem-head"><h2 class="ContentItem-title"><span><a class="ColumnLink ColumnItem-Title" href="https://www.zhihu.com/column/c_1159801832779427840"><div class="Popover"><div id="Popover8-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover8-content">Computer Graphics</div></div></a></span></h2></div></div></div></ul></div><div role="complementary" aria-label="推荐阅读" class="Recommendations-Main" style="width: 1581px;"><h3 class="BlockTitle Recommendations-BlockTitle">推荐阅读</h3><ul class="Recommendations-List"><button class="PagingButton PagingButton-Previous" disabled="" data-za-detail-view-path-module="Unknown" data-za-detail-view-path-module_name="推荐阅读" data-za-extra-module="{}"><svg width="40" height="40" viewBox="0 0 24 24" data-new-api="ArrowLeftSmall24" data-old-api="ArrowLeft" fill="#d3d3d3" class="Zi Zi--ArrowLeft"><path d="M10.752 12l4.025-3.78a.684.684 0 000-1.01.796.796 0 00-1.075 0l-4.42 4.15a.866.866 0 000 1.28l4.42 4.15a.796.796 0 001.075 0 .684.684 0 000-1.01L10.752 12z" fill-rule="evenodd" clip-rule="evenodd"></path></svg></button><a href="https://zhuanlan.zhihu.com/p/26504405" class="PostItem"><div><img src="./后处理效率问题和Tile-Based GPU - 知乎_files/v2-a6d9c343fa47f460d7e7ede3a43b4e1e_250x0.jpg" srcset="https://pic1.zhimg.com/v2-a6d9c343fa47f460d7e7ede3a43b4e1e_qhd.jpg?source=172ae18b 2x" class="PostItem-TitleImage" alt="数据驱动的理财产品业务增长探索"><h1 class="PostItem-Title">数据驱动的理财产品业务增长探索</h1><div class="PostItem-Footer"><span>诸葛io</span><span class="PostItem-FooterTitle">发表于诸葛io</span></div></div></a><a href="https://zhuanlan.zhihu.com/p/37952597" class="PostItem"><div><img src="./后处理效率问题和Tile-Based GPU - 知乎_files/v2-00c109d04a7f0db70217c75719b7f8da_250x0.jpg" srcset="https://pic2.zhimg.com/v2-00c109d04a7f0db70217c75719b7f8da_qhd.jpg?source=172ae18b 2x" class="PostItem-TitleImage" alt="剥龙虾就是社会底层？5A写字楼里吃盒饭的才是！"><h1 class="PostItem-Title">剥龙虾就是社会底层？5A写字楼里吃盒饭的才是！</h1><div class="PostItem-Footer"><span>老斯基</span><span class="PostItem-FooterTitle"></span></div></div></a><a href="https://zhuanlan.zhihu.com/p/47288966" class="PostItem"><div><img src="./后处理效率问题和Tile-Based GPU - 知乎_files/v2-e9575e3a3faa3e3ebe3e75a79ffd4f78_250x0.jpg" srcset="https://picx.zhimg.com/v2-e9575e3a3faa3e3ebe3e75a79ffd4f78_qhd.jpg?source=172ae18b 2x" class="PostItem-TitleImage" alt="小目标：想要一套会自己修图剪辑做特效的成熟Adobe"><h1 class="PostItem-Title">小目标：想要一套会自己修图剪辑做特效的成熟Adobe</h1><div class="PostItem-Footer"><span>动画学术趴</span><span class="PostItem-FooterTitle">发表于动画学术趴</span></div></div></a><a href="https://zhuanlan.zhihu.com/p/261085540" class="PostItem"><div><img src="./后处理效率问题和Tile-Based GPU - 知乎_files/v2-46331c802568cc7ab9615d3f684ea490_250x0.jpg" srcset="https://pica.zhimg.com/v2-46331c802568cc7ab9615d3f684ea490_qhd.jpg?source=172ae18b 2x" class="PostItem-TitleImage" alt="里弗斯光速再就业！他能拯救费城吗？"><h1 class="PostItem-Title">里弗斯光速再就业！他能拯救费城吗？</h1><div class="PostItem-Footer"><span>酒鬼申屠</span><span class="PostItem-FooterTitle">发表于申屠说</span></div></div></a><button class="PagingButton PagingButton-Next" data-za-detail-view-path-module="Unknown" data-za-detail-view-path-module_name="推荐阅读" data-za-extra-module="{}"><svg width="40" height="40" viewBox="0 0 24 24" data-new-api="ArrowRightSmall24" data-old-api="ArrowRight" fill="#d3d3d3" class="Zi Zi--ArrowRight"><path d="M13.248 12l-4.025 3.78a.684.684 0 000 1.01.796.796 0 001.075 0l4.42-4.15a.867.867 0 000-1.28l-4.42-4.15a.796.796 0 00-1.075 0 .684.684 0 000 1.01L13.248 12z" fill-rule="evenodd" clip-rule="evenodd"></path></svg></button></ul></div></div></div></main><div role="complementary"><div class="CornerButtons"><div class="CornerAnimayedFlex"><button data-tooltip="回到顶部" data-tooltip-position="left" data-tooltip-will-hide-on-click="true" aria-label="回到顶部" type="button" class="Button CornerButton Button--plain"><svg width="24" height="24" viewBox="0 0 24 24" data-new-api="ArrowShapeUpwardFill24" data-old-api="BackToTop" aria-label="回到顶部" class="Zi Zi--BackToTop" fill="currentColor"><path d="M13.204 3.107a1.75 1.75 0 00-2.408 0L3.806 9.73c-1.148 1.088-.378 3.02 1.204 3.02h2.24V20c0 .966.784 1.75 1.75 1.75h6A1.75 1.75 0 0016.75 20v-7.25h2.24c1.582 0 2.353-1.932 1.204-3.02l-6.99-6.623z" fill-rule="evenodd" clip-rule="evenodd"></path></svg></button></div></div></div></div></div><script id="js-clientConfig" type="text/json">{"fetchRoot":{"www":"https:\u002F\u002Fwww.zhihu.com","api":"https:\u002F\u002Fapi.zhihu.com","lens":"https:\u002F\u002Flens.zhihu.com","zhuanlan":"https:\u002F\u002Fzhuanlan.zhihu.com","walletpay":"https:\u002F\u002Fwalletpay.zhihu.com","captcha":"https:\u002F\u002Fcaptcha.zhihu.com","vzuu":"https:\u002F\u002Fv.vzuu.com","openapi":"https:\u002F\u002Fopenapi.zhihu.com","svip":"https:\u002F\u002Fsvip.zhihu.com"},"host":"zhihu.com","protocol":"https:","wwwHost":"www.zhihu.com","videoHost":"video.zhihu.com","allowSignUp":true}</script><script id="js-initialData" type="text/json">{"initialState":{"common":{"ask":{}},"loading":{"global":{"count":0},"local":{"env\u002FgetIpinfo\u002F":false,"article\u002Fget\u002F":false,"brand\u002FgetUrl\u002F":false,"article\u002FloadPostSearchEntity\u002F":false}},"club":{"tags":{},"admins":{"data":[]},"members":{"data":[]},"profile":{},"checkin":{},"comments":{"paging":{},"loading":{},"meta":{},"ids":{}},"postList":{"paging":{},"loading":{},"ids":{}},"recommend":{"data":[]},"silences":{"data":[]},"application":{"profile":null}},"entities":{"users":{"9b939bd116cd066ce372288d50538da8":{"uid":1437579071195046000,"userType":"people","id":"9b939bd116cd066ce372288d50538da8"},"litmin-53":{"isFollowed":false,"avatarUrlTemplate":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-55b1b652e26ee47698ff08310b794dec.jpg?source=172ae18b","uid":"693220638734708736","userType":"people","isFollowing":false,"urlToken":"litmin-53","id":"43c732233e159de27760c47f70c536c0","description":"","name":"litmin","isAdvertiser":false,"headline":"","gender":1,"url":"\u002Fpeople\u002F43c732233e159de27760c47f70c536c0","avatarUrl":"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-55b1b652e26ee47698ff08310b794dec_l.jpg?source=172ae18b","isOrg":false,"type":"people","badge":[],"badgeV2":{"title":"","mergedBadges":[],"detailBadges":[],"icon":"","nightIcon":""},"exposedMedal":{"medalId":"972460827463282688","medalName":"表示赞同","avatarUrl":"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-1df62083e2d16ce5e82c3049e5d11e14_r.png?source=172ae18b","miniAvatarUrl":"https:\u002F\u002Fpicx.zhimg.com\u002Fv2-1df62083e2d16ce5e82c3049e5d11e14_l.png?source=172ae18b","description":"赞同 1000 次","medalAvatarFrame":""}}},"questions":{},"answers":{},"articles":{"135285010":{"trackUrl":["https:\u002F\u002Fsugar.zhihu.com\u002Fplutus_adreaper\u002Fcontent_monitor_log?si=__SESSIONID__&ti=__ATOKEN__&at=view&pf=__OS__&ed=BiBUKF0xBSkqGGpRA2R6CFx1ClFNgfJERpdg&idfa=__IDFA__&imei=__IMEI__&androidid=__ANDROIDID__&oaid=__OAID__&ci=__CREATIVEID__&zid=__ZONEID__"],"entityWords":[{"name":"多通道算法","mention":"多通道算法","matchorder":1,"begin":2200,"end":2205,"entityid":0,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Computer","score":0,"attachedInfoBytes":"sgJbCg\u002FlpJrpgJrpgZPnrpfms5USCENvbXB1dGVyGJgRIJ0RKAE1AAAAADoHYXJ0aWNsZUAASABSJDU4MWQ1MGY5LTcyNzQtNDNhNi1hNDE3LWMzMDA4MTViZjJlMw==","isOnAB":false,"isNatural":1},{"name":"on-chip","mention":"on-chip","matchorder":3,"begin":2436,"end":2443,"entityid":0,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Commodity","score":0,"attachedInfoBytes":"sgJUCgdvbi1jaGlwEglDb21tb2RpdHkYhBMgixMoAzUAAAAAOgdhcnRpY2xlQABIAFIkNTgxZDUwZjktNzI3NC00M2E2LWE0MTctYzMwMDgxNWJmMmUz","isOnAB":false,"isNatural":1},{"name":"常量寄存器","mention":"常量寄存器","matchorder":1,"begin":2832,"end":2837,"entityid":0,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"OtherTerm","score":0,"attachedInfoBytes":"sgJcCg\u002FluLjph4\u002Flr4TlrZjlmagSCU90aGVyVGVybRiQFiCVFigBNQAAAAA6B2FydGljbGVAAEgAUiQ1ODFkNTBmOS03Mjc0LTQzYTYtYTQxNy1jMzAwODE1YmYyZTM=","isOnAB":false,"isNatural":1},{"name":"Clear值","mention":"Clear值","matchorder":1,"begin":4834,"end":4840,"entityid":0,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Math","score":0,"attachedInfoBytes":"sgJQCghDbGVhcuWAvBIETWF0aBjiJSDoJSgBNQAAAAA6B2FydGljbGVAAEgAUiQ1ODFkNTBmOS03Mjc0LTQzYTYtYTQxNy1jMzAwODE1YmYyZTM=","isOnAB":false,"isNatural":1},{"name":"the render buffer","mention":"the render buffer","matchorder":1,"begin":6513,"end":6530,"entityid":0,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Medical","score":0,"attachedInfoBytes":"sgJcChF0aGUgcmVuZGVyIGJ1ZmZlchIHTWVkaWNhbBjxMiCCMygBNQAAAAA6B2FydGljbGVAAEgAUiQ1ODFkNTBmOS03Mjc0LTQzYTYtYTQxNy1jMzAwODE1YmYyZTM=","isOnAB":false,"isNatural":1},{"name":"片元着色器","mention":"片元着色器","matchorder":1,"begin":1813,"end":1818,"entityid":0,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"OtherTerm","score":0,"attachedInfoBytes":"sgJcCg\u002FniYflhYPnnYDoibLlmagSCU90aGVyVGVybRiVDiCaDigBNQAAAAA6B2FydGljbGVAAEgAUiQ1ODFkNTBmOS03Mjc0LTQzYTYtYTQxNy1jMzAwODE1YmYyZTM=","isOnAB":false,"isNatural":1},{"name":"Alpha通道","mention":"Alpha通道","matchorder":1,"begin":365,"end":372,"entityid":0,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Computer","score":0,"attachedInfoBytes":"sgJXCgtBbHBoYemAmumBkxIIQ29tcHV0ZXIY7QIg9AIoATUAAAAAOgdhcnRpY2xlQABIAFIkNTgxZDUwZjktNzI3NC00M2E2LWE0MTctYzMwMDgxNWJmMmUz","isOnAB":false,"isNatural":1},{"name":"颜色缓存","mention":"颜色缓存","matchorder":1,"begin":2097,"end":2101,"entityid":0,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"OtherTerm","score":0,"attachedInfoBytes":"sgJZCgzpopzoibLnvJPlrZgSCU90aGVyVGVybRixECC1ECgBNQAAAAA6B2FydGljbGVAAEgAUiQ1ODFkNTBmOS03Mjc0LTQzYTYtYTQxNy1jMzAwODE1YmYyZTM=","isOnAB":false,"isNatural":1},{"name":"chip存储器","mention":"chip存储器","matchorder":5,"begin":2439,"end":2446,"entityid":0,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Commodity","score":0,"attachedInfoBytes":"sgJaCg1jaGlw5a2Y5YKo5ZmoEglDb21tb2RpdHkYhxMgjhMoBTUAAAAAOgdhcnRpY2xlQABIAFIkNTgxZDUwZjktNzI3NC00M2E2LWE0MTctYzMwMDgxNWJmMmUz","isOnAB":false,"isNatural":1},{"name":"Early-Z","mention":"Early-Z","matchorder":1,"begin":1780,"end":1787,"entityid":0,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Medical","score":0,"attachedInfoBytes":"sgJSCgdFYXJseS1aEgdNZWRpY2FsGPQNIPsNKAE1AAAAADoHYXJ0aWNsZUAASABSJDU4MWQ1MGY5LTcyNzQtNDNhNi1hNDE3LWMzMDA4MTViZjJlMw==","isOnAB":false,"isNatural":1},{"name":"Tile-based GPU","mention":"Tile-based GPU","matchorder":2,"begin":61,"end":75,"entityid":0,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"OtherTerm","score":0,"attachedInfoBytes":"sgJZCg5UaWxlLWJhc2VkIEdQVRIJT3RoZXJUZXJtGD0gSygCNQAAAAA6B2FydGljbGVAAEgAUiQ1ODFkNTBmOS03Mjc0LTQzYTYtYTQxNy1jMzAwODE1YmYyZTM=","isOnAB":false,"isNatural":1},{"name":"参数缓存","mention":"参数缓存","matchorder":1,"begin":2933,"end":2937,"entityid":0,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"OtherTerm","score":0,"attachedInfoBytes":"sgJZCgzlj4LmlbDnvJPlrZgSCU90aGVyVGVybRj1FiD5FigBNQAAAAA6B2FydGljbGVAAEgAUiQ1ODFkNTBmOS03Mjc0LTQzYTYtYTQxNy1jMzAwODE1YmYyZTM=","isOnAB":false,"isNatural":1},{"name":"深度模板测试","mention":"深度模板测试","matchorder":1,"begin":3590,"end":3596,"entityid":0,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Computer","score":0,"attachedInfoBytes":"sgJeChLmt7HluqbmqKHmnb\u002FmtYvor5USCENvbXB1dGVyGIYcIIwcKAE1AAAAADoHYXJ0aWNsZUAASABSJDU4MWQ1MGY5LTcyNzQtNDNhNi1hNDE3LWMzMDA4MTViZjJlMw==","isOnAB":false,"isNatural":1},{"name":"cmd.SetRenderTarget","mention":"cmd.SetRenderTarget","matchorder":1,"begin":2535,"end":2554,"entityid":0,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Math","score":0,"attachedInfoBytes":"sgJbChNjbWQuU2V0UmVuZGVyVGFyZ2V0EgRNYXRoGOcTIPoTKAE1AAAAADoHYXJ0aWNsZUAASABSJDU4MWQ1MGY5LTcyNzQtNDNhNi1hNDE3LWMzMDA4MTViZjJlMw==","isOnAB":false,"isNatural":1},{"name":"Depth\u002FStencil缓存","mention":"Depth\u002FStencil缓存","matchorder":1,"begin":2046,"end":2061,"entityid":0,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Computer","score":0,"attachedInfoBytes":"sgJfChNEZXB0aC9TdGVuY2ls57yT5a2YEghDb21wdXRlchj+DyCNECgBNQAAAAA6B2FydGljbGVAAEgAUiQ1ODFkNTBmOS03Mjc0LTQzYTYtYTQxNy1jMzAwODE1YmYyZTM=","isOnAB":false,"isNatural":1}],"id":135285010,"title":"后处理效率问题和Tile-Based GPU","type":"article","articleType":"normal","excerptTitle":"","url":"https:\u002F\u002Fzhuanlan.zhihu.com\u002Fp\u002F135285010","imageUrl":"","titleImage":"","excerpt":"\u003Cimg src=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-21e39efcf075e3c4095f8ec6783ca30c_200x112.png\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2094\" data-rawheight=\"2058\" data-watermark=\"watermark\" data-original-src=\"v2-21e39efcf075e3c4095f8ec6783ca30c\" data-watermark-src=\"v2-38a7fa7c46a15c96c00f28af888c0548\" data-private-watermark-src=\"\" class=\"origin_image inline-img zh-lightbox-thumb\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-21e39efcf075e3c4095f8ec6783ca30c_r.png\"\u002F\u003E之前优化后处理时，发现自己预期应该快的方式反而慢了，这里总结一下这个问题以及Tile-based GPU的特性。 \u003Cb\u003E后处理效率问题\u003C\u002Fb\u003E这个后处理要实现的功能是针对场景中的某些部分应用这个效果，其他部分保持不变，在Unity中实现，手机上测试。 \u003Cb\u003E优化前的流程是：\u003C\u002Fb\u003E场景…","created":1590041518,"updated":1591854606,"author":{"isFollowed":false,"avatarUrlTemplate":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-55b1b652e26ee47698ff08310b794dec.jpg?source=172ae18b","uid":"693220638734708736","userType":"people","isFollowing":false,"urlToken":"litmin-53","id":"43c732233e159de27760c47f70c536c0","description":"","name":"litmin","isAdvertiser":false,"headline":"","gender":1,"url":"\u002Fpeople\u002F43c732233e159de27760c47f70c536c0","avatarUrl":"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-55b1b652e26ee47698ff08310b794dec_l.jpg?source=172ae18b","isOrg":false,"type":"people","badge":[],"badgeV2":{"title":"","mergedBadges":[],"detailBadges":[],"icon":"","nightIcon":""},"exposedMedal":{"medalId":"972460827463282688","medalName":"表示赞同","avatarUrl":"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-1df62083e2d16ce5e82c3049e5d11e14_r.png?source=172ae18b","miniAvatarUrl":"https:\u002F\u002Fpicx.zhimg.com\u002Fv2-1df62083e2d16ce5e82c3049e5d11e14_l.png?source=172ae18b","description":"赞同 1000 次","medalAvatarFrame":""}},"commentPermission":"all","copyrightPermission":"need_review","state":"published","ipInfo":"","imageWidth":0,"imageHeight":0,"content":"\u003Cp data-pid=\"nSz2OKK7\"\u003E之前优化后处理时，发现自己预期应该快的方式反而慢了，这里总结一下这个问题以及Tile-based GPU的特性。\u003C\u002Fp\u003E\u003Ch2\u003E\u003Cb\u003E后处理效率问题\u003C\u002Fb\u003E\u003C\u002Fh2\u003E\u003Cp data-pid=\"oTlUALXD\"\u003E这个后处理要实现的功能是针对场景中的某些部分应用这个效果，其他部分保持不变，在Unity中实现，手机上测试。\u003C\u002Fp\u003E\u003Cp data-pid=\"FTPnCMJl\"\u003E\u003Cb\u003E优化前的流程是：\u003C\u002Fb\u003E\u003C\u002Fp\u003E\u003Col\u003E\u003Cli data-pid=\"AuQkeiqJ\"\u003E场景渲染到\u003Cb\u003ERT1\u003C\u002Fb\u003E中，同时需要后处理的部分使用Stencil标记出来。\u003C\u002Fli\u003E\u003Cli data-pid=\"RDRQeLrP\"\u003E保持\u003Cb\u003ERT\u003C\u002Fb\u003E不变，把Stencil信息渲染到\u003Cb\u003ERT1\u003C\u002Fb\u003E的Alpha通道，因为Alpha通道在之后没有其他作用。\u003C\u002Fli\u003E\u003Cli data-pid=\"tpjkK6x1\"\u003E切换至\u003Cb\u003ERT3\u003C\u002Fb\u003E，将\u003Cb\u003ERT1\u003C\u002Fb\u003E的颜色经过\u003Cb\u003E后处理步骤1\u003C\u002Fb\u003E输出。\u003C\u002Fli\u003E\u003Cli data-pid=\"5NerNmI7\"\u003E切换至\u003Cb\u003ERT2\u003C\u002Fb\u003E，采样\u003Cb\u003ERT1\u003C\u002Fb\u003E的Alpha通道来区分这个区域是否需要后处理：\u003C\u002Fli\u003E\u003Col\u003E\u003Cli data-pid=\"UlTfjPW1\"\u003E该像素需要后处理：\u003Cb\u003ERT3\u003C\u002Fb\u003E的RGB作为输入，经过\u003Cb\u003E后处理步骤2\u003C\u002Fb\u003E计算输出颜色\u003C\u002Fli\u003E\u003Cli data-pid=\"KlRhtf4Q\"\u003E该像素不需要后处理：直接输出\u003Cb\u003ERT1\u003C\u002Fb\u003E的RGB\u003C\u002Fli\u003E\u003C\u002Fol\u003E\u003Cli data-pid=\"LGT3zyxm\"\u003E切换至\u003Cb\u003EBackBuffer\u003C\u002Fb\u003E，把\u003Cb\u003ERT2\u003C\u002Fb\u003E的结果Blit到BackBuffer\u003C\u002Fli\u003E\u003C\u002Fol\u003E\u003Cp data-pid=\"ylDGWb15\"\u003E\u003Cb\u003E优化后的流程是：\u003C\u002Fb\u003E\u003C\u002Fp\u003E\u003Col\u003E\u003Cli data-pid=\"z8zDuPIl\"\u003E场景渲染到\u003Cb\u003ERT1\u003C\u002Fb\u003E中，同时需要后处理的部分使用Stencil标记出来。\u003C\u002Fli\u003E\u003Cli data-pid=\"1YIbEwHk\"\u003E切换至\u003Cb\u003ERT3\u003C\u002Fb\u003E，将\u003Cb\u003ERT1\u003C\u002Fb\u003E的颜色经过\u003Cb\u003E后处理步骤1\u003C\u002Fb\u003E输出。\u003C\u002Fli\u003E\u003Cli data-pid=\"5aDs2zbl\"\u003EColor Buffer切换至\u003Cb\u003ERT2\u003C\u002Fb\u003E，Depth Buffer切换至\u003Cb\u003ERT1\u003C\u002Fb\u003E，直接使用\u003Cb\u003ERT1\u003C\u002Fb\u003E的Stencil信息：\u003C\u002Fli\u003E\u003Col\u003E\u003Cli data-pid=\"0B_G0RIs\"\u003EStencil Test通过：\u003Cb\u003ERT3\u003C\u002Fb\u003E的RGB作为输入，输出经过\u003Cb\u003E后处理步骤2\u003C\u002Fb\u003E计算的颜色\u003C\u002Fli\u003E\u003Cli data-pid=\"jcdaERdZ\"\u003EStencil Test失败：直接输出\u003Cb\u003ERT1\u003C\u002Fb\u003E的RGB\u003C\u002Fli\u003E\u003C\u002Fol\u003E\u003Cli data-pid=\"zd-2Of_z\"\u003E切换至\u003Cb\u003EBackBuffer\u003C\u002Fb\u003E，把\u003Cb\u003ERT2\u003C\u002Fb\u003E的结果Blit到BackBuffer。\u003C\u002Fli\u003E\u003C\u002Fol\u003E\u003Cp data-pid=\"ULDyfGsf\"\u003E画个图可能更容易看明白)：\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-38a7fa7c46a15c96c00f28af888c0548_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2094\" data-rawheight=\"2058\" class=\"origin_image zh-lightbox-thumb\" width=\"2094\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-38a7fa7c46a15c96c00f28af888c0548_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;2094&#39; height=&#39;2058&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2094\" data-rawheight=\"2058\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"2094\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-38a7fa7c46a15c96c00f28af888c0548_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-38a7fa7c46a15c96c00f28af888c0548_b.jpg\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp data-pid=\"1sn4YOeJ\"\u003E想要优化的部分就是把Stencil信息渲染到Alpha通道这一步，优化前的做法多了这一步而且在第四步中还出现了分支，优化后减少了这一步，而且测试后可以确认Early-Z是生效的，这样Stencil Test通不过还减少了片元着色器的计算，怎么说都要比优化前快呀。问题就出在了带宽上，下面来了解一下Tile-based GPU的特性。\u003C\u002Fp\u003E\u003Ch2\u003E\u003Cb\u003ETile-based GPU\u003C\u002Fb\u003E\u003C\u002Fh2\u003E\u003Cp data-pid=\"zg9wXaVR\"\u003E以前的渲染方式叫做\u003Cb\u003EIMR\u003C\u002Fb\u003E（Immediate Mode Rendering），IMR的优势是每个primitive直接提交渲染，pipeline没有中断，渲染速度快，劣势就在于带宽压力和功耗较大，原因如下：，比如每个像素需要从Depth\u002FStencil缓存读取值进行比较，然后把新值写回Depth\u002FStencil，同时把颜色写入颜色缓存，这里就传输了12byte(color = 4byte, d\u002Fs = 4byte, d\u002Fs读写，Color只写（不考虑混合），一共就是4+4+4=12byte)。如果加上overdraw、颜色混合、多通道算法、多采样抗锯齿，一个像素传输100byte是一件轻轻松松的事情。\u003C\u002Fp\u003E\u003Cp data-pid=\"mpn5wzDu\"\u003E对于PC、主机平台，由于显卡有独立的显存，GPU读写的速度比较快，这样的带宽还可以接受，但是移动平台上GPU是跟CPU共享内存，速度要慢很多，所以大多数移动GPU使用了\u003Cb\u003ETBR\u003C\u002Fb\u003E（Tile-based Rendering）。\u003C\u002Fp\u003E\u003Cp data-pid=\"ADk73sqE\"\u003ETBR把FrameBuffer从主内存移到了一块超高速的on-chip存储器上，这个on-chip存储器和计算发生的芯片无限接近，计算芯片就能以远低于常规消耗的电能来读写。通常on-chip存储器很小，如果要做的很大就需要很多硅片，所以on-chip存储器在有的GPU小到只能容纳16x16像素，我们把这个on-chip存储器叫做Tile Buffer根据on-chip存储器的大小，TBR会把FrameBuffer分成一个个Tile，把整个渲染管线大概分成两步。\u003C\u002Fp\u003E\u003Cp data-pid=\"XAZPGxHw\"\u003E\u003Cb\u003E第一步决定每个Tile被哪些三角形影响。\u003C\u002Fb\u003E\u003C\u002Fp\u003E\u003Cp data-pid=\"Y3JBRvIT\"\u003E当三角形提交渲染后，它不会被立刻光栅化，而是通过顶点位置来决定哪个Tile会被这个三角形影响，从而将这个三角形保存进\u003Cb\u003E内存中的这个Tile的数据结构\u003C\u002Fb\u003E中，同时每个三角形还需要将当时的渲染状态打包，包括片元着色器、常量寄存器、深度测试等，我们可以把这些收集的数据成为Frame Data（ ARM文档把这些数据叫做多边形列表polygon lists，而Imagination Technologies文档把他们称为参数缓存parameter buffer ）。\u003C\u002Fp\u003E\u003Cp data-pid=\"njjDo-LF\"\u003E这一步需要进行顶点着色器的处理，因为它会影响三角形的位置。\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-715b939e6644ae756dcf4ffd22d0199f_b.gif\" data-size=\"normal\" data-rawwidth=\"512\" data-rawheight=\"480\" data-thumbnail=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-715b939e6644ae756dcf4ffd22d0199f_b.jpg\" class=\"origin_image zh-lightbox-thumb\" width=\"512\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-715b939e6644ae756dcf4ffd22d0199f_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;512&#39; height=&#39;480&#39;&gt;&lt;\u002Fsvg&gt;\" data-size=\"normal\" data-rawwidth=\"512\" data-rawheight=\"480\" data-thumbnail=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-715b939e6644ae756dcf4ffd22d0199f_b.jpg\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"512\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-715b939e6644ae756dcf4ffd22d0199f_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-715b939e6644ae756dcf4ffd22d0199f_b.gif\"\u002F\u003E\u003Cfigcaption\u003E上图中的下半部分展示了每个三角形的提交，上半部分展示了每个Tile相关的三角形\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp data-pid=\"KL_xBhRN\"\u003E\u003Cb\u003E第二步光栅化每个Tile。\u003C\u002Fb\u003E\u003C\u002Fp\u003E\u003Cp data-pid=\"Ym6WHpS4\"\u003E根据内存中每个Tile记录的数据渲染每个Tile。渲染某个Tile时，颜色首先写入Tile Buffer，深度模板测试、颜色混合也是发生在Tile Buffer，当渲染完这个Tile时再把颜色从Tile Buffer写入内存中的FrameBuffer。\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-98a8e94d11e9ff846b9540459e0c7a36_b.gif\" data-size=\"normal\" data-rawwidth=\"512\" data-rawheight=\"259\" data-thumbnail=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-98a8e94d11e9ff846b9540459e0c7a36_b.jpg\" class=\"origin_image zh-lightbox-thumb\" width=\"512\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-98a8e94d11e9ff846b9540459e0c7a36_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;512&#39; height=&#39;259&#39;&gt;&lt;\u002Fsvg&gt;\" data-size=\"normal\" data-rawwidth=\"512\" data-rawheight=\"259\" data-thumbnail=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-98a8e94d11e9ff846b9540459e0c7a36_b.jpg\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"512\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-98a8e94d11e9ff846b9540459e0c7a36_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-98a8e94d11e9ff846b9540459e0c7a36_b.gif\"\u002F\u003E\u003Cfigcaption\u003E渲染每一个Tile，左边是颜色缓冲，右边是深度缓冲\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp class=\"ztext-empty-paragraph\"\u003E\u003Cbr\u002F\u003E\u003C\u002Fp\u003E\u003Cp data-pid=\"3KLtszti\"\u003E整个渲染管线如下：\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-2eee62dbc6851b67eee82738c5741bbf_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"517\" data-rawheight=\"754\" class=\"origin_image zh-lightbox-thumb\" width=\"517\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-2eee62dbc6851b67eee82738c5741bbf_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;517&#39; height=&#39;754&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"517\" data-rawheight=\"754\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"517\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-2eee62dbc6851b67eee82738c5741bbf_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-2eee62dbc6851b67eee82738c5741bbf_b.jpg\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp data-pid=\"h05Uituq\"\u003E带宽的减少大大提高了光栅化的速度，但是因为所有的几何处理完成以后才能开始光栅化，所以TBR跟IMR相比是有延迟的。在一些TBR硬件中，这两个阶段是Pipelined。因此任何限制并行性的操作都会降低效率，比如一个顶点着色器依赖于上一帧的输出，还有一个纹理每帧都在修改但是不是双缓冲的。\u003C\u002Fp\u003E\u003Cp data-pid=\"f0PrSjss\"\u003E还要注意的是如果几何数据非常复杂，就会使写入内存的Frame Data过度膨胀，反而导致比IMR更慢。\u003C\u002Fp\u003E\u003Cp data-pid=\"oZ3STUoG\"\u003E\u003Cb\u003E尽可能Clear\u003C\u002Fb\u003E\u003C\u002Fp\u003E\u003Cp data-pid=\"YIM50jD4\"\u003E在IMR中，一个glClear调用会把Clear值写入FrameBuffer，这个代价是较高的，因此以前会用各种技巧避免这个操作，比如当知道接下来绘制会完全覆盖FrameBuffer，就不调用Clear颜色缓冲。\u003C\u002Fp\u003E\u003Cp data-pid=\"H3oKRgTk\"\u003E但是在TBR中，当切换FrameBuffer时要尽可能对每个Attachment调用Clear，这明确告诉驱动我们不需要之前的状态，就能避免从memory读取数据。同时还要避免把深度写入内存，因为深度只在渲染的时候使用。\u003C\u002Fp\u003E\u003Ch2\u003E\u003Cb\u003E后处理问题分析\u003C\u002Fb\u003E\u003C\u002Fh2\u003E\u003Cp data-pid=\"-R76nZKh\"\u003E了解了Tile-based GPU的特性，我遇到的后处理问题就能迎刃而解。优化之前的第二步是把Stencil信息渲染到\u003Cb\u003ERT1\u003C\u002Fb\u003E的Alpha通道，在此之前的FrameBuffer也是\u003Cb\u003ERT1\u003C\u002Fb\u003E的Color Buffer和Depth Buffer，没有发生FrameBuffer的切换。优化之后第三步切换至\u003Cb\u003ERT1\u003C\u002Fb\u003E，因为要使用\u003Cb\u003ERT1\u003C\u002Fb\u003E之前的Stencil信息，并且在之前颜色的基础上叠加后处理部分，所以使用如下方式切换至RT1：\u003C\u002Fp\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-csharp\"\u003E\u003Cspan class=\"n\"\u003Ecmd\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003ESetRenderTarget\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ert\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003ERenderBufferLoadAction\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003ELoad\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E  \u003Cspan class=\"n\"\u003ERenderBufferStoreAction\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EStore\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E    \u003Cspan class=\"c1\"\u003E\u002F\u002F cmd是Unity中的CommandBuffer\n\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp data-pid=\"-pzmRVEH\"\u003E这会导致渲染时从memory中把\u003Cb\u003ERT1\u003C\u002Fb\u003E的数据读取到Tile Buffer，增加大量的带宽，自然效率也会变慢很多。\u003C\u002Fp\u003E\u003Cp data-pid=\"ny8oY4yl\"\u003EUnity中的RenderBufferLoadAction的注释也说明了这一点：\u003C\u002Fp\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-text\"\u003E\u002F\u002F\n\u002F\u002F 摘要:\n\u002F\u002F     This enum describes what should be done on the render target when it is activated\n\u002F\u002F     (loaded).\npublic enum RenderBufferLoadAction\n{\n    \u002F\u002F\n    \u002F\u002F 摘要:\n    \u002F\u002F     When this RenderBuffer is activated, preserve the existing contents of it. This\n    \u002F\u002F     setting is expensive on tile-based GPUs and should be avoided whenever possible.\n    Load = 0,\n    \u002F\u002F\n    \u002F\u002F 摘要:\n    \u002F\u002F     Upon activating the render buffer, clear its contents. Currently only works together\n    \u002F\u002F     with the RenderPass API.\n    Clear = 1,\n    \u002F\u002F\n    \u002F\u002F 摘要:\n    \u002F\u002F     When this RenderBuffer is activated, the GPU is instructed not to care about\n    \u002F\u002F     the existing contents of that RenderBuffer. On tile-based GPUs this means that\n    \u002F\u002F     the RenderBuffer contents do not need to be loaded into the tile memory, providing\n    \u002F\u002F     a performance boost.\n    DontCare = 2\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch2\u003E\u003Cb\u003EFuture\u003C\u002Fb\u003E\u003C\u002Fh2\u003E\u003Cp data-pid=\"LYNNLImH\"\u003E类似后处理这种多个Pass的渲染（前面的Pass先写入内存，后面的Pass使用前面Pass的结果进行渲染），由于带宽原因都很难在移动平台使用，一个典型例子就是延迟渲染。\u003C\u002Fp\u003E\u003Cp data-pid=\"BfeTT20M\"\u003E不过我发现OpenGL引入了两个扩展：\u003Cb\u003EFrameBuffer Fetch\u003C\u002Fb\u003E和\u003Cb\u003EPixel Local Storage\u003C\u002Fb\u003E，\u003Cb\u003EFramebuffer\u003C\u002Fb\u003E \u003Cb\u003Efetch\u003C\u002Fb\u003E是一个片元着色器的扩展,它可以让你读取这个片元以前的颜色，\u003Cb\u003EPixel Local Storage\u003C\u002Fb\u003E可以把数据保留在On-chip存储上，利用这两个扩展可以解决多Pass的带宽问题，但是不是API标准支持的，现有设备没有普遍支持。\u003C\u002Fp\u003E\u003Cp data-pid=\"56i0gGqC\"\u003E现代图形API中，\u003Cb\u003EVulkan\u003C\u002Fb\u003E的\u003Cb\u003ESubPass\u003C\u002Fb\u003E和\u003Cb\u003EDirect3D \u003C\u002Fb\u003E12的\u003Cb\u003ERender Pass\u003C\u002Fb\u003E的概念也可以解决多Pass渲染的带宽问题，并且IMR也可以从中受益，而且是标准API支持的。随着支持现代图形API设备的普及，类似流程的渲染将不存在带宽问题。:)\u003C\u002Fp\u003E\u003Ch2\u003E\u003Cb\u003EReference\u003C\u002Fb\u003E\u003C\u002Fh2\u003E\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fwww.cnblogs.com\u002Fgameknife\u002Fp\u002F3515714.html\" data-draft-node=\"block\" data-draft-type=\"link-card\" data-image=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-36c360508f6ee07bfa10f9ab9e4d27bd_180x120.jpg\" data-image-width=\"717\" data-image-height=\"586\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003EOpenGL Insights 阅读有感 - Tile Based架构下的性能调校 翻译\u003C\u002Fa\u003E\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fdeveloper.samsung.com\u002Fgalaxy-gamedev\u002Fresources\u002Farticles\u002Fgpu-framebuffer.html\" data-draft-node=\"block\" data-draft-type=\"link-card\" data-image=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-fa498928f3572183017037401909ba19_180x120.jpg\" data-image-width=\"1280\" data-image-height=\"630\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003EGameDev - Build |  Samsung Developers\u003C\u002Fa\u003E\u003Cp\u003E\u003C\u002Fp\u003E","adminClosedComment":false,"topics":[{"url":"https:\u002F\u002Fwww.zhihu.com\u002Fapi\u002Fv4\u002Ftopics\u002F19570894","type":"topic","id":"19570894","name":"图形处理器（GPU）"},{"url":"https:\u002F\u002Fwww.zhihu.com\u002Fapi\u002Fv4\u002Ftopics\u002F19570902","type":"topic","id":"19570902","name":"GPU 通用计算"},{"url":"https:\u002F\u002Fwww.zhihu.com\u002Fapi\u002Fv4\u002Ftopics\u002F19613730","type":"topic","id":"19613730","name":"计算机图形学"}],"voteupCount":103,"voting":0,"heavyUpStatus":"allow_heavy_up","column":{"description":"","canManage":false,"intro":"","isFollowing":false,"urlToken":"c_1159801832779427840","id":"c_1159801832779427840","articlesCount":23,"acceptSubmission":true,"title":"Computer Graphics","url":"https:\u002F\u002Fzhuanlan.zhihu.com\u002Fc_1159801832779427840","commentPermission":"all","created":1569298305,"updated":1591425006,"imageUrl":"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-211fd86085177bbb9654c4b44ca965a9_720w.jpg?source=172ae18b","author":{"isFollowed":false,"avatarUrlTemplate":"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-55b1b652e26ee47698ff08310b794dec.jpg?source=172ae18b","uid":"693220638734708736","userType":"people","isFollowing":false,"urlToken":"litmin-53","id":"43c732233e159de27760c47f70c536c0","description":"","name":"litmin","isAdvertiser":false,"headline":"","gender":1,"url":"\u002Fpeople\u002F43c732233e159de27760c47f70c536c0","avatarUrl":"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-55b1b652e26ee47698ff08310b794dec_l.jpg?source=172ae18b","isOrg":false,"type":"people"},"followers":71,"type":"column"},"commentCount":22,"contributions":[{"id":24047998,"state":"accepted","type":"first_publish","column":{"description":"","canManage":false,"intro":"","isFollowing":false,"urlToken":"c_1159801832779427840","id":"c_1159801832779427840","articlesCount":23,"acceptSubmission":true,"title":"Computer Graphics","url":"https:\u002F\u002Fzhuanlan.zhihu.com\u002Fc_1159801832779427840","commentPermission":"all","created":1569298305,"updated":1591425006,"imageUrl":"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-211fd86085177bbb9654c4b44ca965a9_720w.jpg?source=172ae18b","author":{"isFollowed":false,"avatarUrlTemplate":"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-55b1b652e26ee47698ff08310b794dec.jpg?source=172ae18b","uid":"693220638734708736","userType":"people","isFollowing":false,"urlToken":"litmin-53","id":"43c732233e159de27760c47f70c536c0","description":"","name":"litmin","isAdvertiser":false,"headline":"","gender":1,"url":"\u002Fpeople\u002F43c732233e159de27760c47f70c536c0","avatarUrl":"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-55b1b652e26ee47698ff08310b794dec_l.jpg?source=172ae18b","isOrg":false,"type":"people"},"followers":71,"type":"column"}}],"isTitleImageFullScreen":false,"upvotedFollowees":[],"commercialInfo":{"isCommercial":false,"plugin":{}},"suggestEdit":{"status":false,"reason":"","tip":"","url":"","title":""},"reason":"","annotationAction":[],"canTip":false,"tipjarorsCount":0,"isLabeled":false,"hasPublishingDraft":false,"isFavorited":false,"favlistsCount":180,"isNormal":true,"status":0,"shareText":"后处理效率问题和Tile-Based GPU - 来自知乎专栏「Computer Graphics」，作者: litmin https:\u002F\u002Fzhuanlan.zhihu.com\u002Fp\u002F135285010 （想看更多？下载 @知乎 App：http:\u002F\u002Fweibo.com\u002Fp\u002F100404711598 ）","canComment":{"status":true,"reason":""},"mcnFpShow":-1,"isVisible":true,"isLiked":false,"likedCount":13,"hasColumn":true,"republishers":[],"isNewLinkCard":true,"emojiReaction":{"cryFaceCount":0,"cryFaceHasSet":false,"hugCount":0,"hugHasSet":false,"likeCount":13,"likeHasSet":false,"onlookerCount":0,"onlookerHasSet":false},"abParam":{"shangyebiaoshi":"1"},"attachedInfo":"kgIkCgkxMTgxOTQ2NTMSCTEzNTI4NTAxMBgHIgpJTUFHRV9URVhU","shareGuide":{"hasPositiveBubble":false,"hasTimeBubble":false,"hitShareGuideCluster":false},"settings":{"tableOfContents":{"enabled":false}},"canReference":false,"reactionInstruction":{}}},"columns":{"c_1159801832779427840":{"description":"","canManage":false,"intro":"","isFollowing":false,"urlToken":"c_1159801832779427840","id":"c_1159801832779427840","articlesCount":23,"acceptSubmission":true,"title":"Computer Graphics","url":"https:\u002F\u002Fzhuanlan.zhihu.com\u002Fc_1159801832779427840","commentPermission":"all","created":1569298305,"updated":1591425006,"imageUrl":"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-211fd86085177bbb9654c4b44ca965a9_720w.jpg?source=172ae18b","author":{"isFollowed":false,"avatarUrlTemplate":"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-55b1b652e26ee47698ff08310b794dec.jpg?source=172ae18b","uid":"693220638734708736","userType":"people","isFollowing":false,"urlToken":"litmin-53","id":"43c732233e159de27760c47f70c536c0","description":"","name":"litmin","isAdvertiser":false,"headline":"","gender":1,"url":"\u002Fpeople\u002F43c732233e159de27760c47f70c536c0","avatarUrl":"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-55b1b652e26ee47698ff08310b794dec_l.jpg?source=172ae18b","isOrg":false,"type":"people"},"followers":71,"type":"column"}},"topics":{},"roundtables":{},"favlists":{},"comments":{},"notifications":{},"ebooks":{},"activities":{},"feeds":{},"pins":{},"promotions":{},"drafts":{},"chats":{},"posts":{},"clubs":{},"clubTags":{},"zvideos":{},"zvideoContributions":{},"briefs":{},"eduCourses":{}},"currentUser":"9b939bd116cd066ce372288d50538da8","account":{"lockLevel":{},"unlockTicketStatus":false,"unlockTicket":null,"challenge":[],"errorStatus":false,"message":"","isFetching":false,"accountInfo":{},"urlToken":{"loading":false},"cardUserInfo":{"vipInfo":{}},"handleWidget":{},"widgetList":[],"userWidgetId":""},"settings":{"socialBind":null,"inboxMsg":null,"notification":{},"email":{},"privacyFlag":null,"blockedUsers":{"isFetching":false,"paging":{"pageNo":1,"pageSize":6},"data":[]},"blockedFollowees":{"isFetching":false,"paging":{"pageNo":1,"pageSize":6},"data":[]},"ignoredTopics":{"isFetching":false,"paging":{"pageNo":1,"pageSize":6},"data":[]},"restrictedTopics":null,"laboratory":{}},"notification":{},"people":{"profileStatus":{},"activitiesByUser":{},"answersByUser":{},"answersSortByVotesByUser":{},"answersIncludedByUser":{},"votedAnswersByUser":{},"thankedAnswersByUser":{},"voteAnswersByUser":{},"thankAnswersByUser":{},"topicAnswersByUser":{},"zvideosByUser":{},"articlesByUser":{},"articlesSortByVotesByUser":{},"articlesIncludedByUser":{},"pinsByUser":{},"questionsByUser":{},"commercialQuestionsByUser":{},"favlistsByUser":{},"followingByUser":{},"followersByUser":{},"mutualsByUser":{},"followingColumnsByUser":{},"followingQuestionsByUser":{},"followingFavlistsByUser":{},"followingTopicsByUser":{},"publicationsByUser":{},"columnsByUser":{},"allFavlistsByUser":{},"brands":null,"creationsByUser":{},"creationsSortByVotesByUser":{},"creationsFeed":{},"infinity":{},"batchUsers":{},"profileInfinity":null},"env":{"ab":{"config":{"params":[{"id":"vessay_v2_sdk","type":"Int","value":"1","layerId":"Qtkm"},{"id":"pc_ppt_publish","type":"Int","value":"1","layerId":"pc_ppt_publish"},{"id":"titlepagechoose","type":"Int","value":"0","layerId":"titlepagechoose"},{"id":"helpcenter_pc","type":"Int","value":"1","layerId":"helpcenter_pc"},{"id":"pc_comment","type":"Int","value":"1","layerId":"EsOR"},{"id":"pc_follow","type":"Int","value":"1","layerId":"pc_follow"},{"id":"draftsentrance","type":"Int","value":"1","layerId":"draftsentrance"}],"experiments":[{"expId":"pc_ppt_publish-2_v2","expPrefix":"pc_ppt_publish","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"helpcenter_pc-2_v11","expPrefix":"helpcenter_pc","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"pc_comment-2_v4","expPrefix":"pc_comment","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"pc_follow-3_v5","expPrefix":"pc_follow","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false}],"chains":[{"chainId":"_all_"}],"encodedParams":"CtoBGwA\u002FAEcAtABpAWoBdAE7AswC1wLYAk8DUAOgA6EDogO3A\u002FMD9AMzBIwEjQSmBNYEEQUpBTIFUQWLBYwFngUWBjAGMQZ+BusGJwdXB3cHeAebB9gH3AfdBycIZwh0CHYIeQjFCNoI5Qg\u002FCUIJVAlVCWAJjQmrCcMJxAnFCcYJxwnICckJygnLCcwJ0QnlCfEJ9AkECkkKZQprCpgKpQqpCr4KxArUCt0K7Qr9CikLOws8C0MLRgtxC3YLhQuHC40LuQvAC9cL4AvlC+YLOAxxDI8MrAzDDMkMtQsSbQAAAAEAAQACAwAAAAAAAAAAAAAABAQABAAAAQEAAAEAAAEAAAABAAAAAAICAAQAAAYAAAEAAQAAAAAAAAAAAAAAAAAAAAAABwMAAAAAAQAAAAABAQAHAQEAAQAAAAAABQAAAgAAAAIAAAAAAAM="},"triggers":{}},"userAgent":{"Edge":false,"IE":false,"Wechat":false,"Weibo":false,"QQ":false,"MQQBrowser":false,"Qzone":false,"Mobile":false,"Android":false,"iOS":false,"isAppleDevice":false,"Zhihu":false,"ZhihuHybrid":false,"isBot":false,"Tablet":false,"UC":false,"Quark":false,"Sogou":false,"Qihoo":false,"Baidu":false,"BaiduApp":false,"Safari":false,"GoogleBot":false,"AndroidDaily":false,"iOSDaily":false,"WxMiniProgram":false,"BaiduMiniProgram":false,"QQMiniProgram":false,"JDMiniProgram":false,"isWebView":false,"isMiniProgram":false,"origin":"Mozilla\u002F5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\u002F537.36 (KHTML, like Gecko) Chrome\u002F104.0.5112.102 Safari\u002F537.36 Edg\u002F104.0.1293.63"},"appViewConfig":{},"ctx":{"path":"\u002Fp\u002F135285010","query":{},"href":"http:\u002F\u002Fzhuanlan.zhihu.com\u002Fp\u002F135285010","host":"zhuanlan.zhihu.com"},"trafficSource":"production","edition":{"beijing":false,"baidu":false,"sogou":false,"baiduBeijing":false,"sogouBeijing":false,"sogouInput":false,"baiduSearch":false,"googleSearch":false,"shenma":false,"miniProgram":false,"xiaomi":false},"theme":"light","appHeaderTheme":{"current":"normal","disable":true,"normal":{"bgColor":"GBK99A"},"custom":{"bgColor":"GBK99A"}},"enableShortcut":true,"referer":"https:\u002F\u002Fcn.bing.com\u002F","xUDId":"ADAds6PjzxOPTmBuqv67KXaBAfLOjNtmuyk=","mode":"ssr","conf":{},"xTrafficFreeOrigin":"","ipInfo":{"cityName":"上海","countryName":"中国","regionName":"上海","countryCode":"CN"},"logged":true,"vars":{"passThroughHeaders":{}}},"me":{"columnContributions":[]},"label":{"recognizerLists":{}},"ecommerce":{},"comments":{"pagination":{},"collapsed":{},"reverse":{},"reviewing":{},"conversation":{},"parent":{}},"commentsV2":{"stickers":[],"commentWithPicPermission":{},"notificationsComments":{},"pagination":{},"collapsed":{},"reverse":{},"reviewing":{},"conversation":{},"conversationMore":{},"parent":{}},"pushNotifications":{"default":{"isFetching":false,"isDrained":false,"ids":[]},"follow":{"isFetching":false,"isDrained":false,"ids":[]},"vote_thank":{"isFetching":false,"isDrained":false,"ids":[]},"currentTab":"default","notificationsCount":{"default":0,"follow":0,"vote_thank":0}},"messages":{"data":{},"currentTab":"common","messageCount":0},"register":{"registerValidateSucceeded":null,"registerValidateErrors":{},"registerConfirmError":null,"sendDigitsError":null,"registerConfirmSucceeded":null},"login":{"loginUnregisteredError":false,"loginBindWechatError":false,"loginConfirmError":null,"sendDigitsError":null,"needSMSIdentify":false,"validateDigitsError":false,"loginConfirmSucceeded":null,"qrcodeLoginToken":"","qrcodeLoginScanStatus":0,"qrcodeLoginError":null,"qrcodeLoginReturnNewToken":false},"switches":{},"captcha":{"captchaNeeded":false,"captchaValidated":false,"captchaValidationMessage":null,"loginCaptchaExpires":false},"sms":{"supportedCountries":[]},"chat":{"chats":{},"inbox":{"recents":{"isFetching":false,"isDrained":false,"isPrevDrained":false,"result":[],"next":null,"key":null},"strangers":{"isFetching":false,"isDrained":false,"isPrevDrained":false,"result":[],"next":null,"key":null},"friends":{"isFetching":false,"isDrained":false,"isPrevDrained":false,"result":[],"next":null,"key":null},"search":{"isFetching":false,"isDrained":false,"isPrevDrained":false,"result":[],"next":null,"key":null},"config":{"newCount":0,"strangerMessageSwitch":false,"strangerMessageUnread":false,"friendCount":0}},"global":{"isChatMqttExisted":false}},"emoticons":{"emoticonGroupList":[],"emoticonGroupDetail":{}},"creator":{"currentCreatorUrlToken":null,"homeData":{"recommendQuestions":[]},"tools":{"question":{"invitationCount":{"questionFolloweeCount":0,"questionTotalCount":0},"goodatTopics":[]},"customPromotion":{"itemLists":{}},"recommend":{"recommendTimes":{}}},"explore":{"academy":{"tabs":[],"article":{}}},"rights":[],"newRights":[],"rightsStatus":{},"levelUpperLimit":10,"account":{"growthLevel":{}},"mcn":{},"applyStatus":{},"videoSupport":{},"textBenefit":{},"mcnManage":{},"tasks":{},"newTasks":{"creatorTask":{"tasks":[],"des":[]}},"scoreInfo":{},"recentlyCreated":[],"analysis":{"all":{},"answer":{},"zvideo":{},"article":{},"pin":{},"singleContent":{}},"announcement":{},"bannerList":[],"school":{"tabs":[],"contents":[],"banner":null,"entities":{}},"creatorsRecommendInfo":{},"menusShowControlByServer":{"bVipRecomend":false,"creationRelationship":false},"income":{"aggregation":{}}},"answers":{"voters":{},"copyrightApplicants":{},"favlists":{},"newAnswer":{},"entityWords":{},"concernedUpvoters":{},"simpleConcernedUpvoters":{},"paidContent":{},"settings":{}},"recommendation":{"homeRecommendations":[]},"shareTexts":{},"articles":{"voters":{},"concernedUpvoters":{}},"previewPost":{},"favlists":{"relations":{}},"columns":{"voters":{}},"reward":{"answer":{},"article":{},"question":{}},"video":{"data":{},"shareVideoDetail":{},"last":{}},"topstory":{"recommend":{"isFetching":false,"isDrained":false,"afterId":0,"items":[],"next":null},"follow":{"isFetching":false,"isDrained":false,"afterId":0,"items":[],"next":null},"room":{"meta":{},"isFetching":false,"afterId":0,"items":[],"next":null},"followWonderful":{"isFetching":false,"isDrained":false,"afterId":0,"items":[],"next":null},"sidebar":null,"announcement":{},"hotList":[],"guestFeeds":{"isFetching":false,"isDrained":false,"afterId":0,"items":[],"next":null},"followExtra":{"isNewUser":null,"isFetched":false,"followCount":0,"followers":[]},"hotDaily":{"data":[],"paging":{}},"hotHighlight":{"isFetching":false,"isDrained":false,"data":[],"paging":{}},"banner":{},"commercialBanner":{"show":false,"banner":{},"trackData":{}},"video":{"items":[],"next":null,"isLoading":false,"isDrained":false}},"readStatus":{},"column":{},"requestColumn":{"categories":[],"error":null},"articleContribution":{"contributeRequests":[],"deleteContributeIdList":[],"handledContributeIdList":[],"recommendedColumns":[],"pinnedColumns":[],"sentContributeRequestsIdList":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"c_1159801832779427840"]},"columnContribution":{"contributeRequests":[],"autoInviteEnabled":false,"recommendedContributors":[],"contributionInvitation":null},"draftHistory":{"history":{},"drafts":{}},"upload":{},"articleDraft":{"titleImage":"","titleImageSize":{},"isTitleImageFullScreen":false,"canTitleImageFullScreen":false,"title":"","titleImageUploading":false,"error":"","content":"","draftLoading":false,"updating":false,"globalLoading":false,"pendingVideo":{"resource":null,"error":null},"deleteFail":{"fail":false},"recommendTopics":[],"selectedColumn":0,"articleDisclaimers":[]},"articleDrafts":{"isDrained":false,"isLoading":false,"items":[]},"columnAutocomplete":{"users":[],"friends":[]},"columnCollection":{},"userProfit":{"permission":{"permissionStatus":{"zhiZixuan":0,"recommend":-1,"task":0,"plugin":0,"infinity":0},"visible":false}},"mcn":{"bindInfo":{},"memberCategoryList":[],"producerList":[],"categoryList":[],"lists":{},"banners":{},"protocolStatus":{"isAgreedNew":true,"isAgreedOld":true},"probationCountdownDays":0},"zvideos":{"campaignVideoList":{},"campaigns":{},"tagoreCategory":[],"recommendations":{},"insertable":{},"recruit":{"form":{"platform":"","nickname":"","followerCount":"","domain":"","contact":""},"submited":false,"ranking":[]},"club":{},"qyActivityData":{},"talkActivityData":{},"party2022ActivityData":{},"batchVideos":{},"contribution":{"selectedContribution":null,"campaign":null,"configs":{},"contributionLists":{},"recommendQuestions":{"isLoading":true,"paging":{"isEnd":false,"isStart":true,"totals":0},"data":[]},"questionSearchResults":{"isLoading":true,"paging":{"isEnd":false,"isStart":true,"totals":0},"data":[]}},"creationReferences":{},"zvideoCollection":{},"zvideoGrant":{},"collectData":{"isFetching":false,"list":[]},"videoSource":{"isLoaded":false}},"republish":{},"commentPermission":{},"creatorRightStatus":{"list":[]}},"fetchHost":"www.zhihu.com","subAppName":"column"}</script><script crossorigin="" src="./后处理效率问题和Tile-Based GPU - 知乎_files/vendor.4bb309fcb0b4b803488b.js.download"></script><script crossorigin="" src="./后处理效率问题和Tile-Based GPU - 知乎_files/column.lib_09e9ad9b.21262d64298486ad44eb.js.download"></script><script crossorigin="" src="./后处理效率问题和Tile-Based GPU - 知乎_files/column.lib_79b5cf47.f8956abfad4f4f327db3.js.download"></script><script crossorigin="" src="./后处理效率问题和Tile-Based GPU - 知乎_files/column.lib_29107295.265b11df95ede39d9746.js.download"></script><script crossorigin="" src="./后处理效率问题和Tile-Based GPU - 知乎_files/column.lib_0ad37f8a.c3351c00973d585fabfd.js.download"></script><script crossorigin="" src="./后处理效率问题和Tile-Based GPU - 知乎_files/column.app.c5ec27102cfddc34a5df.js.download"></script><script defer="" src="./后处理效率问题和Tile-Based GPU - 知乎_files/aria.js.download"></script><script src="./后处理效率问题和Tile-Based GPU - 知乎_files/hm.js.download" async=""></script><script crossorigin="" src="./后处理效率问题和Tile-Based GPU - 知乎_files/zap.js.download"></script><script src="./后处理效率问题和Tile-Based GPU - 知乎_files/push.js.download"></script><div><div style="display: none;"><i>想来知乎工作？请发送邮件到 jobs@zhihu.com</i></div></div><div><div><div class="css-8pdeid"></div></div></div><script crossorigin="" src="./后处理效率问题和Tile-Based GPU - 知乎_files/emoticon.js.download"></script><div><div><div class="Editable-languageSuggestions" style="left: -1179px; top: -999px;"><div><div class="Popover"><label class="Editable-languageSuggestionsInput Input-wrapper"><input autocomplete="off" role="combobox" aria-expanded="false" aria-autocomplete="list" aria-activedescendant="AutoComplete17-0" id="Popover16-toggle" aria-haspopup="true" aria-owns="Popover16-content" class="Input" placeholder="选择语言" value=""><svg width="24" height="24" viewBox="0 0 24 24" data-new-api="ArrowUpDown24" data-old-api="Select" fill="#afbdcf" class="Zi Zi--Select"><path d="M12.53 3.47a.75.75 0 00-1.06 0l-5 5a.75.75 0 001.06 1.06L12 5.06l4.47 4.47a.75.75 0 101.06-1.06l-5-5zm-5 11a.75.75 0 00-1.06 1.06l5 5a.75.75 0 001.06 0l5-5a.75.75 0 10-1.06-1.06L12 18.94l-4.47-4.47z" fill-rule="evenodd" clip-rule="evenodd"></path></svg></label></div></div></div></div></div><div><div><div class="Editable-languageSuggestions" style="left: -1179px; top: -999px;"><div><div class="Popover"><label class="Editable-languageSuggestionsInput Input-wrapper"><input autocomplete="off" role="combobox" aria-expanded="false" aria-autocomplete="list" aria-activedescendant="AutoComplete56-0" id="Popover55-toggle" aria-haspopup="true" aria-owns="Popover55-content" class="Input" placeholder="选择语言" value=""><svg width="24" height="24" viewBox="0 0 24 24" data-new-api="ArrowUpDown24" data-old-api="Select" fill="#afbdcf" class="Zi Zi--Select"><path d="M12.53 3.47a.75.75 0 00-1.06 0l-5 5a.75.75 0 001.06 1.06L12 5.06l4.47 4.47a.75.75 0 101.06-1.06l-5-5zm-5 11a.75.75 0 00-1.06 1.06l5 5a.75.75 0 001.06 0l5-5a.75.75 0 10-1.06-1.06L12 18.94l-4.47-4.47z" fill-rule="evenodd" clip-rule="evenodd"></path></svg></label></div></div></div></div></div></body></html>